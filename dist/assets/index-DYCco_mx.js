(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function pl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function VE(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var vh={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function FE(){if(lv)return Do;lv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:r,key:l,ref:s!==void 0?s:null,props:a}}return Do.Fragment=e,Do.jsx=t,Do.jsxs=t,Do}var cv;function Qx(){return cv||(cv=1,vh.exports=FE()),vh.exports}var w=Qx(),xh={exports:{}},zo={},wh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function YE(){return uv||(uv=1,function(n){function e(U,Q){var le=U.length;U.push(Q);e:for(;0<le;){var pe=le-1>>>1,M=U[pe];if(0<s(M,Q))U[pe]=Q,U[le]=M,le=pe;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Q=U[0],le=U.pop();if(le!==Q){U[0]=le;e:for(var pe=0,M=U.length,F=M>>>1;pe<F;){var te=2*(pe+1)-1,Z=U[te],ce=te+1,Ne=U[ce];if(0>s(Z,le))ce<M&&0>s(Ne,Z)?(U[pe]=Ne,U[ce]=le,pe=ce):(U[pe]=Z,U[te]=le,pe=te);else if(ce<M&&0>s(Ne,le))U[pe]=Ne,U[ce]=le,pe=ce;else break e}}return Q}function s(U,Q){var le=U.sortIndex-Q.sortIndex;return le!==0?le:U.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,y=null,b=3,v=!1,x=!1,_=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function B(U){for(var Q=t(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=U)r(h),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(h)}}function D(U){if(_=!1,B(U),!x)if(t(d)!==null)x=!0,J||(J=!0,ve());else{var Q=t(h);Q!==null&&Ve(D,Q.startTime-U)}}var J=!1,G=-1,X=5,q=-1;function W(){return k?!0:!(n.unstable_now()-q<X)}function ne(){if(k=!1,J){var U=n.unstable_now();q=U;var Q=!0;try{e:{x=!1,_&&(_=!1,N(G),G=-1),v=!0;var le=b;try{t:{for(B(U),y=t(d);y!==null&&!(y.expirationTime>U&&W());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,b=y.priorityLevel;var M=pe(y.expirationTime<=U);if(U=n.unstable_now(),typeof M=="function"){y.callback=M,B(U),Q=!0;break t}y===t(d)&&r(d),B(U)}else r(d);y=t(d)}if(y!==null)Q=!0;else{var F=t(h);F!==null&&Ve(D,F.startTime-U),Q=!1}}break e}finally{y=null,b=le,v=!1}Q=void 0}}finally{Q?ve():J=!1}}}var ve;if(typeof O=="function")ve=function(){O(ne)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,it=Je.port2;Je.port1.onmessage=ne,ve=function(){it.postMessage(null)}}else ve=function(){E(ne,0)};function Ve(U,Q){G=E(function(){U(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(U){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var le=b;b=Q;try{return U()}finally{b=le}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var le=b;b=U;try{return Q()}finally{b=le}},n.unstable_scheduleCallback=function(U,Q,le){var pe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,U={id:p++,callback:Q,priorityLevel:U,startTime:le,expirationTime:M,sortIndex:-1},le>pe?(U.sortIndex=le,e(h,U),t(d)===null&&U===t(h)&&(_?(N(G),G=-1):_=!0,Ve(D,le-pe))):(U.sortIndex=M,e(d,U),x||v||(x=!0,J||(J=!0,ve()))),U},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(U){var Q=b;return function(){var le=b;b=Q;try{return U.apply(this,arguments)}finally{b=le}}}}(Sh)),Sh}var fv;function GE(){return fv||(fv=1,wh.exports=YE()),wh.exports}var _h={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function KE(){if(dv)return xe;dv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function k(M,F,te){this.props=M,this.context=F,this.refs=_,this.updater=te||v}k.prototype.isReactComponent={},k.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=k.prototype;function N(M,F,te){this.props=M,this.context=F,this.refs=_,this.updater=te||v}var O=N.prototype=new E;O.constructor=N,x(O,k.prototype),O.isPureReactComponent=!0;var B=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function G(M,F,te,Z,ce,Ne){return te=Ne.ref,{$$typeof:n,type:M,key:F,ref:te!==void 0?te:null,props:Ne}}function X(M,F){return G(M.type,F,void 0,void 0,void 0,M.props)}function q(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function W(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return F[te]})}var ne=/\/+/g;function ve(M,F){return typeof M=="object"&&M!==null&&M.key!=null?W(""+M.key):F.toString(36)}function Je(){}function it(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Je,Je):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ve(M,F,te,Z,ce){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var ye=!1;if(M===null)ye=!0;else switch(Ne){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(M.$$typeof){case n:case e:ye=!0;break;case p:return ye=M._init,Ve(ye(M._payload),F,te,Z,ce)}}if(ye)return ce=ce(M),ye=Z===""?"."+ve(M,0):Z,B(ce)?(te="",ye!=null&&(te=ye.replace(ne,"$&/")+"/"),Ve(ce,F,te,"",function(Cr){return Cr})):ce!=null&&(q(ce)&&(ce=X(ce,te+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(ne,"$&/")+"/")+ye)),F.push(ce)),1;ye=0;var Qt=Z===""?".":Z+":";if(B(M))for(var Fe=0;Fe<M.length;Fe++)Z=M[Fe],Ne=Qt+ve(Z,Fe),ye+=Ve(Z,F,te,Ne,ce);else if(Fe=b(M),typeof Fe=="function")for(M=Fe.call(M),Fe=0;!(Z=M.next()).done;)Z=Z.value,Ne=Qt+ve(Z,Fe++),ye+=Ve(Z,F,te,Ne,ce);else if(Ne==="object"){if(typeof M.then=="function")return Ve(it(M),F,te,Z,ce);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ye}function U(M,F,te){if(M==null)return M;var Z=[],ce=0;return Ve(M,Z,"","",function(Ne){return F.call(te,Ne,ce++)}),Z}function Q(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function pe(){}return xe.Children={map:U,forEach:function(M,F,te){U(M,function(){F.apply(this,arguments)},te)},count:function(M){var F=0;return U(M,function(){F++}),F},toArray:function(M){return U(M,function(F){return F})||[]},only:function(M){if(!q(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=k,xe.Fragment=t,xe.Profiler=s,xe.PureComponent=N,xe.StrictMode=r,xe.Suspense=d,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cloneElement=function(M,F,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Z=x({},M.props),ce=M.key,Ne=void 0;if(F!=null)for(ye in F.ref!==void 0&&(Ne=void 0),F.key!==void 0&&(ce=""+F.key),F)!J.call(F,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&F.ref===void 0||(Z[ye]=F[ye]);var ye=arguments.length-2;if(ye===1)Z.children=te;else if(1<ye){for(var Qt=Array(ye),Fe=0;Fe<ye;Fe++)Qt[Fe]=arguments[Fe+2];Z.children=Qt}return G(M.type,ce,void 0,void 0,Ne,Z)},xe.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},xe.createElement=function(M,F,te){var Z,ce={},Ne=null;if(F!=null)for(Z in F.key!==void 0&&(Ne=""+F.key),F)J.call(F,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=F[Z]);var ye=arguments.length-2;if(ye===1)ce.children=te;else if(1<ye){for(var Qt=Array(ye),Fe=0;Fe<ye;Fe++)Qt[Fe]=arguments[Fe+2];ce.children=Qt}if(M&&M.defaultProps)for(Z in ye=M.defaultProps,ye)ce[Z]===void 0&&(ce[Z]=ye[Z]);return G(M,Ne,void 0,void 0,null,ce)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:u,render:M}},xe.isValidElement=q,xe.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:Q}},xe.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},xe.startTransition=function(M){var F=D.T,te={};D.T=te;try{var Z=M(),ce=D.S;ce!==null&&ce(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(pe,le)}catch(Ne){le(Ne)}finally{D.T=F}},xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xe.use=function(M){return D.H.use(M)},xe.useActionState=function(M,F,te){return D.H.useActionState(M,F,te)},xe.useCallback=function(M,F){return D.H.useCallback(M,F)},xe.useContext=function(M){return D.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,F){return D.H.useDeferredValue(M,F)},xe.useEffect=function(M,F,te){var Z=D.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(M,F)},xe.useId=function(){return D.H.useId()},xe.useImperativeHandle=function(M,F,te){return D.H.useImperativeHandle(M,F,te)},xe.useInsertionEffect=function(M,F){return D.H.useInsertionEffect(M,F)},xe.useLayoutEffect=function(M,F){return D.H.useLayoutEffect(M,F)},xe.useMemo=function(M,F){return D.H.useMemo(M,F)},xe.useOptimistic=function(M,F){return D.H.useOptimistic(M,F)},xe.useReducer=function(M,F,te){return D.H.useReducer(M,F,te)},xe.useRef=function(M){return D.H.useRef(M)},xe.useState=function(M){return D.H.useState(M)},xe.useSyncExternalStore=function(M,F,te){return D.H.useSyncExternalStore(M,F,te)},xe.useTransition=function(){return D.H.useTransition()},xe.version="19.1.0",xe}var hv;function Nu(){return hv||(hv=1,_h.exports=KE()),_h.exports}var kh={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function JE(){if(pv)return At;pv=1;var n=Nu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,p)},At.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},At.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},At.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},At.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,y=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},At.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},At.requestFormReset=function(d){r.d.r(d)},At.unstable_batchedUpdates=function(d,h){return d(h)},At.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},At.useFormStatus=function(){return l.H.useHostTransitionStatus()},At.version="19.1.0",At}var mv;function Wx(){if(mv)return kh.exports;mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kh.exports=JE(),kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function XE(){if(gv)return zo;gv=1;var n=GE(),e=Nu(),t=Wx();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(a(i)!==i)throw Error(r(188))}function d(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,f=o;;){var m=c.return;if(m===null)break;var g=m.alternate;if(g===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===c)return u(m),i;if(g===f)return u(m),o;g=g.sibling}throw Error(r(188))}if(c.return!==f.return)c=m,f=g;else{for(var S=!1,T=m.child;T;){if(T===c){S=!0,c=m,f=g;break}if(T===f){S=!0,f=m,c=g;break}T=T.sibling}if(!S){for(T=g.child;T;){if(T===c){S=!0,c=g,f=m;break}if(T===f){S=!0,f=g,c=m;break}T=T.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ve(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var Je=Symbol.for("react.client.reference");function it(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Je?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case J:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case O:return(i.displayName||"Context")+".Provider";case N:return(i._context.displayName||"Context")+".Consumer";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return o=i.displayName||null,o!==null?o:it(i.type)||"Memo";case X:o=i._payload,i=i._init;try{return it(i(o))}catch{}}return null}var Ve=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],M=-1;function F(i){return{current:i}}function te(i){0>M||(i.current=pe[M],pe[M]=null,M--)}function Z(i,o){M++,pe[M]=i.current,i.current=o}var ce=F(null),Ne=F(null),ye=F(null),Qt=F(null);function Fe(i,o){switch(Z(ye,o),Z(Ne,i),Z(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Lb(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Lb(o),i=Pb(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(ce),Z(ce,i)}function Cr(){te(ce),te(Ne),te(ye)}function rf(i){i.memoizedState!==null&&Z(Qt,i);var o=ce.current,c=Pb(o,i.type);o!==c&&(Z(Ne,i),Z(ce,c))}function El(i){Ne.current===i&&(te(ce),te(Ne)),Qt.current===i&&(te(Qt),Ao._currentValue=le)}var sf=Object.prototype.hasOwnProperty,af=n.unstable_scheduleCallback,of=n.unstable_cancelCallback,Sk=n.unstable_shouldYield,_k=n.unstable_requestPaint,Ln=n.unstable_now,kk=n.unstable_getCurrentPriorityLevel,gg=n.unstable_ImmediatePriority,yg=n.unstable_UserBlockingPriority,Cl=n.unstable_NormalPriority,Tk=n.unstable_LowPriority,bg=n.unstable_IdlePriority,Ek=n.log,Ck=n.unstable_setDisableYieldValue,La=null,Wt=null;function Or(i){if(typeof Ek=="function"&&Ck(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(La,i)}catch{}}var Zt=Math.clz32?Math.clz32:Nk,Ok=Math.log,Ak=Math.LN2;function Nk(i){return i>>>=0,i===0?32:31-(Ok(i)/Ak|0)|0}var Ol=256,Al=4194304;function Ti(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nl(i,o,c){var f=i.pendingLanes;if(f===0)return 0;var m=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var T=f&134217727;return T!==0?(f=T&~g,f!==0?m=Ti(f):(S&=T,S!==0?m=Ti(S):c||(c=T&~i,c!==0&&(m=Ti(c))))):(T=f&~g,T!==0?m=Ti(T):S!==0?m=Ti(S):c||(c=f&~i,c!==0&&(m=Ti(c)))),m===0?0:o!==0&&o!==m&&(o&g)===0&&(g=m&-m,c=o&-o,g>=c||g===32&&(c&4194048)!==0)?o:m}function Pa(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Mk(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(){var i=Ol;return Ol<<=1,(Ol&4194048)===0&&(Ol=256),i}function xg(){var i=Al;return Al<<=1,(Al&62914560)===0&&(Al=4194304),i}function lf(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ba(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Rk(i,o,c,f,m,g){var S=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var T=i.entanglements,A=i.expirationTimes,L=i.hiddenUpdates;for(c=S&~c;0<c;){var $=31-Zt(c),V=1<<$;T[$]=0,A[$]=-1;var P=L[$];if(P!==null)for(L[$]=null,$=0;$<P.length;$++){var I=P[$];I!==null&&(I.lane&=-536870913)}c&=~V}f!==0&&wg(i,f,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~o))}function wg(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Zt(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|c&4194090}function Sg(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var f=31-Zt(c),m=1<<f;m&o|i[f]&o&&(i[f]|=o),c&=~m}}function cf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function uf(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _g(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:nv(i.type))}function jk(i,o){var c=Q.p;try{return Q.p=i,o()}finally{Q.p=c}}var Ar=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Ar,$t="__reactProps$"+Ar,gs="__reactContainer$"+Ar,ff="__reactEvents$"+Ar,Dk="__reactListeners$"+Ar,zk="__reactHandles$"+Ar,kg="__reactResources$"+Ar,Ia="__reactMarker$"+Ar;function df(i){delete i[Ct],delete i[$t],delete i[ff],delete i[Dk],delete i[zk]}function ys(i){var o=i[Ct];if(o)return o;for(var c=i.parentNode;c;){if(o=c[gs]||c[Ct]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=$b(i);i!==null;){if(c=i[Ct])return c;i=$b(i)}return o}i=c,c=i.parentNode}return null}function bs(i){if(i=i[Ct]||i[gs]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Ua(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function vs(i){var o=i[kg];return o||(o=i[kg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ct(i){i[Ia]=!0}var Tg=new Set,Eg={};function Ei(i,o){xs(i,o),xs(i+"Capture",o)}function xs(i,o){for(Eg[i]=o,i=0;i<o.length;i++)Tg.add(o[i])}var Lk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cg={},Og={};function Pk(i){return sf.call(Og,i)?!0:sf.call(Cg,i)?!1:Lk.test(i)?Og[i]=!0:(Cg[i]=!0,!1)}function Ml(i,o,c){if(Pk(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Rl(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Qn(i,o,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+f)}}var hf,Ag;function ws(i){if(hf===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);hf=o&&o[1]||"",Ag=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hf+i+Ag}var pf=!1;function mf(i,o){if(!i||pf)return"";pf=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(I){var P=I}Reflect.construct(i,[],V)}else{try{V.call()}catch(I){P=I}i.call(V.prototype)}}else{try{throw Error()}catch(I){P=I}(V=i())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(I){if(I&&P&&typeof I.stack=="string")return[I.stack,P.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),S=g[0],T=g[1];if(S&&T){var A=S.split(`
`),L=T.split(`
`);for(m=f=0;f<A.length&&!A[f].includes("DetermineComponentFrameRoot");)f++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(f===A.length||m===L.length)for(f=A.length-1,m=L.length-1;1<=f&&0<=m&&A[f]!==L[m];)m--;for(;1<=f&&0<=m;f--,m--)if(A[f]!==L[m]){if(f!==1||m!==1)do if(f--,m--,0>m||A[f]!==L[m]){var $=`
`+A[f].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=f&&0<=m);break}}}finally{pf=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ws(c):""}function Bk(i){switch(i.tag){case 26:case 27:case 5:return ws(i.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return mf(i.type,!1);case 11:return mf(i.type.render,!1);case 1:return mf(i.type,!0);case 31:return ws("Activity");default:return""}}function Ng(i){try{var o="";do o+=Bk(i),i=i.return;while(i);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Mg(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ik(i){var o=Mg(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,g.call(this,S)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function jl(i){i._valueTracker||(i._valueTracker=Ik(i))}function Rg(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return i&&(f=Mg(i)?i.checked?"true":"false":i.value),i=f,i!==c?(o.setValue(i),!0):!1}function Dl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Uk=/[\n"\\]/g;function hn(i){return i.replace(Uk,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function gf(i,o,c,f,m,g,S,T){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+dn(o)):i.value!==""+dn(o)&&(i.value=""+dn(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?yf(i,S,dn(o)):c!=null?yf(i,S,dn(c)):f!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+dn(T):i.removeAttribute("name")}function jg(i,o,c,f,m,g,S,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),o!=null||c!=null){if(!(g!=="submit"&&g!=="reset"||o!=null))return;c=c!=null?""+dn(c):"",o=o!=null?""+dn(o):c,T||o===i.value||(i.value=o),i.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=T?i.checked:!!f,i.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function yf(i,o,c){o==="number"&&Dl(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Ss(i,o,c,f){if(i=i.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=o.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&f&&(i[c].defaultSelected=!0)}else{for(c=""+dn(c),o=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Dg(i,o,c){if(o!=null&&(o=""+dn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+dn(c):""}function zg(i,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(r(92));if(Ve(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=dn(o),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f)}function _s(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var $k=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lg(i,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,c):typeof c!="number"||c===0||$k.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function Pg(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&c[m]!==f&&Lg(i,m,f)}else for(var g in o)o.hasOwnProperty(g)&&Lg(i,g,o[g])}function bf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(i){return Hk.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vf=null;function xf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ks=null,Ts=null;function Bg(i){var o=bs(i);if(o&&(i=o.stateNode)){var c=i[$t]||null;e:switch(i=o.stateNode,o.type){case"input":if(gf(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+hn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==i&&f.form===i.form){var m=f[$t]||null;if(!m)throw Error(r(90));gf(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===i.form&&Rg(f)}break e;case"textarea":Dg(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ss(i,!!c.multiple,o,!1)}}}var wf=!1;function Ig(i,o,c){if(wf)return i(o,c);wf=!0;try{var f=i(o);return f}finally{if(wf=!1,(ks!==null||Ts!==null)&&(xc(),ks&&(o=ks,i=Ts,Ts=ks=null,Bg(o),i)))for(o=0;o<i.length;o++)Bg(i[o])}}function $a(i,o){var c=i.stateNode;if(c===null)return null;var f=c[$t]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=!1;if(Wn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Sf=!1}var Nr=null,_f=null,Ll=null;function Ug(){if(Ll)return Ll;var i,o=_f,c=o.length,f,m="value"in Nr?Nr.value:Nr.textContent,g=m.length;for(i=0;i<c&&o[i]===m[i];i++);var S=c-i;for(f=1;f<=S&&o[c-f]===m[g-f];f++);return Ll=m.slice(i,1<f?1-f:void 0)}function Pl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Bl(){return!0}function $g(){return!1}function qt(i){function o(c,f,m,g,S){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(c=i[T],this[T]=c?c(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bl:$g,this.isPropagationStopped=$g,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),o}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=qt(Ci),Ha=p({},Ci,{view:0,detail:0}),Vk=qt(Ha),kf,Tf,Va,Ul=p({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Va&&(Va&&i.type==="mousemove"?(kf=i.screenX-Va.screenX,Tf=i.screenY-Va.screenY):Tf=kf=0,Va=i),kf)},movementY:function(i){return"movementY"in i?i.movementY:Tf}}),qg=qt(Ul),Fk=p({},Ul,{dataTransfer:0}),Yk=qt(Fk),Gk=p({},Ha,{relatedTarget:0}),Ef=qt(Gk),Kk=p({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Jk=qt(Kk),Xk=p({},Ci,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qk=qt(Xk),Wk=p({},Ci,{data:0}),Hg=qt(Wk),Zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nT(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=tT[i])?!!o[i]:!1}function Cf(){return nT}var rT=p({},Ha,{key:function(i){if(i.key){var o=Zk[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Pl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(i){return i.type==="keypress"?Pl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iT=qt(rT),sT=p({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vg=qt(sT),aT=p({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),oT=qt(aT),lT=p({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),cT=qt(lT),uT=p({},Ul,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fT=qt(uT),dT=p({},Ci,{newState:0,oldState:0}),hT=qt(dT),pT=[9,13,27,32],Of=Wn&&"CompositionEvent"in window,Fa=null;Wn&&"documentMode"in document&&(Fa=document.documentMode);var mT=Wn&&"TextEvent"in window&&!Fa,Fg=Wn&&(!Of||Fa&&8<Fa&&11>=Fa),Yg=" ",Gg=!1;function Kg(i,o){switch(i){case"keyup":return pT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Es=!1;function gT(i,o){switch(i){case"compositionend":return Jg(o);case"keypress":return o.which!==32?null:(Gg=!0,Yg);case"textInput":return i=o.data,i===Yg&&Gg?null:i;default:return null}}function yT(i,o){if(Es)return i==="compositionend"||!Of&&Kg(i,o)?(i=Ug(),Ll=_f=Nr=null,Es=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fg&&o.locale!=="ko"?null:o.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bT[i.type]:o==="textarea"}function Qg(i,o,c,f){ks?Ts?Ts.push(f):Ts=[f]:ks=f,o=Ec(o,"onChange"),0<o.length&&(c=new Il("onChange","change",null,c,f),i.push({event:c,listeners:o}))}var Ya=null,Ga=null;function vT(i){Mb(i,0)}function $l(i){var o=Ua(i);if(Rg(o))return i}function Wg(i,o){if(i==="change")return o}var Zg=!1;if(Wn){var Af;if(Wn){var Nf="oninput"in document;if(!Nf){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Nf=typeof ey.oninput=="function"}Af=Nf}else Af=!1;Zg=Af&&(!document.documentMode||9<document.documentMode)}function ty(){Ya&&(Ya.detachEvent("onpropertychange",ny),Ga=Ya=null)}function ny(i){if(i.propertyName==="value"&&$l(Ga)){var o=[];Qg(o,Ga,i,xf(i)),Ig(vT,o)}}function xT(i,o,c){i==="focusin"?(ty(),Ya=o,Ga=c,Ya.attachEvent("onpropertychange",ny)):i==="focusout"&&ty()}function wT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $l(Ga)}function ST(i,o){if(i==="click")return $l(o)}function _T(i,o){if(i==="input"||i==="change")return $l(o)}function kT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var en=typeof Object.is=="function"?Object.is:kT;function Ka(i,o){if(en(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!sf.call(o,m)||!en(i[m],o[m]))return!1}return!0}function ry(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iy(i,o){var c=ry(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=o&&f>=o)return{node:c,offset:o-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ry(c)}}function sy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?sy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ay(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Dl(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Dl(i.document)}return o}function Mf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var TT=Wn&&"documentMode"in document&&11>=document.documentMode,Cs=null,Rf=null,Ja=null,jf=!1;function oy(i,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jf||Cs==null||Cs!==Dl(f)||(f=Cs,"selectionStart"in f&&Mf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ja&&Ka(Ja,f)||(Ja=f,f=Ec(Rf,"onSelect"),0<f.length&&(o=new Il("onSelect","select",null,o,c),i.push({event:o,listeners:f}),o.target=Cs)))}function Oi(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Os={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Df={},ly={};Wn&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Ai(i){if(Df[i])return Df[i];if(!Os[i])return i;var o=Os[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in ly)return Df[i]=o[c];return i}var cy=Ai("animationend"),uy=Ai("animationiteration"),fy=Ai("animationstart"),ET=Ai("transitionrun"),CT=Ai("transitionstart"),OT=Ai("transitioncancel"),dy=Ai("transitionend"),hy=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function En(i,o){hy.set(i,o),Ei(o,[i])}var py=new WeakMap;function pn(i,o){if(typeof i=="object"&&i!==null){var c=py.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Ng(o)},py.set(i,o),o)}return{value:i,source:o,stack:Ng(o)}}var mn=[],As=0,Lf=0;function ql(){for(var i=As,o=Lf=As=0;o<i;){var c=mn[o];mn[o++]=null;var f=mn[o];mn[o++]=null;var m=mn[o];mn[o++]=null;var g=mn[o];if(mn[o++]=null,f!==null&&m!==null){var S=f.pending;S===null?m.next=m:(m.next=S.next,S.next=m),f.pending=m}g!==0&&my(c,m,g)}}function Hl(i,o,c,f){mn[As++]=i,mn[As++]=o,mn[As++]=c,mn[As++]=f,Lf|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Pf(i,o,c,f){return Hl(i,o,c,f),Vl(i)}function Ns(i,o){return Hl(i,null,null,o),Vl(i)}function my(i,o,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var m=!1,g=i.return;g!==null;)g.childLanes|=c,f=g.alternate,f!==null&&(f.childLanes|=c),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&o!==null&&(m=31-Zt(c),i=g.hiddenUpdates,f=i[m],f===null?i[m]=[o]:f.push(o),o.lane=c|536870912),g):null}function Vl(i){if(50<wo)throw wo=0,Hd=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ms={};function AT(i,o,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(i,o,c,f){return new AT(i,o,c,f)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zn(i,o){var c=i.alternate;return c===null?(c=tn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function gy(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Fl(i,o,c,f,m,g){var S=0;if(f=i,typeof i=="function")Bf(i)&&(S=1);else if(typeof i=="string")S=ME(i,c,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=tn(31,c,o,m),i.elementType=q,i.lanes=g,i;case x:return Ni(c.children,m,g,o);case _:S=8,m|=24;break;case k:return i=tn(12,c,o,m|2),i.elementType=k,i.lanes=g,i;case D:return i=tn(13,c,o,m),i.elementType=D,i.lanes=g,i;case J:return i=tn(19,c,o,m),i.elementType=J,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case O:S=10;break e;case N:S=9;break e;case B:S=11;break e;case G:S=14;break e;case X:S=16,f=null;break e}S=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=tn(S,c,o,m),o.elementType=i,o.type=f,o.lanes=g,o}function Ni(i,o,c,f){return i=tn(7,i,f,o),i.lanes=c,i}function If(i,o,c){return i=tn(6,i,null,o),i.lanes=c,i}function Uf(i,o,c){return o=tn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Rs=[],js=0,Yl=null,Gl=0,gn=[],yn=0,Mi=null,er=1,tr="";function Ri(i,o){Rs[js++]=Gl,Rs[js++]=Yl,Yl=i,Gl=o}function yy(i,o,c){gn[yn++]=er,gn[yn++]=tr,gn[yn++]=Mi,Mi=i;var f=er;i=tr;var m=32-Zt(f)-1;f&=~(1<<m),c+=1;var g=32-Zt(o)+m;if(30<g){var S=m-m%5;g=(f&(1<<S)-1).toString(32),f>>=S,m-=S,er=1<<32-Zt(o)+m|c<<m|f,tr=g+i}else er=1<<g|c<<m|f,tr=i}function $f(i){i.return!==null&&(Ri(i,1),yy(i,1,0))}function qf(i){for(;i===Yl;)Yl=Rs[--js],Rs[js]=null,Gl=Rs[--js],Rs[js]=null;for(;i===Mi;)Mi=gn[--yn],gn[yn]=null,tr=gn[--yn],gn[yn]=null,er=gn[--yn],gn[yn]=null}var zt=null,Xe=null,je=!1,ji=null,Pn=!1,Hf=Error(r(519));function Di(i){var o=Error(r(418,""));throw Wa(pn(o,i)),Hf}function by(i){var o=i.stateNode,c=i.type,f=i.memoizedProps;switch(o[Ct]=i,o[$t]=f,c){case"dialog":Ce("cancel",o),Ce("close",o);break;case"iframe":case"object":case"embed":Ce("load",o);break;case"video":case"audio":for(c=0;c<_o.length;c++)Ce(_o[c],o);break;case"source":Ce("error",o);break;case"img":case"image":case"link":Ce("error",o),Ce("load",o);break;case"details":Ce("toggle",o);break;case"input":Ce("invalid",o),jg(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),jl(o);break;case"select":Ce("invalid",o);break;case"textarea":Ce("invalid",o),zg(o,f.value,f.defaultValue,f.children),jl(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||zb(o.textContent,c)?(f.popover!=null&&(Ce("beforetoggle",o),Ce("toggle",o)),f.onScroll!=null&&Ce("scroll",o),f.onScrollEnd!=null&&Ce("scrollend",o),f.onClick!=null&&(o.onclick=Cc),o=!0):o=!1,o||Di(i)}function vy(i){for(zt=i.return;zt;)switch(zt.tag){case 5:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:zt=zt.return}}function Xa(i){if(i!==zt)return!1;if(!je)return vy(i),je=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||sh(i.type,i.memoizedProps)),c=!c),c&&Xe&&Di(i),vy(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(o===0){Xe=On(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;i=i.nextSibling}Xe=null}}else o===27?(o=Xe,Yr(i.type)?(i=ch,ch=null,Xe=i):Xe=o):Xe=zt?On(i.stateNode.nextSibling):null;return!0}function Qa(){Xe=zt=null,je=!1}function xy(){var i=ji;return i!==null&&(Ft===null?Ft=i:Ft.push.apply(Ft,i),ji=null),i}function Wa(i){ji===null?ji=[i]:ji.push(i)}var Vf=F(null),zi=null,nr=null;function Mr(i,o,c){Z(Vf,o._currentValue),o._currentValue=c}function rr(i){i._currentValue=Vf.current,te(Vf)}function Ff(i,o,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===c)break;i=i.return}}function Yf(i,o,c,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=m;for(var A=0;A<o.length;A++)if(T.context===o[A]){g.lanes|=c,T=g.alternate,T!==null&&(T.lanes|=c),Ff(g.return,c,i),f||(S=null);break e}g=T.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=c,g=S.alternate,g!==null&&(g.lanes|=c),Ff(S,c,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Za(i,o,c,f){i=null;for(var m=o,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var T=m.type;en(m.pendingProps.value,S.value)||(i!==null?i.push(T):i=[T])}}else if(m===Qt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Ao):i=[Ao])}m=m.return}i!==null&&Yf(o,i,c,f),o.flags|=262144}function Kl(i){for(i=i.firstContext;i!==null;){if(!en(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Li(i){zi=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ot(i){return wy(zi,i)}function Jl(i,o){return zi===null&&Li(i),wy(i,o)}function wy(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},nr===null){if(i===null)throw Error(r(308));nr=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else nr=nr.next=o;return c}var NT=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},MT=n.unstable_scheduleCallback,RT=n.unstable_NormalPriority,st={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new NT,data:new Map,refCount:0}}function eo(i){i.refCount--,i.refCount===0&&MT(RT,function(){i.controller.abort()})}var to=null,Kf=0,Ds=0,zs=null;function jT(i,o){if(to===null){var c=to=[];Kf=0,Ds=Xd(),zs={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Kf++,o.then(Sy,Sy),o}function Sy(){if(--Kf===0&&to!==null){zs!==null&&(zs.status="fulfilled");var i=to;to=null,Ds=0,zs=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function DT(i,o){var c=[],f={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<c.length;m++)(0,c[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),f}var _y=U.S;U.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&jT(i,o),_y!==null&&_y(i,o)};var Pi=F(null);function Jf(){var i=Pi.current;return i!==null?i:$e.pooledCache}function Xl(i,o){o===null?Z(Pi,Pi.current):Z(Pi,o.pool)}function ky(){var i=Jf();return i===null?null:{parent:st._currentValue,pool:i}}var no=Error(r(460)),Ty=Error(r(474)),Ql=Error(r(542)),Xf={then:function(){}};function Ey(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Wl(){}function Cy(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(Wl,Wl),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Ay(i),i;default:if(typeof o.status=="string")o.then(Wl,Wl);else{if(i=$e,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Ay(i),i}throw ro=o,no}}var ro=null;function Oy(){if(ro===null)throw Error(r(459));var i=ro;return ro=null,i}function Ay(i){if(i===no||i===Ql)throw Error(r(483))}var Rr=!1;function Qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function jr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Dr(i,o,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(De&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Vl(i),my(i,null,c),o}return Hl(i,f,o,c),Vl(i)}function io(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,Sg(i,c)}}function Zf(i,o){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,c=c.next}while(c!==null);g===null?m=g=o:g=g.next=o}else m=g=o;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var ed=!1;function so(){if(ed){var i=zs;if(i!==null)throw i}}function ao(i,o,c,f){ed=!1;var m=i.updateQueue;Rr=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var A=T,L=A.next;A.next=null,S===null?g=L:S.next=L,S=A;var $=i.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==S&&(T===null?$.firstBaseUpdate=L:T.next=L,$.lastBaseUpdate=A))}if(g!==null){var V=m.baseState;S=0,$=L=A=null,T=g;do{var P=T.lane&-536870913,I=P!==T.lane;if(I?(Me&P)===P:(f&P)===P){P!==0&&P===Ds&&(ed=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=i,fe=T;P=o;var Be=c;switch(fe.tag){case 1:if(he=fe.payload,typeof he=="function"){V=he.call(Be,V,P);break e}V=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,P=typeof he=="function"?he.call(Be,V,P):he,P==null)break e;V=p({},V,P);break e;case 2:Rr=!0}}P=T.callback,P!==null&&(i.flags|=64,I&&(i.flags|=8192),I=m.callbacks,I===null?m.callbacks=[P]:I.push(P))}else I={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(L=$=I,A=V):$=$.next=I,S|=P;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;I=T,T=I.next,I.next=null,m.lastBaseUpdate=I,m.shared.pending=null}}while(!0);$===null&&(A=V),m.baseState=A,m.firstBaseUpdate=L,m.lastBaseUpdate=$,g===null&&(m.shared.lanes=0),qr|=S,i.lanes=S,i.memoizedState=V}}function Ny(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function My(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Ny(c[i],o)}var Ls=F(null),Zl=F(0);function Ry(i,o){i=ur,Z(Zl,i),Z(Ls,o),ur=i|o.baseLanes}function td(){Z(Zl,ur),Z(Ls,Ls.current)}function nd(){ur=Zl.current,te(Ls),te(Zl)}var zr=0,_e=null,Le=null,tt=null,ec=!1,Ps=!1,Bi=!1,tc=0,oo=0,Bs=null,zT=0;function Ze(){throw Error(r(321))}function rd(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!en(i[c],o[c]))return!1;return!0}function id(i,o,c,f,m,g){return zr=g,_e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=i===null||i.memoizedState===null?m0:g0,Bi=!1,g=c(f,m),Bi=!1,Ps&&(g=Dy(o,c,f,m)),jy(i),g}function jy(i){U.H=oc;var o=Le!==null&&Le.next!==null;if(zr=0,tt=Le=_e=null,ec=!1,oo=0,Bs=null,o)throw Error(r(300));i===null||ut||(i=i.dependencies,i!==null&&Kl(i)&&(ut=!0))}function Dy(i,o,c,f){_e=i;var m=0;do{if(Ps&&(Bs=null),oo=0,Ps=!1,25<=m)throw Error(r(301));if(m+=1,tt=Le=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=qT,g=o(c,f)}while(Ps);return g}function LT(){var i=U.H,o=i.useState()[0];return o=typeof o.then=="function"?lo(o):o,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(_e.flags|=1024),o}function sd(){var i=tc!==0;return tc=0,i}function ad(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function od(i){if(ec){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}ec=!1}zr=0,tt=Le=_e=null,Ps=!1,oo=tc=0,Bs=null}function Ht(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?_e.memoizedState=tt=i:tt=tt.next=i,tt}function nt(){if(Le===null){var i=_e.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var o=tt===null?_e.memoizedState:tt.next;if(o!==null)tt=o,Le=i;else{if(i===null)throw _e.alternate===null?Error(r(467)):Error(r(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},tt===null?_e.memoizedState=tt=i:tt=tt.next=i}return tt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(i){var o=oo;return oo+=1,Bs===null&&(Bs=[]),i=Cy(Bs,i,o),o=_e,(tt===null?o.memoizedState:tt.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?m0:g0),i}function nc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return lo(i);if(i.$$typeof===O)return Ot(i)}throw Error(r(438,String(i)))}function cd(i){var o=null,c=_e.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=_e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=ld(),_e.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),f=0;f<i;f++)c[f]=W;return o.index++,c}function ir(i,o){return typeof o=="function"?o(i):o}function rc(i){var o=nt();return ud(o,Le,i)}function ud(i,o,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var m=i.baseQueue,g=f.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}o.baseQueue=m=g,f.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{o=m.next;var T=S=null,A=null,L=o,$=!1;do{var V=L.lane&-536870913;if(V!==L.lane?(Me&V)===V:(zr&V)===V){var P=L.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),V===Ds&&($=!0);else if((zr&P)===P){L=L.next,P===Ds&&($=!0);continue}else V={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(T=A=V,S=g):A=A.next=V,_e.lanes|=P,qr|=P;V=L.action,Bi&&c(g,V),g=L.hasEagerState?L.eagerState:c(g,V)}else P={lane:V,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(T=A=P,S=g):A=A.next=P,_e.lanes|=V,qr|=V;L=L.next}while(L!==null&&L!==o);if(A===null?S=g:A.next=T,!en(g,i.memoizedState)&&(ut=!0,$&&(c=zs,c!==null)))throw c;i.memoizedState=g,i.baseState=S,i.baseQueue=A,f.lastRenderedState=g}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function fd(i){var o=nt(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,m=c.pending,g=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do g=i(g,S.action),S=S.next;while(S!==m);en(g,o.memoizedState)||(ut=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),c.lastRenderedState=g}return[g,f]}function zy(i,o,c){var f=_e,m=nt(),g=je;if(g){if(c===void 0)throw Error(r(407));c=c()}else c=o();var S=!en((Le||m).memoizedState,c);S&&(m.memoizedState=c,ut=!0),m=m.queue;var T=By.bind(null,f,m,i);if(co(2048,8,T,[i]),m.getSnapshot!==o||S||tt!==null&&tt.memoizedState.tag&1){if(f.flags|=2048,Is(9,ic(),Py.bind(null,f,m,c,o),null),$e===null)throw Error(r(349));g||(zr&124)!==0||Ly(f,o,c)}return c}function Ly(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=_e.updateQueue,o===null?(o=ld(),_e.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Py(i,o,c,f){o.value=c,o.getSnapshot=f,Iy(o)&&Uy(i)}function By(i,o,c){return c(function(){Iy(o)&&Uy(i)})}function Iy(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!en(i,c)}catch{return!0}}function Uy(i){var o=Ns(i,2);o!==null&&on(o,i,2)}function dd(i){var o=Ht();if(typeof i=="function"){var c=i;if(i=c(),Bi){Or(!0);try{c()}finally{Or(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},o}function $y(i,o,c,f){return i.baseState=c,ud(i,Le,typeof f=="function"?f:ir)}function PT(i,o,c,f,m){if(ac(i))throw Error(r(485));if(i=o.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};U.T!==null?c(!0):g.isTransition=!1,f(g),c=o.pending,c===null?(g.next=o.pending=g,qy(o,g)):(g.next=c.next,o.pending=c.next=g)}}function qy(i,o){var c=o.action,f=o.payload,m=i.state;if(o.isTransition){var g=U.T,S={};U.T=S;try{var T=c(m,f),A=U.S;A!==null&&A(S,T),Hy(i,o,T)}catch(L){hd(i,o,L)}finally{U.T=g}}else try{g=c(m,f),Hy(i,o,g)}catch(L){hd(i,o,L)}}function Hy(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Vy(i,o,f)},function(f){return hd(i,o,f)}):Vy(i,o,c)}function Vy(i,o,c){o.status="fulfilled",o.value=c,Fy(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,qy(i,c)))}function hd(i,o,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,Fy(o),o=o.next;while(o!==f)}i.action=null}function Fy(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Yy(i,o){return o}function Gy(i,o){if(je){var c=$e.formState;if(c!==null){e:{var f=_e;if(je){if(Xe){t:{for(var m=Xe,g=Pn;m.nodeType!==8;){if(!g){m=null;break t}if(m=On(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Xe=On(m.nextSibling),f=m.data==="F!";break e}}Di(f)}f=!1}f&&(o=c[0])}}return c=Ht(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:o},c.queue=f,c=d0.bind(null,_e,f),f.dispatch=c,f=dd(!1),g=bd.bind(null,_e,!1,f.queue),f=Ht(),m={state:o,dispatch:null,action:i,pending:null},f.queue=m,c=PT.bind(null,_e,m,g,c),m.dispatch=c,f.memoizedState=i,[o,c,!1]}function Ky(i){var o=nt();return Jy(o,Le,i)}function Jy(i,o,c){if(o=ud(i,o,Yy)[0],i=rc(ir)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=lo(o)}catch(S){throw S===no?Ql:S}else f=o;o=nt();var m=o.queue,g=m.dispatch;return c!==o.memoizedState&&(_e.flags|=2048,Is(9,ic(),BT.bind(null,m,c),null)),[f,g,i]}function BT(i,o){i.action=o}function Xy(i){var o=nt(),c=Le;if(c!==null)return Jy(o,c,i);nt(),o=o.memoizedState,c=nt();var f=c.queue.dispatch;return c.memoizedState=i,[o,f,!1]}function Is(i,o,c,f){return i={tag:i,create:c,deps:f,inst:o,next:null},o=_e.updateQueue,o===null&&(o=ld(),_e.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,o.lastEffect=i),i}function ic(){return{destroy:void 0,resource:void 0}}function Qy(){return nt().memoizedState}function sc(i,o,c,f){var m=Ht();f=f===void 0?null:f,_e.flags|=i,m.memoizedState=Is(1|o,ic(),c,f)}function co(i,o,c,f){var m=nt();f=f===void 0?null:f;var g=m.memoizedState.inst;Le!==null&&f!==null&&rd(f,Le.memoizedState.deps)?m.memoizedState=Is(o,g,c,f):(_e.flags|=i,m.memoizedState=Is(1|o,g,c,f))}function Wy(i,o){sc(8390656,8,i,o)}function Zy(i,o){co(2048,8,i,o)}function e0(i,o){return co(4,2,i,o)}function t0(i,o){return co(4,4,i,o)}function n0(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function r0(i,o,c){c=c!=null?c.concat([i]):null,co(4,4,n0.bind(null,o,i),c)}function pd(){}function i0(i,o){var c=nt();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&rd(o,f[1])?f[0]:(c.memoizedState=[i,o],i)}function s0(i,o){var c=nt();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&rd(o,f[1]))return f[0];if(f=i(),Bi){Or(!0);try{i()}finally{Or(!1)}}return c.memoizedState=[f,o],f}function md(i,o,c){return c===void 0||(zr&1073741824)!==0?i.memoizedState=o:(i.memoizedState=c,i=lb(),_e.lanes|=i,qr|=i,c)}function a0(i,o,c,f){return en(c,o)?c:Ls.current!==null?(i=md(i,c,f),en(i,o)||(ut=!0),i):(zr&42)===0?(ut=!0,i.memoizedState=c):(i=lb(),_e.lanes|=i,qr|=i,o)}function o0(i,o,c,f,m){var g=Q.p;Q.p=g!==0&&8>g?g:8;var S=U.T,T={};U.T=T,bd(i,!1,o,c);try{var A=m(),L=U.S;if(L!==null&&L(T,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=DT(A,f);uo(i,o,$,an(i))}else uo(i,o,f,an(i))}catch(V){uo(i,o,{then:function(){},status:"rejected",reason:V},an())}finally{Q.p=g,U.T=S}}function IT(){}function gd(i,o,c,f){if(i.tag!==5)throw Error(r(476));var m=l0(i).queue;o0(i,m,o,le,c===null?IT:function(){return c0(i),c(f)})}function l0(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:le},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function c0(i){var o=l0(i).next.queue;uo(i,o,{},an())}function yd(){return Ot(Ao)}function u0(){return nt().memoizedState}function f0(){return nt().memoizedState}function UT(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=an();i=jr(c);var f=Dr(o,i,c);f!==null&&(on(f,o,c),io(f,o,c)),o={cache:Gf()},i.payload=o;return}o=o.return}}function $T(i,o,c){var f=an();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ac(i)?h0(o,c):(c=Pf(i,o,c,f),c!==null&&(on(c,i,f),p0(c,o,f)))}function d0(i,o,c){var f=an();uo(i,o,c,f)}function uo(i,o,c,f){var m={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ac(i))h0(o,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var S=o.lastRenderedState,T=g(S,c);if(m.hasEagerState=!0,m.eagerState=T,en(T,S))return Hl(i,o,m,0),$e===null&&ql(),!1}catch{}finally{}if(c=Pf(i,o,m,f),c!==null)return on(c,i,f),p0(c,o,f),!0}return!1}function bd(i,o,c,f){if(f={lane:2,revertLane:Xd(),action:f,hasEagerState:!1,eagerState:null,next:null},ac(i)){if(o)throw Error(r(479))}else o=Pf(i,c,f,2),o!==null&&on(o,i,2)}function ac(i){var o=i.alternate;return i===_e||o!==null&&o===_e}function h0(i,o){Ps=ec=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function p0(i,o,c){if((c&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,Sg(i,c)}}var oc={readContext:Ot,use:nc,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},m0={readContext:Ot,use:nc,useCallback:function(i,o){return Ht().memoizedState=[i,o===void 0?null:o],i},useContext:Ot,useEffect:Wy,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,sc(4194308,4,n0.bind(null,o,i),c)},useLayoutEffect:function(i,o){return sc(4194308,4,i,o)},useInsertionEffect:function(i,o){sc(4,2,i,o)},useMemo:function(i,o){var c=Ht();o=o===void 0?null:o;var f=i();if(Bi){Or(!0);try{i()}finally{Or(!1)}}return c.memoizedState=[f,o],f},useReducer:function(i,o,c){var f=Ht();if(c!==void 0){var m=c(o);if(Bi){Or(!0);try{c(o)}finally{Or(!1)}}}else m=o;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=$T.bind(null,_e,i),[f.memoizedState,i]},useRef:function(i){var o=Ht();return i={current:i},o.memoizedState=i},useState:function(i){i=dd(i);var o=i.queue,c=d0.bind(null,_e,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:pd,useDeferredValue:function(i,o){var c=Ht();return md(c,i,o)},useTransition:function(){var i=dd(!1);return i=o0.bind(null,_e,i.queue,!0,!1),Ht().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var f=_e,m=Ht();if(je){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),$e===null)throw Error(r(349));(Me&124)!==0||Ly(f,o,c)}m.memoizedState=c;var g={value:c,getSnapshot:o};return m.queue=g,Wy(By.bind(null,f,g,i),[i]),f.flags|=2048,Is(9,ic(),Py.bind(null,f,g,c,o),null),c},useId:function(){var i=Ht(),o=$e.identifierPrefix;if(je){var c=tr,f=er;c=(f&~(1<<32-Zt(f)-1)).toString(32)+c,o="«"+o+"R"+c,c=tc++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=zT++,o="«"+o+"r"+c.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:yd,useFormState:Gy,useActionState:Gy,useOptimistic:function(i){var o=Ht();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=bd.bind(null,_e,!0,c),c.dispatch=o,[i,o]},useMemoCache:cd,useCacheRefresh:function(){return Ht().memoizedState=UT.bind(null,_e)}},g0={readContext:Ot,use:nc,useCallback:i0,useContext:Ot,useEffect:Zy,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:s0,useReducer:rc,useRef:Qy,useState:function(){return rc(ir)},useDebugValue:pd,useDeferredValue:function(i,o){var c=nt();return a0(c,Le.memoizedState,i,o)},useTransition:function(){var i=rc(ir)[0],o=nt().memoizedState;return[typeof i=="boolean"?i:lo(i),o]},useSyncExternalStore:zy,useId:u0,useHostTransitionStatus:yd,useFormState:Ky,useActionState:Ky,useOptimistic:function(i,o){var c=nt();return $y(c,Le,i,o)},useMemoCache:cd,useCacheRefresh:f0},qT={readContext:Ot,use:nc,useCallback:i0,useContext:Ot,useEffect:Zy,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:s0,useReducer:fd,useRef:Qy,useState:function(){return fd(ir)},useDebugValue:pd,useDeferredValue:function(i,o){var c=nt();return Le===null?md(c,i,o):a0(c,Le.memoizedState,i,o)},useTransition:function(){var i=fd(ir)[0],o=nt().memoizedState;return[typeof i=="boolean"?i:lo(i),o]},useSyncExternalStore:zy,useId:u0,useHostTransitionStatus:yd,useFormState:Xy,useActionState:Xy,useOptimistic:function(i,o){var c=nt();return Le!==null?$y(c,Le,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:cd,useCacheRefresh:f0},Us=null,fo=0;function lc(i){var o=fo;return fo+=1,Us===null&&(Us=[]),Cy(Us,i,o)}function ho(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function cc(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function y0(i){var o=i._init;return o(i._payload)}function b0(i){function o(j,R){if(i){var z=j.deletions;z===null?(j.deletions=[R],j.flags|=16):z.push(R)}}function c(j,R){if(!i)return null;for(;R!==null;)o(j,R),R=R.sibling;return null}function f(j){for(var R=new Map;j!==null;)j.key!==null?R.set(j.key,j):R.set(j.index,j),j=j.sibling;return R}function m(j,R){return j=Zn(j,R),j.index=0,j.sibling=null,j}function g(j,R,z){return j.index=z,i?(z=j.alternate,z!==null?(z=z.index,z<R?(j.flags|=67108866,R):z):(j.flags|=67108866,R)):(j.flags|=1048576,R)}function S(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function T(j,R,z,H){return R===null||R.tag!==6?(R=If(z,j.mode,H),R.return=j,R):(R=m(R,z),R.return=j,R)}function A(j,R,z,H){var re=z.type;return re===x?$(j,R,z.props.children,H,z.key):R!==null&&(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===X&&y0(re)===R.type)?(R=m(R,z.props),ho(R,z),R.return=j,R):(R=Fl(z.type,z.key,z.props,null,j.mode,H),ho(R,z),R.return=j,R)}function L(j,R,z,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=Uf(z,j.mode,H),R.return=j,R):(R=m(R,z.children||[]),R.return=j,R)}function $(j,R,z,H,re){return R===null||R.tag!==7?(R=Ni(z,j.mode,H,re),R.return=j,R):(R=m(R,z),R.return=j,R)}function V(j,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=If(""+R,j.mode,z),R.return=j,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return z=Fl(R.type,R.key,R.props,null,j.mode,z),ho(z,R),z.return=j,z;case v:return R=Uf(R,j.mode,z),R.return=j,R;case X:var H=R._init;return R=H(R._payload),V(j,R,z)}if(Ve(R)||ve(R))return R=Ni(R,j.mode,z,null),R.return=j,R;if(typeof R.then=="function")return V(j,lc(R),z);if(R.$$typeof===O)return V(j,Jl(j,R),z);cc(j,R)}return null}function P(j,R,z,H){var re=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return re!==null?null:T(j,R,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===re?A(j,R,z,H):null;case v:return z.key===re?L(j,R,z,H):null;case X:return re=z._init,z=re(z._payload),P(j,R,z,H)}if(Ve(z)||ve(z))return re!==null?null:$(j,R,z,H,null);if(typeof z.then=="function")return P(j,R,lc(z),H);if(z.$$typeof===O)return P(j,R,Jl(j,z),H);cc(j,z)}return null}function I(j,R,z,H,re){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return j=j.get(z)||null,T(R,j,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return j=j.get(H.key===null?z:H.key)||null,A(R,j,H,re);case v:return j=j.get(H.key===null?z:H.key)||null,L(R,j,H,re);case X:var Te=H._init;return H=Te(H._payload),I(j,R,z,H,re)}if(Ve(H)||ve(H))return j=j.get(z)||null,$(R,j,H,re,null);if(typeof H.then=="function")return I(j,R,z,lc(H),re);if(H.$$typeof===O)return I(j,R,z,Jl(R,H),re);cc(R,H)}return null}function he(j,R,z,H){for(var re=null,Te=null,oe=R,de=R=0,dt=null;oe!==null&&de<z.length;de++){oe.index>de?(dt=oe,oe=null):dt=oe.sibling;var Re=P(j,oe,z[de],H);if(Re===null){oe===null&&(oe=dt);break}i&&oe&&Re.alternate===null&&o(j,oe),R=g(Re,R,de),Te===null?re=Re:Te.sibling=Re,Te=Re,oe=dt}if(de===z.length)return c(j,oe),je&&Ri(j,de),re;if(oe===null){for(;de<z.length;de++)oe=V(j,z[de],H),oe!==null&&(R=g(oe,R,de),Te===null?re=oe:Te.sibling=oe,Te=oe);return je&&Ri(j,de),re}for(oe=f(oe);de<z.length;de++)dt=I(oe,j,de,z[de],H),dt!==null&&(i&&dt.alternate!==null&&oe.delete(dt.key===null?de:dt.key),R=g(dt,R,de),Te===null?re=dt:Te.sibling=dt,Te=dt);return i&&oe.forEach(function(Qr){return o(j,Qr)}),je&&Ri(j,de),re}function fe(j,R,z,H){if(z==null)throw Error(r(151));for(var re=null,Te=null,oe=R,de=R=0,dt=null,Re=z.next();oe!==null&&!Re.done;de++,Re=z.next()){oe.index>de?(dt=oe,oe=null):dt=oe.sibling;var Qr=P(j,oe,Re.value,H);if(Qr===null){oe===null&&(oe=dt);break}i&&oe&&Qr.alternate===null&&o(j,oe),R=g(Qr,R,de),Te===null?re=Qr:Te.sibling=Qr,Te=Qr,oe=dt}if(Re.done)return c(j,oe),je&&Ri(j,de),re;if(oe===null){for(;!Re.done;de++,Re=z.next())Re=V(j,Re.value,H),Re!==null&&(R=g(Re,R,de),Te===null?re=Re:Te.sibling=Re,Te=Re);return je&&Ri(j,de),re}for(oe=f(oe);!Re.done;de++,Re=z.next())Re=I(oe,j,de,Re.value,H),Re!==null&&(i&&Re.alternate!==null&&oe.delete(Re.key===null?de:Re.key),R=g(Re,R,de),Te===null?re=Re:Te.sibling=Re,Te=Re);return i&&oe.forEach(function(HE){return o(j,HE)}),je&&Ri(j,de),re}function Be(j,R,z,H){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var re=z.key;R!==null;){if(R.key===re){if(re=z.type,re===x){if(R.tag===7){c(j,R.sibling),H=m(R,z.props.children),H.return=j,j=H;break e}}else if(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===X&&y0(re)===R.type){c(j,R.sibling),H=m(R,z.props),ho(H,z),H.return=j,j=H;break e}c(j,R);break}else o(j,R);R=R.sibling}z.type===x?(H=Ni(z.props.children,j.mode,H,z.key),H.return=j,j=H):(H=Fl(z.type,z.key,z.props,null,j.mode,H),ho(H,z),H.return=j,j=H)}return S(j);case v:e:{for(re=z.key;R!==null;){if(R.key===re)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){c(j,R.sibling),H=m(R,z.children||[]),H.return=j,j=H;break e}else{c(j,R);break}else o(j,R);R=R.sibling}H=Uf(z,j.mode,H),H.return=j,j=H}return S(j);case X:return re=z._init,z=re(z._payload),Be(j,R,z,H)}if(Ve(z))return he(j,R,z,H);if(ve(z)){if(re=ve(z),typeof re!="function")throw Error(r(150));return z=re.call(z),fe(j,R,z,H)}if(typeof z.then=="function")return Be(j,R,lc(z),H);if(z.$$typeof===O)return Be(j,R,Jl(j,z),H);cc(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,R!==null&&R.tag===6?(c(j,R.sibling),H=m(R,z),H.return=j,j=H):(c(j,R),H=If(z,j.mode,H),H.return=j,j=H),S(j)):c(j,R)}return function(j,R,z,H){try{fo=0;var re=Be(j,R,z,H);return Us=null,re}catch(oe){if(oe===no||oe===Ql)throw oe;var Te=tn(29,oe,null,j.mode);return Te.lanes=H,Te.return=j,Te}finally{}}}var $s=b0(!0),v0=b0(!1),bn=F(null),Bn=null;function Lr(i){var o=i.alternate;Z(at,at.current&1),Z(bn,i),Bn===null&&(o===null||Ls.current!==null||o.memoizedState!==null)&&(Bn=i)}function x0(i){if(i.tag===22){if(Z(at,at.current),Z(bn,i),Bn===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Bn=i)}}else Pr()}function Pr(){Z(at,at.current),Z(bn,bn.current)}function sr(i){te(bn),Bn===i&&(Bn=null),te(at)}var at=F(0);function uc(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||lh(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function vd(i,o,c,f){o=i.memoizedState,c=c(f,o),c=c==null?o:p({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var xd={enqueueSetState:function(i,o,c){i=i._reactInternals;var f=an(),m=jr(f);m.payload=o,c!=null&&(m.callback=c),o=Dr(i,m,f),o!==null&&(on(o,i,f),io(o,i,f))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var f=an(),m=jr(f);m.tag=1,m.payload=o,c!=null&&(m.callback=c),o=Dr(i,m,f),o!==null&&(on(o,i,f),io(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=an(),f=jr(c);f.tag=2,o!=null&&(f.callback=o),o=Dr(i,f,c),o!==null&&(on(o,i,c),io(o,i,c))}};function w0(i,o,c,f,m,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,S):o.prototype&&o.prototype.isPureReactComponent?!Ka(c,f)||!Ka(m,g):!0}function S0(i,o,c,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==i&&xd.enqueueReplaceState(o,o.state,null)}function Ii(i,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(i=i.defaultProps){c===o&&(c=p({},c));for(var m in i)c[m]===void 0&&(c[m]=i[m])}return c}var fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _0(i){fc(i)}function k0(i){console.error(i)}function T0(i){fc(i)}function dc(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function E0(i,o,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wd(i,o,c){return c=jr(c),c.tag=3,c.payload={element:null},c.callback=function(){dc(i,o)},c}function C0(i){return i=jr(i),i.tag=3,i}function O0(i,o,c,f){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var g=f.value;i.payload=function(){return m(g)},i.callback=function(){E0(o,c,f)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){E0(o,c,f),typeof m!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var T=f.stack;this.componentDidCatch(f.value,{componentStack:T!==null?T:""})})}function HT(i,o,c,f,m){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Za(o,c,m,!0),c=bn.current,c!==null){switch(c.tag){case 13:return Bn===null?Fd():c.alternate===null&&Qe===0&&(Qe=3),c.flags&=-257,c.flags|=65536,c.lanes=m,f===Xf?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),Gd(i,f,m)),!1;case 22:return c.flags|=65536,f===Xf?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),Gd(i,f,m)),!1}throw Error(r(435,c.tag))}return Gd(i,f,m),Fd(),!1}if(je)return o=bn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==Hf&&(i=Error(r(422),{cause:f}),Wa(pn(i,c)))):(f!==Hf&&(o=Error(r(423),{cause:f}),Wa(pn(o,c))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=pn(f,c),m=wd(i.stateNode,f,m),Zf(i,m),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:f});if(g=pn(g,c),xo===null?xo=[g]:xo.push(g),Qe!==4&&(Qe=2),o===null)return!0;f=pn(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=m&-m,c.lanes|=i,i=wd(c.stateNode,f,i),Zf(c,i),!1;case 1:if(o=c.type,g=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hr===null||!Hr.has(g))))return c.flags|=65536,m&=-m,c.lanes|=m,m=C0(m),O0(m,i,c,f),Zf(c,m),!1}c=c.return}while(c!==null);return!1}var A0=Error(r(461)),ut=!1;function xt(i,o,c,f){o.child=i===null?v0(o,null,c,f):$s(o,i.child,c,f)}function N0(i,o,c,f,m){c=c.render;var g=o.ref;if("ref"in f){var S={};for(var T in f)T!=="ref"&&(S[T]=f[T])}else S=f;return Li(o),f=id(i,o,c,S,g,m),T=sd(),i!==null&&!ut?(ad(i,o,m),ar(i,o,m)):(je&&T&&$f(o),o.flags|=1,xt(i,o,f,m),o.child)}function M0(i,o,c,f,m){if(i===null){var g=c.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=g,R0(i,o,g,f,m)):(i=Fl(c.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(g=i.child,!Ad(i,m)){var S=g.memoizedProps;if(c=c.compare,c=c!==null?c:Ka,c(S,f)&&i.ref===o.ref)return ar(i,o,m)}return o.flags|=1,i=Zn(g,f),i.ref=o.ref,i.return=o,o.child=i}function R0(i,o,c,f,m){if(i!==null){var g=i.memoizedProps;if(Ka(g,f)&&i.ref===o.ref)if(ut=!1,o.pendingProps=f=g,Ad(i,m))(i.flags&131072)!==0&&(ut=!0);else return o.lanes=i.lanes,ar(i,o,m)}return Sd(i,o,c,f,m)}function j0(i,o,c){var f=o.pendingProps,m=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=g!==null?g.baseLanes|c:c,i!==null){for(m=o.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;o.childLanes=g&~f}else o.childLanes=0,o.child=null;return D0(i,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xl(o,g!==null?g.cachePool:null),g!==null?Ry(o,g):td(),x0(o);else return o.lanes=o.childLanes=536870912,D0(i,o,g!==null?g.baseLanes|c:c,c)}else g!==null?(Xl(o,g.cachePool),Ry(o,g),Pr(),o.memoizedState=null):(i!==null&&Xl(o,null),td(),Pr());return xt(i,o,m,c),o.child}function D0(i,o,c,f){var m=Jf();return m=m===null?null:{parent:st._currentValue,pool:m},o.memoizedState={baseLanes:c,cachePool:m},i!==null&&Xl(o,null),td(),x0(o),i!==null&&Za(i,o,f,!0),null}function hc(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Sd(i,o,c,f,m){return Li(o),c=id(i,o,c,f,void 0,m),f=sd(),i!==null&&!ut?(ad(i,o,m),ar(i,o,m)):(je&&f&&$f(o),o.flags|=1,xt(i,o,c,m),o.child)}function z0(i,o,c,f,m,g){return Li(o),o.updateQueue=null,c=Dy(o,f,c,m),jy(i),f=sd(),i!==null&&!ut?(ad(i,o,g),ar(i,o,g)):(je&&f&&$f(o),o.flags|=1,xt(i,o,c,g),o.child)}function L0(i,o,c,f,m){if(Li(o),o.stateNode===null){var g=Ms,S=c.contextType;typeof S=="object"&&S!==null&&(g=Ot(S)),g=new c(f,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xd,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=f,g.state=o.memoizedState,g.refs={},Qf(o),S=c.contextType,g.context=typeof S=="object"&&S!==null?Ot(S):Ms,g.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(vd(o,c,S,f),g.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&xd.enqueueReplaceState(g,g.state,null),ao(o,f,g,m),so(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){g=o.stateNode;var T=o.memoizedProps,A=Ii(c,T);g.props=A;var L=g.context,$=c.contextType;S=Ms,typeof $=="object"&&$!==null&&(S=Ot($));var V=c.getDerivedStateFromProps;$=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=o.pendingProps!==T,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||L!==S)&&S0(o,g,f,S),Rr=!1;var P=o.memoizedState;g.state=P,ao(o,f,g,m),so(),L=o.memoizedState,T||P!==L||Rr?(typeof V=="function"&&(vd(o,c,V,f),L=o.memoizedState),(A=Rr||w0(o,c,A,f,P,L,S))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=L),g.props=f,g.state=L,g.context=S,f=A):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{g=o.stateNode,Wf(i,o),S=o.memoizedProps,$=Ii(c,S),g.props=$,V=o.pendingProps,P=g.context,L=c.contextType,A=Ms,typeof L=="object"&&L!==null&&(A=Ot(L)),T=c.getDerivedStateFromProps,(L=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==V||P!==A)&&S0(o,g,f,A),Rr=!1,P=o.memoizedState,g.state=P,ao(o,f,g,m),so();var I=o.memoizedState;S!==V||P!==I||Rr||i!==null&&i.dependencies!==null&&Kl(i.dependencies)?(typeof T=="function"&&(vd(o,c,T,f),I=o.memoizedState),($=Rr||w0(o,c,$,f,P,I,A)||i!==null&&i.dependencies!==null&&Kl(i.dependencies))?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,I,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,I,A)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=I),g.props=f,g.state=I,g.context=A,f=$):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(o.flags|=1024),f=!1)}return g=f,hc(i,o),f=(o.flags&128)!==0,g||f?(g=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,i!==null&&f?(o.child=$s(o,i.child,null,m),o.child=$s(o,null,c,m)):xt(i,o,c,m),o.memoizedState=g.state,i=o.child):i=ar(i,o,m),i}function P0(i,o,c,f){return Qa(),o.flags|=256,xt(i,o,c,f),o.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(i){return{baseLanes:i,cachePool:ky()}}function Td(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=vn),i}function B0(i,o,c){var f=o.pendingProps,m=!1,g=(o.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(at.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(je){if(m?Lr(o):Pr(),je){var T=Xe,A;if(A=T){e:{for(A=T,T=Pn;A.nodeType!==8;){if(!T){T=null;break e}if(A=On(A.nextSibling),A===null){T=null;break e}}T=A}T!==null?(o.memoizedState={dehydrated:T,treeContext:Mi!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},A=tn(18,null,null,0),A.stateNode=T,A.return=o,o.child=A,zt=o,Xe=null,A=!0):A=!1}A||Di(o)}if(T=o.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return lh(T)?o.lanes=32:o.lanes=536870912,null;sr(o)}return T=f.children,f=f.fallback,m?(Pr(),m=o.mode,T=pc({mode:"hidden",children:T},m),f=Ni(f,m,c,null),T.return=o,f.return=o,T.sibling=f,o.child=T,m=o.child,m.memoizedState=kd(c),m.childLanes=Td(i,S,c),o.memoizedState=_d,f):(Lr(o),Ed(o,T))}if(A=i.memoizedState,A!==null&&(T=A.dehydrated,T!==null)){if(g)o.flags&256?(Lr(o),o.flags&=-257,o=Cd(i,o,c)):o.memoizedState!==null?(Pr(),o.child=i.child,o.flags|=128,o=null):(Pr(),m=f.fallback,T=o.mode,f=pc({mode:"visible",children:f.children},T),m=Ni(m,T,c,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,$s(o,i.child,null,c),f=o.child,f.memoizedState=kd(c),f.childLanes=Td(i,S,c),o.memoizedState=_d,o=m);else if(Lr(o),lh(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var L=S.dgst;S=L,f=Error(r(419)),f.stack="",f.digest=S,Wa({value:f,source:null,stack:null}),o=Cd(i,o,c)}else if(ut||Za(i,o,c,!1),S=(c&i.childLanes)!==0,ut||S){if(S=$e,S!==null&&(f=c&-c,f=(f&42)!==0?1:cf(f),f=(f&(S.suspendedLanes|c))!==0?0:f,f!==0&&f!==A.retryLane))throw A.retryLane=f,Ns(i,f),on(S,i,f),A0;T.data==="$?"||Fd(),o=Cd(i,o,c)}else T.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=A.treeContext,Xe=On(T.nextSibling),zt=o,je=!0,ji=null,Pn=!1,i!==null&&(gn[yn++]=er,gn[yn++]=tr,gn[yn++]=Mi,er=i.id,tr=i.overflow,Mi=o),o=Ed(o,f.children),o.flags|=4096);return o}return m?(Pr(),m=f.fallback,T=o.mode,A=i.child,L=A.sibling,f=Zn(A,{mode:"hidden",children:f.children}),f.subtreeFlags=A.subtreeFlags&65011712,L!==null?m=Zn(L,m):(m=Ni(m,T,c,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,T=i.child.memoizedState,T===null?T=kd(c):(A=T.cachePool,A!==null?(L=st._currentValue,A=A.parent!==L?{parent:L,pool:L}:A):A=ky(),T={baseLanes:T.baseLanes|c,cachePool:A}),m.memoizedState=T,m.childLanes=Td(i,S,c),o.memoizedState=_d,f):(Lr(o),c=i.child,i=c.sibling,c=Zn(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=c,o.memoizedState=null,c)}function Ed(i,o){return o=pc({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function pc(i,o){return i=tn(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cd(i,o,c){return $s(o,i.child,null,c),i=Ed(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function I0(i,o,c){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Ff(i.return,o,c)}function Od(i,o,c,f,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=c,g.tailMode=m)}function U0(i,o,c){var f=o.pendingProps,m=f.revealOrder,g=f.tail;if(xt(i,o,f.children,c),f=at.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&I0(i,c,o);else if(i.tag===19)I0(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(Z(at,f),m){case"forwards":for(c=o.child,m=null;c!==null;)i=c.alternate,i!==null&&uc(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Od(o,!1,m,c,g);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&uc(i)===null){o.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}Od(o,!0,c,null,g);break;case"together":Od(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ar(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),qr|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(Za(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=Zn(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Zn(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Ad(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Kl(i)))}function VT(i,o,c){switch(o.tag){case 3:Fe(o,o.stateNode.containerInfo),Mr(o,st,i.memoizedState.cache),Qa();break;case 27:case 5:rf(o);break;case 4:Fe(o,o.stateNode.containerInfo);break;case 10:Mr(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Lr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?B0(i,o,c):(Lr(o),i=ar(i,o,c),i!==null?i.sibling:null);Lr(o);break;case 19:var m=(i.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Za(i,o,c,!1),f=(c&o.childLanes)!==0),m){if(f)return U0(i,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(at,at.current),f)break;return null;case 22:case 23:return o.lanes=0,j0(i,o,c);case 24:Mr(o,st,i.memoizedState.cache)}return ar(i,o,c)}function $0(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)ut=!0;else{if(!Ad(i,c)&&(o.flags&128)===0)return ut=!1,VT(i,o,c);ut=(i.flags&131072)!==0}else ut=!1,je&&(o.flags&1048576)!==0&&yy(o,Gl,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")Bf(f)?(i=Ii(f,i),o.tag=1,o=L0(null,o,f,i,c)):(o.tag=0,o=Sd(null,o,f,i,c));else{if(f!=null){if(m=f.$$typeof,m===B){o.tag=11,o=N0(null,o,f,i,c);break e}else if(m===G){o.tag=14,o=M0(null,o,f,i,c);break e}}throw o=it(f)||f,Error(r(306,o,""))}}return o;case 0:return Sd(i,o,o.type,o.pendingProps,c);case 1:return f=o.type,m=Ii(f,o.pendingProps),L0(i,o,f,m,c);case 3:e:{if(Fe(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var g=o.memoizedState;m=g.element,Wf(i,o),ao(o,f,null,c);var S=o.memoizedState;if(f=S.cache,Mr(o,st,f),f!==g.cache&&Yf(o,[st],c,!0),so(),f=S.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=P0(i,o,f,c);break e}else if(f!==m){m=pn(Error(r(424)),o),Wa(m),o=P0(i,o,f,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xe=On(i.firstChild),zt=o,je=!0,ji=null,Pn=!0,c=v0(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Qa(),f===m){o=ar(i,o,c);break e}xt(i,o,f,c)}o=o.child}return o;case 26:return hc(i,o),i===null?(c=Fb(o.type,null,o.pendingProps,null))?o.memoizedState=c:je||(c=o.type,i=o.pendingProps,f=Oc(ye.current).createElement(c),f[Ct]=o,f[$t]=i,St(f,c,i),ct(f),o.stateNode=f):o.memoizedState=Fb(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return rf(o),i===null&&je&&(f=o.stateNode=qb(o.type,o.pendingProps,ye.current),zt=o,Pn=!0,m=Xe,Yr(o.type)?(ch=m,Xe=On(f.firstChild)):Xe=m),xt(i,o,o.pendingProps.children,c),hc(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&je&&((m=f=Xe)&&(f=bE(f,o.type,o.pendingProps,Pn),f!==null?(o.stateNode=f,zt=o,Xe=On(f.firstChild),Pn=!1,m=!0):m=!1),m||Di(o)),rf(o),m=o.type,g=o.pendingProps,S=i!==null?i.memoizedProps:null,f=g.children,sh(m,g)?f=null:S!==null&&sh(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=id(i,o,LT,null,null,c),Ao._currentValue=m),hc(i,o),xt(i,o,f,c),o.child;case 6:return i===null&&je&&((i=c=Xe)&&(c=vE(c,o.pendingProps,Pn),c!==null?(o.stateNode=c,zt=o,Xe=null,i=!0):i=!1),i||Di(o)),null;case 13:return B0(i,o,c);case 4:return Fe(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=$s(o,null,f,c):xt(i,o,f,c),o.child;case 11:return N0(i,o,o.type,o.pendingProps,c);case 7:return xt(i,o,o.pendingProps,c),o.child;case 8:return xt(i,o,o.pendingProps.children,c),o.child;case 12:return xt(i,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,Mr(o,o.type,f.value),xt(i,o,f.children,c),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,Li(o),m=Ot(m),f=f(m),o.flags|=1,xt(i,o,f,c),o.child;case 14:return M0(i,o,o.type,o.pendingProps,c);case 15:return R0(i,o,o.type,o.pendingProps,c);case 19:return U0(i,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},i===null?(c=pc(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Zn(i.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return j0(i,o,c);case 24:return Li(o),f=Ot(st),i===null?(m=Jf(),m===null&&(m=$e,g=Gf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=c),m=g),o.memoizedState={parent:f,cache:m},Qf(o),Mr(o,st,m)):((i.lanes&c)!==0&&(Wf(i,o),ao(o,null,null,c),so()),m=i.memoizedState,g=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Mr(o,st,f)):(f=g.cache,Mr(o,st,f),f!==m.cache&&Yf(o,[st],c,!0))),xt(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function or(i){i.flags|=4}function q0(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Xb(o)){if(o=bn.current,o!==null&&((Me&4194048)===Me?Bn!==null:(Me&62914560)!==Me&&(Me&536870912)===0||o!==Bn))throw ro=Xf,Ty;i.flags|=8192}}function mc(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?xg():536870912,i.lanes|=o,Fs|=o)}function po(i,o){if(!je)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ke(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(o)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=c,o}function FT(i,o,c){var f=o.pendingProps;switch(qf(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(o),null;case 1:return Ke(o),null;case 3:return c=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),rr(st),Cr(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Xa(o)?or(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xy())),Ke(o),null;case 26:return c=o.memoizedState,i===null?(or(o),c!==null?(Ke(o),q0(o,c)):(Ke(o),o.flags&=-16777217)):c?c!==i.memoizedState?(or(o),Ke(o),q0(o,c)):(Ke(o),o.flags&=-16777217):(i.memoizedProps!==f&&or(o),Ke(o),o.flags&=-16777217),null;case 27:El(o),c=ye.current;var m=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&or(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ke(o),null}i=ce.current,Xa(o)?by(o):(i=qb(m,f,c),o.stateNode=i,or(o))}return Ke(o),null;case 5:if(El(o),c=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&or(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Ke(o),null}if(i=ce.current,Xa(o))by(o);else{switch(m=Oc(ye.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?m.createElement(c,{is:f.is}):m.createElement(c)}}i[Ct]=o,i[$t]=f;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=i;e:switch(St(i,c,f),c){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&or(o)}}return Ke(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&or(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=ye.current,Xa(o)){if(i=o.stateNode,c=o.memoizedProps,f=null,m=zt,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[Ct]=o,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||zb(i.nodeValue,c)),i||Di(o)}else i=Oc(i).createTextNode(f),i[Ct]=o,o.stateNode=i}return Ke(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Xa(o),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ct]=o}else Qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ke(o),m=!1}else m=xy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(sr(o),o):(sr(o),null)}if(sr(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,i=i!==null&&i.memoizedState!==null,c){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var g=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==m&&(f.flags|=2048)}return c!==i&&c&&(o.child.flags|=8192),mc(o,o.updateQueue),Ke(o),null;case 4:return Cr(),i===null&&eh(o.stateNode.containerInfo),Ke(o),null;case 10:return rr(o.type),Ke(o),null;case 19:if(te(at),m=o.memoizedState,m===null)return Ke(o),null;if(f=(o.flags&128)!==0,g=m.rendering,g===null)if(f)po(m,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(g=uc(i),g!==null){for(o.flags|=128,po(m,!1),i=g.updateQueue,o.updateQueue=i,mc(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)gy(c,i),c=c.sibling;return Z(at,at.current&1|2),o.child}i=i.sibling}m.tail!==null&&Ln()>bc&&(o.flags|=128,f=!0,po(m,!1),o.lanes=4194304)}else{if(!f)if(i=uc(g),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,mc(o,i),po(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!je)return Ke(o),null}else 2*Ln()-m.renderingStartTime>bc&&c!==536870912&&(o.flags|=128,f=!0,po(m,!1),o.lanes=4194304);m.isBackwards?(g.sibling=o.child,o.child=g):(i=m.last,i!==null?i.sibling=g:o.child=g,m.last=g)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Ln(),o.sibling=null,i=at.current,Z(at,f?i&1|2:i&1),o):(Ke(o),null);case 22:case 23:return sr(o),nd(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Ke(o),o.subtreeFlags&6&&(o.flags|=8192)):Ke(o),c=o.updateQueue,c!==null&&mc(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),i!==null&&te(Pi),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),rr(st),Ke(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function YT(i,o){switch(qf(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return rr(st),Cr(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return El(o),null;case 13:if(sr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Qa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return te(at),null;case 4:return Cr(),null;case 10:return rr(o.type),null;case 22:case 23:return sr(o),nd(),i!==null&&te(Pi),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return rr(st),null;case 25:return null;default:return null}}function H0(i,o){switch(qf(o),o.tag){case 3:rr(st),Cr();break;case 26:case 27:case 5:El(o);break;case 4:Cr();break;case 13:sr(o);break;case 19:te(at);break;case 10:rr(o.type);break;case 22:case 23:sr(o),nd(),i!==null&&te(Pi);break;case 24:rr(st)}}function mo(i,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&i)===i){f=void 0;var g=c.create,S=c.inst;f=g(),S.destroy=f}c=c.next}while(c!==m)}}catch(T){Ie(o,o.return,T)}}function Br(i,o,c){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var g=m.next;f=g;do{if((f.tag&i)===i){var S=f.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,m=o;var A=c,L=T;try{L()}catch($){Ie(m,A,$)}}}f=f.next}while(f!==g)}}catch($){Ie(o,o.return,$)}}function V0(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{My(o,c)}catch(f){Ie(i,i.return,f)}}}function F0(i,o,c){c.props=Ii(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){Ie(i,o,f)}}function go(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(m){Ie(i,o,m)}}function In(i,o){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(m){Ie(i,o,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Ie(i,o,m)}else c.current=null}function Y0(i){var o=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(m){Ie(i,i.return,m)}}function Nd(i,o,c){try{var f=i.stateNode;hE(f,i.type,c,o),f[$t]=o}catch(m){Ie(i,i.return,m)}}function G0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Yr(i.type)||i.tag===4}function Md(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||G0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rd(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Cc));else if(f!==4&&(f===27&&Yr(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Rd(i,o,c),i=i.sibling;i!==null;)Rd(i,o,c),i=i.sibling}function gc(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(f!==4&&(f===27&&Yr(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(gc(i,o,c),i=i.sibling;i!==null;)gc(i,o,c),i=i.sibling}function K0(i){var o=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);St(o,f,c),o[Ct]=i,o[$t]=c}catch(g){Ie(i,i.return,g)}}var lr=!1,et=!1,jd=!1,J0=typeof WeakSet=="function"?WeakSet:Set,ft=null;function GT(i,o){if(i=i.containerInfo,rh=Dc,i=ay(i),Mf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var S=0,T=-1,A=-1,L=0,$=0,V=i,P=null;t:for(;;){for(var I;V!==c||m!==0&&V.nodeType!==3||(T=S+m),V!==g||f!==0&&V.nodeType!==3||(A=S+f),V.nodeType===3&&(S+=V.nodeValue.length),(I=V.firstChild)!==null;)P=V,V=I;for(;;){if(V===i)break t;if(P===c&&++L===m&&(T=S),P===g&&++$===f&&(A=S),(I=V.nextSibling)!==null)break;V=P,P=V.parentNode}V=I}c=T===-1||A===-1?null:{start:T,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(ih={focusedElem:i,selectionRange:c},Dc=!1,ft=o;ft!==null;)if(o=ft,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,ft=i;else for(;ft!==null;){switch(o=ft,g=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,c=o,m=g.memoizedProps,g=g.memoizedState,f=c.stateNode;try{var he=Ii(c.type,m,c.elementType===c.type);i=f.getSnapshotBeforeUpdate(he,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(fe){Ie(c,c.return,fe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)oh(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":oh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,ft=i;break}ft=o.return}}function X0(i,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ir(i,c),f&4&&mo(5,c);break;case 1:if(Ir(i,c),f&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(S){Ie(c,c.return,S)}else{var m=Ii(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(m,o,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ie(c,c.return,S)}}f&64&&V0(c),f&512&&go(c,c.return);break;case 3:if(Ir(i,c),f&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{My(i,o)}catch(S){Ie(c,c.return,S)}}break;case 27:o===null&&f&4&&K0(c);case 26:case 5:Ir(i,c),o===null&&f&4&&Y0(c),f&512&&go(c,c.return);break;case 12:Ir(i,c);break;case 13:Ir(i,c),f&4&&Z0(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=nE.bind(null,c),xE(i,c))));break;case 22:if(f=c.memoizedState!==null||lr,!f){o=o!==null&&o.memoizedState!==null||et,m=lr;var g=et;lr=f,(et=o)&&!g?Ur(i,c,(c.subtreeFlags&8772)!==0):Ir(i,c),lr=m,et=g}break;case 30:break;default:Ir(i,c)}}function Q0(i){var o=i.alternate;o!==null&&(i.alternate=null,Q0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&df(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ye=null,Vt=!1;function cr(i,o,c){for(c=c.child;c!==null;)W0(i,o,c),c=c.sibling}function W0(i,o,c){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(La,c)}catch{}switch(c.tag){case 26:et||In(c,o),cr(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:et||In(c,o);var f=Ye,m=Vt;Yr(c.type)&&(Ye=c.stateNode,Vt=!1),cr(i,o,c),To(c.stateNode),Ye=f,Vt=m;break;case 5:et||In(c,o);case 6:if(f=Ye,m=Vt,Ye=null,cr(i,o,c),Ye=f,Vt=m,Ye!==null)if(Vt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(c.stateNode)}catch(g){Ie(c,o,g)}else try{Ye.removeChild(c.stateNode)}catch(g){Ie(c,o,g)}break;case 18:Ye!==null&&(Vt?(i=Ye,Ub(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),jo(i)):Ub(Ye,c.stateNode));break;case 4:f=Ye,m=Vt,Ye=c.stateNode.containerInfo,Vt=!0,cr(i,o,c),Ye=f,Vt=m;break;case 0:case 11:case 14:case 15:et||Br(2,c,o),et||Br(4,c,o),cr(i,o,c);break;case 1:et||(In(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&F0(c,o,f)),cr(i,o,c);break;case 21:cr(i,o,c);break;case 22:et=(f=et)||c.memoizedState!==null,cr(i,o,c),et=f;break;default:cr(i,o,c)}}function Z0(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jo(i)}catch(c){Ie(o,o.return,c)}}function KT(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new J0),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new J0),o;default:throw Error(r(435,i.tag))}}function Dd(i,o){var c=KT(i);o.forEach(function(f){var m=rE.bind(null,i,f);c.has(f)||(c.add(f),f.then(m,m))})}function nn(i,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f],g=i,S=o,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Yr(T.type)){Ye=T.stateNode,Vt=!1;break e}break;case 5:Ye=T.stateNode,Vt=!1;break e;case 3:case 4:Ye=T.stateNode.containerInfo,Vt=!0;break e}T=T.return}if(Ye===null)throw Error(r(160));W0(g,S,m),Ye=null,Vt=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)eb(o,i),o=o.sibling}var Cn=null;function eb(i,o){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:nn(o,i),rn(i),f&4&&(Br(3,i,i.return),mo(3,i),Br(5,i,i.return));break;case 1:nn(o,i),rn(i),f&512&&(et||c===null||In(c,c.return)),f&64&&lr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var m=Cn;if(nn(o,i),rn(i),f&512&&(et||c===null||In(c,c.return)),f&4){var g=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ia]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(f),m.head.insertBefore(g,m.querySelector("head > title"))),St(g,f,c),g[Ct]=i,ct(g),f=g;break e;case"link":var S=Kb("link","href",m).get(f+(c.href||""));if(S){for(var T=0;T<S.length;T++)if(g=S[T],g.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&g.getAttribute("rel")===(c.rel==null?null:c.rel)&&g.getAttribute("title")===(c.title==null?null:c.title)&&g.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(T,1);break t}}g=m.createElement(f),St(g,f,c),m.head.appendChild(g);break;case"meta":if(S=Kb("meta","content",m).get(f+(c.content||""))){for(T=0;T<S.length;T++)if(g=S[T],g.getAttribute("content")===(c.content==null?null:""+c.content)&&g.getAttribute("name")===(c.name==null?null:c.name)&&g.getAttribute("property")===(c.property==null?null:c.property)&&g.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&g.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(T,1);break t}}g=m.createElement(f),St(g,f,c),m.head.appendChild(g);break;default:throw Error(r(468,f))}g[Ct]=i,ct(g),f=g}i.stateNode=f}else Jb(m,i.type,i.stateNode);else i.stateNode=Gb(m,f,i.memoizedProps);else g!==f?(g===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):g.count--,f===null?Jb(m,i.type,i.stateNode):Gb(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Nd(i,i.memoizedProps,c.memoizedProps)}break;case 27:nn(o,i),rn(i),f&512&&(et||c===null||In(c,c.return)),c!==null&&f&4&&Nd(i,i.memoizedProps,c.memoizedProps);break;case 5:if(nn(o,i),rn(i),f&512&&(et||c===null||In(c,c.return)),i.flags&32){m=i.stateNode;try{_s(m,"")}catch(I){Ie(i,i.return,I)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,Nd(i,m,c!==null?c.memoizedProps:m)),f&1024&&(jd=!0);break;case 6:if(nn(o,i),rn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(I){Ie(i,i.return,I)}}break;case 3:if(Mc=null,m=Cn,Cn=Ac(o.containerInfo),nn(o,i),Cn=m,rn(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{jo(o.containerInfo)}catch(I){Ie(i,i.return,I)}jd&&(jd=!1,tb(i));break;case 4:f=Cn,Cn=Ac(i.stateNode.containerInfo),nn(o,i),rn(i),Cn=f;break;case 12:nn(o,i),rn(i);break;case 13:nn(o,i),rn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ud=Ln()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Dd(i,f)));break;case 22:m=i.memoizedState!==null;var A=c!==null&&c.memoizedState!==null,L=lr,$=et;if(lr=L||m,et=$||A,nn(o,i),et=$,lr=L,rn(i),f&8192)e:for(o=i.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(c===null||A||lr||et||Ui(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){A=c=o;try{if(g=A.stateNode,m)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=A.stateNode;var V=A.memoizedProps.style,P=V!=null&&V.hasOwnProperty("display")?V.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(I){Ie(A,A.return,I)}}}else if(o.tag===6){if(c===null){A=o;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(I){Ie(A,A.return,I)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Dd(i,c))));break;case 19:nn(o,i),rn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Dd(i,f)));break;case 30:break;case 21:break;default:nn(o,i),rn(i)}}function rn(i){var o=i.flags;if(o&2){try{for(var c,f=i.return;f!==null;){if(G0(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,g=Md(i);gc(i,g,m);break;case 5:var S=c.stateNode;c.flags&32&&(_s(S,""),c.flags&=-33);var T=Md(i);gc(i,T,S);break;case 3:case 4:var A=c.stateNode.containerInfo,L=Md(i);Rd(i,L,A);break;default:throw Error(r(161))}}catch($){Ie(i,i.return,$)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;tb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ir(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)X0(i,o.alternate,o),o=o.sibling}function Ui(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Br(4,o,o.return),Ui(o);break;case 1:In(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&F0(o,o.return,c),Ui(o);break;case 27:To(o.stateNode);case 26:case 5:In(o,o.return),Ui(o);break;case 22:o.memoizedState===null&&Ui(o);break;case 30:Ui(o);break;default:Ui(o)}i=i.sibling}}function Ur(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=i,g=o,S=g.flags;switch(g.tag){case 0:case 11:case 15:Ur(m,g,c),mo(4,g);break;case 1:if(Ur(m,g,c),f=g,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Ie(f,f.return,L)}if(f=g,m=f.updateQueue,m!==null){var T=f.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)Ny(A[m],T)}catch(L){Ie(f,f.return,L)}}c&&S&64&&V0(g),go(g,g.return);break;case 27:K0(g);case 26:case 5:Ur(m,g,c),c&&f===null&&S&4&&Y0(g),go(g,g.return);break;case 12:Ur(m,g,c);break;case 13:Ur(m,g,c),c&&S&4&&Z0(m,g);break;case 22:g.memoizedState===null&&Ur(m,g,c),go(g,g.return);break;case 30:break;default:Ur(m,g,c)}o=o.sibling}}function zd(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&eo(c))}function Ld(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&eo(i))}function Un(i,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)nb(i,o,c,f),o=o.sibling}function nb(i,o,c,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Un(i,o,c,f),m&2048&&mo(9,o);break;case 1:Un(i,o,c,f);break;case 3:Un(i,o,c,f),m&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&eo(i)));break;case 12:if(m&2048){Un(i,o,c,f),i=o.stateNode;try{var g=o.memoizedProps,S=g.id,T=g.onPostCommit;typeof T=="function"&&T(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Ie(o,o.return,A)}}else Un(i,o,c,f);break;case 13:Un(i,o,c,f);break;case 23:break;case 22:g=o.stateNode,S=o.alternate,o.memoizedState!==null?g._visibility&2?Un(i,o,c,f):yo(i,o):g._visibility&2?Un(i,o,c,f):(g._visibility|=2,qs(i,o,c,f,(o.subtreeFlags&10256)!==0)),m&2048&&zd(S,o);break;case 24:Un(i,o,c,f),m&2048&&Ld(o.alternate,o);break;default:Un(i,o,c,f)}}function qs(i,o,c,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var g=i,S=o,T=c,A=f,L=S.flags;switch(S.tag){case 0:case 11:case 15:qs(g,S,T,A,m),mo(8,S);break;case 23:break;case 22:var $=S.stateNode;S.memoizedState!==null?$._visibility&2?qs(g,S,T,A,m):yo(g,S):($._visibility|=2,qs(g,S,T,A,m)),m&&L&2048&&zd(S.alternate,S);break;case 24:qs(g,S,T,A,m),m&&L&2048&&Ld(S.alternate,S);break;default:qs(g,S,T,A,m)}o=o.sibling}}function yo(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,f=o,m=f.flags;switch(f.tag){case 22:yo(c,f),m&2048&&zd(f.alternate,f);break;case 24:yo(c,f),m&2048&&Ld(f.alternate,f);break;default:yo(c,f)}o=o.sibling}}var bo=8192;function Hs(i){if(i.subtreeFlags&bo)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 26:Hs(i),i.flags&bo&&i.memoizedState!==null&&jE(Cn,i.memoizedState,i.memoizedProps);break;case 5:Hs(i);break;case 3:case 4:var o=Cn;Cn=Ac(i.stateNode.containerInfo),Hs(i),Cn=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=bo,bo=16777216,Hs(i),bo=o):Hs(i));break;default:Hs(i)}}function ib(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function vo(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];ft=f,ab(f,i)}ib(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sb(i),i=i.sibling}function sb(i){switch(i.tag){case 0:case 11:case 15:vo(i),i.flags&2048&&Br(9,i,i.return);break;case 3:vo(i);break;case 12:vo(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,yc(i)):vo(i);break;default:vo(i)}}function yc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];ft=f,ab(f,i)}ib(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Br(8,o,o.return),yc(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,yc(o));break;default:yc(o)}i=i.sibling}}function ab(i,o){for(;ft!==null;){var c=ft;switch(c.tag){case 0:case 11:case 15:Br(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:eo(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,ft=f;else e:for(c=i;ft!==null;){f=ft;var m=f.sibling,g=f.return;if(Q0(f),f===c){ft=null;break e}if(m!==null){m.return=g,ft=m;break e}ft=g}}}var JT={getCacheForType:function(i){var o=Ot(st),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c}},XT=typeof WeakMap=="function"?WeakMap:Map,De=0,$e=null,Ee=null,Me=0,ze=0,sn=null,$r=!1,Vs=!1,Pd=!1,ur=0,Qe=0,qr=0,$i=0,Bd=0,vn=0,Fs=0,xo=null,Ft=null,Id=!1,Ud=0,bc=1/0,vc=null,Hr=null,wt=0,Vr=null,Ys=null,Gs=0,$d=0,qd=null,ob=null,wo=0,Hd=null;function an(){if((De&2)!==0&&Me!==0)return Me&-Me;if(U.T!==null){var i=Ds;return i!==0?i:Xd()}return _g()}function lb(){vn===0&&(vn=(Me&536870912)===0||je?vg():536870912);var i=bn.current;return i!==null&&(i.flags|=32),vn}function on(i,o,c){(i===$e&&(ze===2||ze===9)||i.cancelPendingCommit!==null)&&(Ks(i,0),Fr(i,Me,vn,!1)),Ba(i,c),((De&2)===0||i!==$e)&&(i===$e&&((De&2)===0&&($i|=c),Qe===4&&Fr(i,Me,vn,!1)),$n(i))}function cb(i,o,c){if((De&6)!==0)throw Error(r(327));var f=!c&&(o&124)===0&&(o&i.expiredLanes)===0||Pa(i,o),m=f?ZT(i,o):Yd(i,o,!0),g=f;do{if(m===0){Vs&&!f&&Fr(i,o,0,!1);break}else{if(c=i.current.alternate,g&&!QT(c)){m=Yd(i,o,!1),g=!1;continue}if(m===2){if(g=o,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var T=i;m=xo;var A=T.current.memoizedState.isDehydrated;if(A&&(Ks(T,S).flags|=256),S=Yd(T,S,!1),S!==2){if(Pd&&!A){T.errorRecoveryDisabledLanes|=g,$i|=g,m=4;break e}g=Ft,Ft=m,g!==null&&(Ft===null?Ft=g:Ft.push.apply(Ft,g))}m=S}if(g=!1,m!==2)continue}}if(m===1){Ks(i,0),Fr(i,o,0,!0);break}e:{switch(f=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Fr(f,o,vn,!$r);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(m=Ud+300-Ln(),10<m)){if(Fr(f,o,vn,!$r),Nl(f,0,!0)!==0)break e;f.timeoutHandle=Bb(ub.bind(null,f,c,Ft,vc,Id,o,vn,$i,Fs,$r,g,2,-0,0),m);break e}ub(f,c,Ft,vc,Id,o,vn,$i,Fs,$r,g,0,-0,0)}}break}while(!0);$n(i)}function ub(i,o,c,f,m,g,S,T,A,L,$,V,P,I){if(i.timeoutHandle=-1,V=o.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Oo={stylesheets:null,count:0,unsuspend:RE},rb(o),V=DE(),V!==null)){i.cancelPendingCommit=V(yb.bind(null,i,o,g,c,f,m,S,T,A,$,1,P,I)),Fr(i,g,S,!L);return}yb(i,o,g,c,f,m,S,T,A)}function QT(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var m=c[f],g=m.getSnapshot;m=m.value;try{if(!en(g(),m))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fr(i,o,c,f){o&=~Bd,o&=~$i,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var m=o;0<m;){var g=31-Zt(m),S=1<<g;f[g]=-1,m&=~S}c!==0&&wg(i,c,o)}function xc(){return(De&6)===0?(So(0),!1):!0}function Vd(){if(Ee!==null){if(ze===0)var i=Ee.return;else i=Ee,nr=zi=null,od(i),Us=null,fo=0,i=Ee;for(;i!==null;)H0(i.alternate,i),i=i.return;Ee=null}}function Ks(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,mE(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Vd(),$e=i,Ee=c=Zn(i.current,null),Me=o,ze=0,sn=null,$r=!1,Vs=Pa(i,o),Pd=!1,Fs=vn=Bd=$i=qr=Qe=0,Ft=xo=null,Id=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var m=31-Zt(f),g=1<<m;o|=i[m],f&=~g}return ur=o,ql(),c}function fb(i,o){_e=null,U.H=oc,o===no||o===Ql?(o=Oy(),ze=3):o===Ty?(o=Oy(),ze=4):ze=o===A0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,sn=o,Ee===null&&(Qe=1,dc(i,pn(o,i.current)))}function db(){var i=U.H;return U.H=oc,i===null?oc:i}function hb(){var i=U.A;return U.A=JT,i}function Fd(){Qe=4,$r||(Me&4194048)!==Me&&bn.current!==null||(Vs=!0),(qr&134217727)===0&&($i&134217727)===0||$e===null||Fr($e,Me,vn,!1)}function Yd(i,o,c){var f=De;De|=2;var m=db(),g=hb();($e!==i||Me!==o)&&(vc=null,Ks(i,o)),o=!1;var S=Qe;e:do try{if(ze!==0&&Ee!==null){var T=Ee,A=sn;switch(ze){case 8:Vd(),S=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(o=!0);var L=ze;if(ze=0,sn=null,Js(i,T,A,L),c&&Vs){S=0;break e}break;default:L=ze,ze=0,sn=null,Js(i,T,A,L)}}WT(),S=Qe;break}catch($){fb(i,$)}while(!0);return o&&i.shellSuspendCounter++,nr=zi=null,De=f,U.H=m,U.A=g,Ee===null&&($e=null,Me=0,ql()),S}function WT(){for(;Ee!==null;)pb(Ee)}function ZT(i,o){var c=De;De|=2;var f=db(),m=hb();$e!==i||Me!==o?(vc=null,bc=Ln()+500,Ks(i,o)):Vs=Pa(i,o);e:do try{if(ze!==0&&Ee!==null){o=Ee;var g=sn;t:switch(ze){case 1:ze=0,sn=null,Js(i,o,g,1);break;case 2:case 9:if(Ey(g)){ze=0,sn=null,mb(o);break}o=function(){ze!==2&&ze!==9||$e!==i||(ze=7),$n(i)},g.then(o,o);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Ey(g)?(ze=0,sn=null,mb(o)):(ze=0,sn=null,Js(i,o,g,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var T=Ee;if(!S||Xb(S)){ze=0,sn=null;var A=T.sibling;if(A!==null)Ee=A;else{var L=T.return;L!==null?(Ee=L,wc(L)):Ee=null}break t}}ze=0,sn=null,Js(i,o,g,5);break;case 6:ze=0,sn=null,Js(i,o,g,6);break;case 8:Vd(),Qe=6;break e;default:throw Error(r(462))}}eE();break}catch($){fb(i,$)}while(!0);return nr=zi=null,U.H=f,U.A=m,De=c,Ee!==null?0:($e=null,Me=0,ql(),Qe)}function eE(){for(;Ee!==null&&!Sk();)pb(Ee)}function pb(i){var o=$0(i.alternate,i,ur);i.memoizedProps=i.pendingProps,o===null?wc(i):Ee=o}function mb(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=z0(c,o,o.pendingProps,o.type,void 0,Me);break;case 11:o=z0(c,o,o.pendingProps,o.type.render,o.ref,Me);break;case 5:od(o);default:H0(c,o),o=Ee=gy(o,ur),o=$0(c,o,ur)}i.memoizedProps=i.pendingProps,o===null?wc(i):Ee=o}function Js(i,o,c,f){nr=zi=null,od(o),Us=null,fo=0;var m=o.return;try{if(HT(i,m,o,c,Me)){Qe=1,dc(i,pn(c,i.current)),Ee=null;return}}catch(g){if(m!==null)throw Ee=m,g;Qe=1,dc(i,pn(c,i.current)),Ee=null;return}o.flags&32768?(je||f===1?i=!0:Vs||(Me&536870912)!==0?i=!1:($r=i=!0,(f===2||f===9||f===3||f===6)&&(f=bn.current,f!==null&&f.tag===13&&(f.flags|=16384))),gb(o,i)):wc(o)}function wc(i){var o=i;do{if((o.flags&32768)!==0){gb(o,$r);return}i=o.return;var c=FT(o.alternate,o,ur);if(c!==null){Ee=c;return}if(o=o.sibling,o!==null){Ee=o;return}Ee=o=i}while(o!==null);Qe===0&&(Qe=5)}function gb(i,o){do{var c=YT(i.alternate,i);if(c!==null){c.flags&=32767,Ee=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){Ee=i;return}Ee=i=c}while(i!==null);Qe=6,Ee=null}function yb(i,o,c,f,m,g,S,T,A){i.cancelPendingCommit=null;do Sc();while(wt!==0);if((De&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(g=o.lanes|o.childLanes,g|=Lf,Rk(i,c,g,S,T,A),i===$e&&(Ee=$e=null,Me=0),Ys=o,Vr=i,Gs=c,$d=g,qd=m,ob=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iE(Cl,function(){return Sb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,m=Q.p,Q.p=2,S=De,De|=4;try{GT(i,o,c)}finally{De=S,Q.p=m,U.T=f}}wt=1,bb(),vb(),xb()}}function bb(){if(wt===1){wt=0;var i=Vr,o=Ys,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=U.T,U.T=null;var f=Q.p;Q.p=2;var m=De;De|=4;try{eb(o,i);var g=ih,S=ay(i.containerInfo),T=g.focusedElem,A=g.selectionRange;if(S!==T&&T&&T.ownerDocument&&sy(T.ownerDocument.documentElement,T)){if(A!==null&&Mf(T)){var L=A.start,$=A.end;if($===void 0&&($=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min($,T.value.length);else{var V=T.ownerDocument||document,P=V&&V.defaultView||window;if(P.getSelection){var I=P.getSelection(),he=T.textContent.length,fe=Math.min(A.start,he),Be=A.end===void 0?fe:Math.min(A.end,he);!I.extend&&fe>Be&&(S=Be,Be=fe,fe=S);var j=iy(T,fe),R=iy(T,Be);if(j&&R&&(I.rangeCount!==1||I.anchorNode!==j.node||I.anchorOffset!==j.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var z=V.createRange();z.setStart(j.node,j.offset),I.removeAllRanges(),fe>Be?(I.addRange(z),I.extend(R.node,R.offset)):(z.setEnd(R.node,R.offset),I.addRange(z))}}}}for(V=[],I=T;I=I.parentNode;)I.nodeType===1&&V.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<V.length;T++){var H=V[T];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Dc=!!rh,ih=rh=null}finally{De=m,Q.p=f,U.T=c}}i.current=o,wt=2}}function vb(){if(wt===2){wt=0;var i=Vr,o=Ys,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=U.T,U.T=null;var f=Q.p;Q.p=2;var m=De;De|=4;try{X0(i,o.alternate,o)}finally{De=m,Q.p=f,U.T=c}}wt=3}}function xb(){if(wt===4||wt===3){wt=0,_k();var i=Vr,o=Ys,c=Gs,f=ob;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?wt=5:(wt=0,Ys=Vr=null,wb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Hr=null),uf(c),o=o.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(La,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=U.T,m=Q.p,Q.p=2,U.T=null;try{for(var g=i.onRecoverableError,S=0;S<f.length;S++){var T=f[S];g(T.value,{componentStack:T.stack})}}finally{U.T=o,Q.p=m}}(Gs&3)!==0&&Sc(),$n(i),m=i.pendingLanes,(c&4194090)!==0&&(m&42)!==0?i===Hd?wo++:(wo=0,Hd=i):wo=0,So(0)}}function wb(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,eo(o)))}function Sc(i){return bb(),vb(),xb(),Sb()}function Sb(){if(wt!==5)return!1;var i=Vr,o=$d;$d=0;var c=uf(Gs),f=U.T,m=Q.p;try{Q.p=32>c?32:c,U.T=null,c=qd,qd=null;var g=Vr,S=Gs;if(wt=0,Ys=Vr=null,Gs=0,(De&6)!==0)throw Error(r(331));var T=De;if(De|=4,sb(g.current),nb(g,g.current,S,c),De=T,So(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(La,g)}catch{}return!0}finally{Q.p=m,U.T=f,wb(i,o)}}function _b(i,o,c){o=pn(c,o),o=wd(i.stateNode,o,2),i=Dr(i,o,2),i!==null&&(Ba(i,2),$n(i))}function Ie(i,o,c){if(i.tag===3)_b(i,i,c);else for(;o!==null;){if(o.tag===3){_b(o,i,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Hr===null||!Hr.has(f))){i=pn(c,i),c=C0(2),f=Dr(o,c,2),f!==null&&(O0(c,f,o,i),Ba(f,2),$n(f));break}}o=o.return}}function Gd(i,o,c){var f=i.pingCache;if(f===null){f=i.pingCache=new XT;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(c)||(Pd=!0,m.add(c),i=tE.bind(null,i,o,c),o.then(i,i))}function tE(i,o,c){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,$e===i&&(Me&c)===c&&(Qe===4||Qe===3&&(Me&62914560)===Me&&300>Ln()-Ud?(De&2)===0&&Ks(i,0):Bd|=c,Fs===Me&&(Fs=0)),$n(i)}function kb(i,o){o===0&&(o=xg()),i=Ns(i,o),i!==null&&(Ba(i,o),$n(i))}function nE(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),kb(i,c)}function rE(i,o){var c=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),kb(i,c)}function iE(i,o){return af(i,o)}var _c=null,Xs=null,Kd=!1,kc=!1,Jd=!1,qi=0;function $n(i){i!==Xs&&i.next===null&&(Xs===null?_c=Xs=i:Xs=Xs.next=i),kc=!0,Kd||(Kd=!0,aE())}function So(i,o){if(!Jd&&kc){Jd=!0;do for(var c=!1,f=_c;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var g=0;else{var S=f.suspendedLanes,T=f.pingedLanes;g=(1<<31-Zt(42|i)+1)-1,g&=m&~(S&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(c=!0,Ob(f,g))}else g=Me,g=Nl(f,f===$e?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||Pa(f,g)||(c=!0,Ob(f,g));f=f.next}while(c);Jd=!1}}function sE(){Tb()}function Tb(){kc=Kd=!1;var i=0;qi!==0&&(pE()&&(i=qi),qi=0);for(var o=Ln(),c=null,f=_c;f!==null;){var m=f.next,g=Eb(f,o);g===0?(f.next=null,c===null?_c=m:c.next=m,m===null&&(Xs=c)):(c=f,(i!==0||(g&3)!==0)&&(kc=!0)),f=m}So(i)}function Eb(i,o){for(var c=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Zt(g),T=1<<S,A=m[S];A===-1?((T&c)===0||(T&f)!==0)&&(m[S]=Mk(T,o)):A<=o&&(i.expiredLanes|=T),g&=~T}if(o=$e,c=Me,c=Nl(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===o&&(ze===2||ze===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&of(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Pa(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(f!==null&&of(f),uf(c)){case 2:case 8:c=yg;break;case 32:c=Cl;break;case 268435456:c=bg;break;default:c=Cl}return f=Cb.bind(null,i),c=af(c,f),i.callbackPriority=o,i.callbackNode=c,o}return f!==null&&f!==null&&of(f),i.callbackPriority=2,i.callbackNode=null,2}function Cb(i,o){if(wt!==0&&wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Sc()&&i.callbackNode!==c)return null;var f=Me;return f=Nl(i,i===$e?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(cb(i,f,o),Eb(i,Ln()),i.callbackNode!=null&&i.callbackNode===c?Cb.bind(null,i):null)}function Ob(i,o){if(Sc())return null;cb(i,o,!0)}function aE(){gE(function(){(De&6)!==0?af(gg,sE):Tb()})}function Xd(){return qi===0&&(qi=vg()),qi}function Ab(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zl(""+i)}function Nb(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function oE(i,o,c,f,m){if(o==="submit"&&c&&c.stateNode===m){var g=Ab((m[$t]||null).action),S=f.submitter;S&&(o=(o=S[$t]||null)?Ab(o.formAction):S.getAttribute("formAction"),o!==null&&(g=o,S=null));var T=new Il("action","action",null,f,m);i.push({event:T,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qi!==0){var A=S?Nb(m,S):new FormData(m);gd(c,{pending:!0,data:A,method:m.method,action:g},null,A)}}else typeof g=="function"&&(T.preventDefault(),A=S?Nb(m,S):new FormData(m),gd(c,{pending:!0,data:A,method:m.method,action:g},g,A))},currentTarget:m}]})}}for(var Qd=0;Qd<zf.length;Qd++){var Wd=zf[Qd],lE=Wd.toLowerCase(),cE=Wd[0].toUpperCase()+Wd.slice(1);En(lE,"on"+cE)}En(cy,"onAnimationEnd"),En(uy,"onAnimationIteration"),En(fy,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(ET,"onTransitionRun"),En(CT,"onTransitionStart"),En(OT,"onTransitionCancel"),En(dy,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function Mb(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],m=f.event;f=f.listeners;e:{var g=void 0;if(o)for(var S=f.length-1;0<=S;S--){var T=f[S],A=T.instance,L=T.currentTarget;if(T=T.listener,A!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=L;try{g(m)}catch($){fc($)}m.currentTarget=null,g=A}else for(S=0;S<f.length;S++){if(T=f[S],A=T.instance,L=T.currentTarget,T=T.listener,A!==g&&m.isPropagationStopped())break e;g=T,m.currentTarget=L;try{g(m)}catch($){fc($)}m.currentTarget=null,g=A}}}}function Ce(i,o){var c=o[ff];c===void 0&&(c=o[ff]=new Set);var f=i+"__bubble";c.has(f)||(Rb(o,i,2,!1),c.add(f))}function Zd(i,o,c){var f=0;o&&(f|=4),Rb(c,i,f,o)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function eh(i){if(!i[Tc]){i[Tc]=!0,Tg.forEach(function(c){c!=="selectionchange"&&(uE.has(c)||Zd(c,!1,i),Zd(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Tc]||(o[Tc]=!0,Zd("selectionchange",!1,o))}}function Rb(i,o,c,f){switch(nv(o)){case 2:var m=PE;break;case 8:m=BE;break;default:m=ph}c=m.bind(null,o,c,i),m=void 0,!Sf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,c,{capture:!0,passive:m}):i.addEventListener(o,c,!0):m!==void 0?i.addEventListener(o,c,{passive:m}):i.addEventListener(o,c,!1)}function th(i,o,c,f,m){var g=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===m)break;if(S===4)for(S=f.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;T!==null;){if(S=ys(T),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){f=g=S;continue e}T=T.parentNode}}f=f.return}Ig(function(){var L=g,$=xf(c),V=[];e:{var P=hy.get(i);if(P!==void 0){var I=Il,he=i;switch(i){case"keypress":if(Pl(c)===0)break e;case"keydown":case"keyup":I=iT;break;case"focusin":he="focus",I=Ef;break;case"focusout":he="blur",I=Ef;break;case"beforeblur":case"afterblur":I=Ef;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=oT;break;case cy:case uy:case fy:I=Jk;break;case dy:I=cT;break;case"scroll":case"scrollend":I=Vk;break;case"wheel":I=fT;break;case"copy":case"cut":case"paste":I=Qk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Vg;break;case"toggle":case"beforetoggle":I=hT}var fe=(o&4)!==0,Be=!fe&&(i==="scroll"||i==="scrollend"),j=fe?P!==null?P+"Capture":null:P;fe=[];for(var R=L,z;R!==null;){var H=R;if(z=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||z===null||j===null||(H=$a(R,j),H!=null&&fe.push(ko(R,H,z))),Be)break;R=R.return}0<fe.length&&(P=new I(P,he,null,c,$),V.push({event:P,listeners:fe}))}}if((o&7)===0){e:{if(P=i==="mouseover"||i==="pointerover",I=i==="mouseout"||i==="pointerout",P&&c!==vf&&(he=c.relatedTarget||c.fromElement)&&(ys(he)||he[gs]))break e;if((I||P)&&(P=$.window===$?$:(P=$.ownerDocument)?P.defaultView||P.parentWindow:window,I?(he=c.relatedTarget||c.toElement,I=L,he=he?ys(he):null,he!==null&&(Be=a(he),fe=he.tag,he!==Be||fe!==5&&fe!==27&&fe!==6)&&(he=null)):(I=null,he=L),I!==he)){if(fe=qg,H="onMouseLeave",j="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(fe=Vg,H="onPointerLeave",j="onPointerEnter",R="pointer"),Be=I==null?P:Ua(I),z=he==null?P:Ua(he),P=new fe(H,R+"leave",I,c,$),P.target=Be,P.relatedTarget=z,H=null,ys($)===L&&(fe=new fe(j,R+"enter",he,c,$),fe.target=z,fe.relatedTarget=Be,H=fe),Be=H,I&&he)t:{for(fe=I,j=he,R=0,z=fe;z;z=Qs(z))R++;for(z=0,H=j;H;H=Qs(H))z++;for(;0<R-z;)fe=Qs(fe),R--;for(;0<z-R;)j=Qs(j),z--;for(;R--;){if(fe===j||j!==null&&fe===j.alternate)break t;fe=Qs(fe),j=Qs(j)}fe=null}else fe=null;I!==null&&jb(V,P,I,fe,!1),he!==null&&Be!==null&&jb(V,Be,he,fe,!0)}}e:{if(P=L?Ua(L):window,I=P.nodeName&&P.nodeName.toLowerCase(),I==="select"||I==="input"&&P.type==="file")var re=Wg;else if(Xg(P))if(Zg)re=_T;else{re=wT;var Te=xT}else I=P.nodeName,!I||I.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&bf(L.elementType)&&(re=Wg):re=ST;if(re&&(re=re(i,L))){Qg(V,re,c,$);break e}Te&&Te(i,P,L),i==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&yf(P,"number",P.value)}switch(Te=L?Ua(L):window,i){case"focusin":(Xg(Te)||Te.contentEditable==="true")&&(Cs=Te,Rf=L,Ja=null);break;case"focusout":Ja=Rf=Cs=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,oy(V,c,$);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":oy(V,c,$)}var oe;if(Of)e:{switch(i){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Es?Kg(i,c)&&(de="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(de="onCompositionStart");de&&(Fg&&c.locale!=="ko"&&(Es||de!=="onCompositionStart"?de==="onCompositionEnd"&&Es&&(oe=Ug()):(Nr=$,_f="value"in Nr?Nr.value:Nr.textContent,Es=!0)),Te=Ec(L,de),0<Te.length&&(de=new Hg(de,i,null,c,$),V.push({event:de,listeners:Te}),oe?de.data=oe:(oe=Jg(c),oe!==null&&(de.data=oe)))),(oe=mT?gT(i,c):yT(i,c))&&(de=Ec(L,"onBeforeInput"),0<de.length&&(Te=new Hg("onBeforeInput","beforeinput",null,c,$),V.push({event:Te,listeners:de}),Te.data=oe)),oE(V,i,L,c,$)}Mb(V,o)})}function ko(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Ec(i,o){for(var c=o+"Capture",f=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=$a(i,c),m!=null&&f.unshift(ko(i,m,g)),m=$a(i,o),m!=null&&f.push(ko(i,m,g))),i.tag===3)return f;i=i.return}return[]}function Qs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function jb(i,o,c,f,m){for(var g=o._reactName,S=[];c!==null&&c!==f;){var T=c,A=T.alternate,L=T.stateNode;if(T=T.tag,A!==null&&A===f)break;T!==5&&T!==26&&T!==27||L===null||(A=L,m?(L=$a(c,g),L!=null&&S.unshift(ko(c,L,A))):m||(L=$a(c,g),L!=null&&S.push(ko(c,L,A)))),c=c.return}S.length!==0&&i.push({event:o,listeners:S})}var fE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function Db(i){return(typeof i=="string"?i:""+i).replace(fE,`
`).replace(dE,"")}function zb(i,o){return o=Db(o),Db(i)===o}function Cc(){}function Pe(i,o,c,f,m,g){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||_s(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&_s(i,""+f);break;case"className":Rl(i,"class",f);break;case"tabIndex":Rl(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(i,c,f);break;case"style":Pg(i,f,g);break;case"data":if(o!=="object"){Rl(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=zl(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(c==="formAction"?(o!=="input"&&Pe(i,o,"name",m.name,m,null),Pe(i,o,"formEncType",m.formEncType,m,null),Pe(i,o,"formMethod",m.formMethod,m,null),Pe(i,o,"formTarget",m.formTarget,m,null)):(Pe(i,o,"encType",m.encType,m,null),Pe(i,o,"method",m.method,m,null),Pe(i,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=zl(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=Cc);break;case"onScroll":f!=null&&Ce("scroll",i);break;case"onScrollEnd":f!=null&&Ce("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=zl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":Ce("beforetoggle",i),Ce("toggle",i),Ml(i,"popover",f);break;case"xlinkActuate":Qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Qn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Qn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Qn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Qn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ml(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=qk.get(c)||c,Ml(i,c,f))}}function nh(i,o,c,f,m,g){switch(c){case"style":Pg(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?_s(i,f):(typeof f=="number"||typeof f=="bigint")&&_s(i,""+f);break;case"onScroll":f!=null&&Ce("scroll",i);break;case"onScrollEnd":f!=null&&Ce("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eg.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),o=c.slice(2,m?c.length-7:void 0),g=i[$t]||null,g=g!=null?g[c]:null,typeof g=="function"&&i.removeEventListener(o,g,m),typeof f=="function")){typeof g!="function"&&g!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,f,m);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):Ml(i,c,f)}}}function St(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",i),Ce("load",i);var f=!1,m=!1,g;for(g in c)if(c.hasOwnProperty(g)){var S=c[g];if(S!=null)switch(g){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Pe(i,o,g,S,c,null)}}m&&Pe(i,o,"srcSet",c.srcSet,c,null),f&&Pe(i,o,"src",c.src,c,null);return;case"input":Ce("invalid",i);var T=g=S=m=null,A=null,L=null;for(f in c)if(c.hasOwnProperty(f)){var $=c[f];if($!=null)switch(f){case"name":m=$;break;case"type":S=$;break;case"checked":A=$;break;case"defaultChecked":L=$;break;case"value":g=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,o));break;default:Pe(i,o,f,$,c,null)}}jg(i,g,T,A,L,S,m,!1),jl(i);return;case"select":Ce("invalid",i),f=S=g=null;for(m in c)if(c.hasOwnProperty(m)&&(T=c[m],T!=null))switch(m){case"value":g=T;break;case"defaultValue":S=T;break;case"multiple":f=T;default:Pe(i,o,m,T,c,null)}o=g,c=S,i.multiple=!!f,o!=null?Ss(i,!!f,o,!1):c!=null&&Ss(i,!!f,c,!0);return;case"textarea":Ce("invalid",i),g=m=f=null;for(S in c)if(c.hasOwnProperty(S)&&(T=c[S],T!=null))switch(S){case"value":f=T;break;case"defaultValue":m=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Pe(i,o,S,T,c,null)}zg(i,f,m,g),jl(i);return;case"option":for(A in c)if(c.hasOwnProperty(A)&&(f=c[A],f!=null))switch(A){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Pe(i,o,A,f,c,null)}return;case"dialog":Ce("beforetoggle",i),Ce("toggle",i),Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":Ce("load",i);break;case"video":case"audio":for(f=0;f<_o.length;f++)Ce(_o[f],i);break;case"image":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"embed":case"source":case"link":Ce("error",i),Ce("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in c)if(c.hasOwnProperty(L)&&(f=c[L],f!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Pe(i,o,L,f,c,null)}return;default:if(bf(o)){for($ in c)c.hasOwnProperty($)&&(f=c[$],f!==void 0&&nh(i,o,$,f,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(f=c[T],f!=null&&Pe(i,o,T,f,c,null))}function hE(i,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,T=null,A=null,L=null,$=null;for(I in c){var V=c[I];if(c.hasOwnProperty(I)&&V!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=V;default:f.hasOwnProperty(I)||Pe(i,o,I,null,f,V)}}for(var P in f){var I=f[P];if(V=c[P],f.hasOwnProperty(P)&&(I!=null||V!=null))switch(P){case"type":g=I;break;case"name":m=I;break;case"checked":L=I;break;case"defaultChecked":$=I;break;case"value":S=I;break;case"defaultValue":T=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,o));break;default:I!==V&&Pe(i,o,P,I,f,V)}}gf(i,S,T,A,L,$,g,m);return;case"select":I=S=T=P=null;for(g in c)if(A=c[g],c.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":I=A;default:f.hasOwnProperty(g)||Pe(i,o,g,null,f,A)}for(m in f)if(g=f[m],A=c[m],f.hasOwnProperty(m)&&(g!=null||A!=null))switch(m){case"value":P=g;break;case"defaultValue":T=g;break;case"multiple":S=g;default:g!==A&&Pe(i,o,m,g,f,A)}o=T,c=S,f=I,P!=null?Ss(i,!!c,P,!1):!!f!=!!c&&(o!=null?Ss(i,!!c,o,!0):Ss(i,!!c,c?[]:"",!1));return;case"textarea":I=P=null;for(T in c)if(m=c[T],c.hasOwnProperty(T)&&m!=null&&!f.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Pe(i,o,T,null,f,m)}for(S in f)if(m=f[S],g=c[S],f.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":P=m;break;case"defaultValue":I=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&Pe(i,o,S,m,f,g)}Dg(i,P,I);return;case"option":for(var he in c)if(P=c[he],c.hasOwnProperty(he)&&P!=null&&!f.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:Pe(i,o,he,null,f,P)}for(A in f)if(P=f[A],I=c[A],f.hasOwnProperty(A)&&P!==I&&(P!=null||I!=null))switch(A){case"selected":i.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Pe(i,o,A,P,f,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in c)P=c[fe],c.hasOwnProperty(fe)&&P!=null&&!f.hasOwnProperty(fe)&&Pe(i,o,fe,null,f,P);for(L in f)if(P=f[L],I=c[L],f.hasOwnProperty(L)&&P!==I&&(P!=null||I!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,o));break;default:Pe(i,o,L,P,f,I)}return;default:if(bf(o)){for(var Be in c)P=c[Be],c.hasOwnProperty(Be)&&P!==void 0&&!f.hasOwnProperty(Be)&&nh(i,o,Be,void 0,f,P);for($ in f)P=f[$],I=c[$],!f.hasOwnProperty($)||P===I||P===void 0&&I===void 0||nh(i,o,$,P,f,I);return}}for(var j in c)P=c[j],c.hasOwnProperty(j)&&P!=null&&!f.hasOwnProperty(j)&&Pe(i,o,j,null,f,P);for(V in f)P=f[V],I=c[V],!f.hasOwnProperty(V)||P===I||P==null&&I==null||Pe(i,o,V,P,f,I)}var rh=null,ih=null;function Oc(i){return i.nodeType===9?i:i.ownerDocument}function Lb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pb(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function sh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ah=null;function pE(){var i=window.event;return i&&i.type==="popstate"?i===ah?!1:(ah=i,!0):(ah=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(i){return Ib.resolve(null).then(i).catch(yE)}:Bb;function yE(i){setTimeout(function(){throw i})}function Yr(i){return i==="head"}function Ub(i,o){var c=o,f=0,m=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(0<f&&8>f){c=f;var S=i.ownerDocument;if(c&1&&To(S.documentElement),c&2&&To(S.body),c&4)for(c=S.head,To(c),S=c.firstChild;S;){var T=S.nextSibling,A=S.nodeName;S[Ia]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=T}}if(m===0){i.removeChild(g),jo(o);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:f=c.charCodeAt(0)-48;else f=0;c=g}while(c);jo(o)}function oh(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":oh(c),df(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function bE(i,o,c,f){for(;i.nodeType===1;){var m=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Ia])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=On(i.nextSibling),i===null)break}return null}function vE(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=On(i.nextSibling),i===null))return null;return i}function lh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function xE(i,o){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function On(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var ch=null;function $b(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}function qb(i,o,c){switch(o=Oc(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function To(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);df(i)}var xn=new Map,Hb=new Set;function Ac(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fr=Q.d;Q.d={f:wE,r:SE,D:_E,C:kE,L:TE,m:EE,X:OE,S:CE,M:AE};function wE(){var i=fr.f(),o=xc();return i||o}function SE(i){var o=bs(i);o!==null&&o.tag===5&&o.type==="form"?c0(o):fr.r(i)}var Ws=typeof document>"u"?null:document;function Vb(i,o,c){var f=Ws;if(f&&typeof o=="string"&&o){var m=hn(o);m='link[rel="'+i+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Hb.has(m)||(Hb.add(m),i={rel:i,crossOrigin:c,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),St(o,"link",i),ct(o),f.head.appendChild(o)))}}function _E(i){fr.D(i),Vb("dns-prefetch",i,null)}function kE(i,o){fr.C(i,o),Vb("preconnect",i,o)}function TE(i,o,c){fr.L(i,o,c);var f=Ws;if(f&&i&&o){var m='link[rel="preload"][as="'+hn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+hn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+hn(c.imageSizes)+'"]')):m+='[href="'+hn(i)+'"]';var g=m;switch(o){case"style":g=Zs(i);break;case"script":g=ea(i)}xn.has(g)||(i=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),xn.set(g,i),f.querySelector(m)!==null||o==="style"&&f.querySelector(Eo(g))||o==="script"&&f.querySelector(Co(g))||(o=f.createElement("link"),St(o,"link",i),ct(o),f.head.appendChild(o)))}}function EE(i,o){fr.m(i,o);var c=Ws;if(c&&i){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+hn(f)+'"][href="'+hn(i)+'"]',g=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ea(i)}if(!xn.has(g)&&(i=p({rel:"modulepreload",href:i},o),xn.set(g,i),c.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Co(g)))return}f=c.createElement("link"),St(f,"link",i),ct(f),c.head.appendChild(f)}}}function CE(i,o,c){fr.S(i,o,c);var f=Ws;if(f&&i){var m=vs(f).hoistableStyles,g=Zs(i);o=o||"default";var S=m.get(g);if(!S){var T={loading:0,preload:null};if(S=f.querySelector(Eo(g)))T.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":o},c),(c=xn.get(g))&&uh(i,c);var A=S=f.createElement("link");ct(A),St(A,"link",i),A._p=new Promise(function(L,$){A.onload=L,A.onerror=$}),A.addEventListener("load",function(){T.loading|=1}),A.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(S,o,f)}S={type:"stylesheet",instance:S,count:1,state:T},m.set(g,S)}}}function OE(i,o){fr.X(i,o);var c=Ws;if(c&&i){var f=vs(c).hoistableScripts,m=ea(i),g=f.get(m);g||(g=c.querySelector(Co(m)),g||(i=p({src:i,async:!0},o),(o=xn.get(m))&&fh(i,o),g=c.createElement("script"),ct(g),St(g,"link",i),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(m,g))}}function AE(i,o){fr.M(i,o);var c=Ws;if(c&&i){var f=vs(c).hoistableScripts,m=ea(i),g=f.get(m);g||(g=c.querySelector(Co(m)),g||(i=p({src:i,async:!0,type:"module"},o),(o=xn.get(m))&&fh(i,o),g=c.createElement("script"),ct(g),St(g,"link",i),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(m,g))}}function Fb(i,o,c,f){var m=(m=ye.current)?Ac(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Zs(c.href),c=vs(m).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Zs(c.href);var g=vs(m).hoistableStyles,S=g.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=m.querySelector(Eo(i)))&&!g._p&&(S.instance=g,S.state.loading=5),xn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},xn.set(i,c),g||NE(m,i,c,S.state))),o&&f===null)throw Error(r(528,""));return S}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ea(c),c=vs(m).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zs(i){return'href="'+hn(i)+'"'}function Eo(i){return'link[rel="stylesheet"]['+i+"]"}function Yb(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function NE(i,o,c,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),St(o,"link",c),ct(o),i.head.appendChild(o))}function ea(i){return'[src="'+hn(i)+'"]'}function Co(i){return"script[async]"+i}function Gb(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+hn(c.href)+'"]');if(f)return o.instance=f,ct(f),f;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),ct(f),St(f,"style",m),Nc(f,c.precedence,i),o.instance=f;case"stylesheet":m=Zs(c.href);var g=i.querySelector(Eo(m));if(g)return o.state.loading|=4,o.instance=g,ct(g),g;f=Yb(c),(m=xn.get(m))&&uh(f,m),g=(i.ownerDocument||i).createElement("link"),ct(g);var S=g;return S._p=new Promise(function(T,A){S.onload=T,S.onerror=A}),St(g,"link",f),o.state.loading|=4,Nc(g,c.precedence,i),o.instance=g;case"script":return g=ea(c.src),(m=i.querySelector(Co(g)))?(o.instance=m,ct(m),m):(f=c,(m=xn.get(g))&&(f=p({},c),fh(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),ct(m),St(m,"link",f),i.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Nc(f,c.precedence,i));return o.instance}function Nc(i,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,g=m,S=0;S<f.length;S++){var T=f[S];if(T.dataset.precedence===o)g=T;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function uh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function fh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Mc=null;function Kb(i,o,c){if(Mc===null){var f=new Map,m=Mc=new Map;m.set(c,f)}else m=Mc,f=m.get(c),f||(f=new Map,m.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),m=0;m<c.length;m++){var g=c[m];if(!(g[Ia]||g[Ct]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(o)||"";S=i+S;var T=f.get(S);T?T.push(g):f.set(S,[g])}}return f}function Jb(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function ME(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Xb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Oo=null;function RE(){}function jE(i,o,c){if(Oo===null)throw Error(r(475));var f=Oo;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Zs(c.href),g=i.querySelector(Eo(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Rc.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=g,ct(g);return}g=i.ownerDocument||i,c=Yb(c),(m=xn.get(m))&&uh(c,m),g=g.createElement("link"),ct(g);var S=g;S._p=new Promise(function(T,A){S.onload=T,S.onerror=A}),St(g,"link",c),o.instance=g}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Rc.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function DE(){if(Oo===null)throw Error(r(475));var i=Oo;return i.stylesheets&&i.count===0&&dh(i,i.stylesheets),0<i.count?function(o){var c=setTimeout(function(){if(i.stylesheets&&dh(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jc=null;function dh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jc=new Map,o.forEach(zE,i),jc=null,Rc.call(i))}function zE(i,o){if(!(o.state.loading&4)){var c=jc.get(i);if(c)var f=c.get(null);else{c=new Map,jc.set(i,c);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),f=S)}f&&c.set(null,f)}m=o.instance,S=m.getAttribute("data-precedence"),g=c.get(S)||f,g===f&&c.set(null,m),c.set(S,m),this.count++,f=Rc.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),o.state.loading|=4}}var Ao={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function LE(i,o,c,f,m,g,S,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.hiddenUpdates=lf(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Qb(i,o,c,f,m,g,S,T,A,L,$,V){return i=new LE(i,o,c,S,T,A,L,V),o=1,g===!0&&(o|=24),g=tn(3,null,null,o),i.current=g,g.stateNode=i,o=Gf(),o.refCount++,i.pooledCache=o,o.refCount++,g.memoizedState={element:f,isDehydrated:c,cache:o},Qf(g),i}function Wb(i){return i?(i=Ms,i):Ms}function Zb(i,o,c,f,m,g){m=Wb(m),f.context===null?f.context=m:f.pendingContext=m,f=jr(o),f.payload={element:c},g=g===void 0?null:g,g!==null&&(f.callback=g),c=Dr(i,f,o),c!==null&&(on(c,i,o),io(c,i,o))}function ev(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function hh(i,o){ev(i,o),(i=i.alternate)&&ev(i,o)}function tv(i){if(i.tag===13){var o=Ns(i,67108864);o!==null&&on(o,i,67108864),hh(i,67108864)}}var Dc=!0;function PE(i,o,c,f){var m=U.T;U.T=null;var g=Q.p;try{Q.p=2,ph(i,o,c,f)}finally{Q.p=g,U.T=m}}function BE(i,o,c,f){var m=U.T;U.T=null;var g=Q.p;try{Q.p=8,ph(i,o,c,f)}finally{Q.p=g,U.T=m}}function ph(i,o,c,f){if(Dc){var m=mh(f);if(m===null)th(i,o,f,zc,c),rv(i,f);else if(UE(m,i,o,c,f))f.stopPropagation();else if(rv(i,f),o&4&&-1<IE.indexOf(i)){for(;m!==null;){var g=bs(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Ti(g.pendingLanes);if(S!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var A=1<<31-Zt(S);T.entanglements[1]|=A,S&=~A}$n(g),(De&6)===0&&(bc=Ln()+500,So(0))}}break;case 13:T=Ns(g,2),T!==null&&on(T,g,2),xc(),hh(g,2)}if(g=mh(f),g===null&&th(i,o,f,zc,c),g===m)break;m=g}m!==null&&f.stopPropagation()}else th(i,o,f,null,c)}}function mh(i){return i=xf(i),gh(i)}var zc=null;function gh(i){if(zc=null,i=ys(i),i!==null){var o=a(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return zc=i,null}function nv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kk()){case gg:return 2;case yg:return 8;case Cl:case Tk:return 32;case bg:return 268435456;default:return 32}default:return 32}}var yh=!1,Gr=null,Kr=null,Jr=null,No=new Map,Mo=new Map,Xr=[],IE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(i,o){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":No.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(o.pointerId)}}function Ro(i,o,c,f,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:g,targetContainers:[m]},o!==null&&(o=bs(o),o!==null&&tv(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function UE(i,o,c,f,m){switch(o){case"focusin":return Gr=Ro(Gr,i,o,c,f,m),!0;case"dragenter":return Kr=Ro(Kr,i,o,c,f,m),!0;case"mouseover":return Jr=Ro(Jr,i,o,c,f,m),!0;case"pointerover":var g=m.pointerId;return No.set(g,Ro(No.get(g)||null,i,o,c,f,m)),!0;case"gotpointercapture":return g=m.pointerId,Mo.set(g,Ro(Mo.get(g)||null,i,o,c,f,m)),!0}return!1}function iv(i){var o=ys(i.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,jk(i.priority,function(){if(c.tag===13){var f=an();f=cf(f);var m=Ns(c,f);m!==null&&on(m,c,f),hh(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=mh(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);vf=f,c.target.dispatchEvent(f),vf=null}else return o=bs(c),o!==null&&tv(o),i.blockedOn=c,!1;o.shift()}return!0}function sv(i,o,c){Lc(i)&&c.delete(o)}function $E(){yh=!1,Gr!==null&&Lc(Gr)&&(Gr=null),Kr!==null&&Lc(Kr)&&(Kr=null),Jr!==null&&Lc(Jr)&&(Jr=null),No.forEach(sv),Mo.forEach(sv)}function Pc(i,o){i.blockedOn===o&&(i.blockedOn=null,yh||(yh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$E)))}var Bc=null;function av(i){Bc!==i&&(Bc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bc===i&&(Bc=null);for(var o=0;o<i.length;o+=3){var c=i[o],f=i[o+1],m=i[o+2];if(typeof f!="function"){if(gh(f||c)===null)continue;break}var g=bs(c);g!==null&&(i.splice(o,3),o-=3,gd(g,{pending:!0,data:m,method:c.method,action:f},f,m))}}))}function jo(i){function o(A){return Pc(A,i)}Gr!==null&&Pc(Gr,i),Kr!==null&&Pc(Kr,i),Jr!==null&&Pc(Jr,i),No.forEach(o),Mo.forEach(o);for(var c=0;c<Xr.length;c++){var f=Xr[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Xr.length&&(c=Xr[0],c.blockedOn===null);)iv(c),c.blockedOn===null&&Xr.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var m=c[f],g=c[f+1],S=m[$t]||null;if(typeof g=="function")S||av(c);else if(S){var T=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[$t]||null)T=S.formAction;else if(gh(m)!==null)continue}else T=S.action;typeof T=="function"?c[f+1]=T:(c.splice(f,3),f-=3),av(c)}}}function bh(i){this._internalRoot=i}Ic.prototype.render=bh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,f=an();Zb(c,f,i,o,null,null)},Ic.prototype.unmount=bh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Zb(i.current,2,null,i,null,null),xc(),o[gs]=null}};function Ic(i){this._internalRoot=i}Ic.prototype.unstable_scheduleHydration=function(i){if(i){var o=_g();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Xr.length&&o!==0&&o<Xr[c].priority;c++);Xr.splice(c,0,i),c===0&&iv(i)}};var ov=e.version;if(ov!=="19.1.0")throw Error(r(527,ov,"19.1.0"));Q.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var qE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{La=Uc.inject(qE),Wt=Uc}catch{}}return zo.createRoot=function(i,o){if(!s(i))throw Error(r(299));var c=!1,f="",m=_0,g=k0,S=T0,T=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks)),o=Qb(i,1,!1,null,null,c,f,m,g,S,T,null),i[gs]=o.current,eh(i),new bh(o)},zo.hydrateRoot=function(i,o,c){if(!s(i))throw Error(r(299));var f=!1,m="",g=_0,S=k0,T=T0,A=null,L=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(A=c.unstable_transitionCallbacks),c.formState!==void 0&&(L=c.formState)),o=Qb(i,1,!0,o,c??null,f,m,g,S,T,A,L),o.context=Wb(null),c=o.current,f=an(),f=cf(f),m=jr(f),m.callback=null,Dr(c,m,f),c=f,o.current.lanes=c,Ba(o,c),$n(o),i[gs]=o.current,eh(i),new Ic(o)},zo.version="19.1.0",zo}var yv;function QE(){if(yv)return xh.exports;yv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xh.exports=XE(),xh.exports}var WE=QE();const ZE=pl(WE);var C=Nu();const be=pl(C);var Lo={},bv;function e2(){if(bv)return Lo;bv=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.parse=l,Lo.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,v){const x=new a,_=b.length;if(_<2)return x;const k=(v==null?void 0:v.decode)||p;let E=0;do{const N=b.indexOf("=",E);if(N===-1)break;const O=b.indexOf(";",E),B=O===-1?_:O;if(N>B){E=b.lastIndexOf(";",N-1)+1;continue}const D=u(b,E,N),J=d(b,N,D),G=b.slice(D,J);if(x[G]===void 0){let X=u(b,N+1,B),q=d(b,B,X);const W=k(b.slice(X,q));x[G]=W}E=B+1}while(E<_);return x}function u(b,v,x){do{const _=b.charCodeAt(v);if(_!==32&&_!==9)return v}while(++v<x);return x}function d(b,v,x){for(;v>x;){const _=b.charCodeAt(--v);if(_!==32&&_!==9)return v+1}return x}function h(b,v,x){const _=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=_(v);if(!e.test(k))throw new TypeError(`argument val is invalid: ${v}`);let E=b+"="+k;if(!x)return E;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);E+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);E+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);E+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);E+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(E+="; HttpOnly"),x.secure&&(E+="; Secure"),x.partitioned&&(E+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return E}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Lo}e2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vv="popstate";function t2(n={}){function e(r,s){let{pathname:a,search:l,hash:u}=r.location;return dp("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:el(s)}return r2(e,t,null,n)}function Ge(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n2(){return Math.random().toString(36).substring(2,10)}function xv(n,e){return{usr:n.state,key:n.key,idx:e}}function dp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||r||n2()}}function el({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function r2(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function y(){u="POP";let k=p(),E=k==null?null:k-h;h=k,d&&d({action:u,location:_.location,delta:E})}function b(k,E){u="PUSH";let N=dp(_.location,k,E);h=p()+1;let O=xv(N,h),B=_.createHref(N);try{l.pushState(O,"",B)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(B)}a&&d&&d({action:u,location:_.location,delta:1})}function v(k,E){u="REPLACE";let N=dp(_.location,k,E);h=p();let O=xv(N,h),B=_.createHref(N);l.replaceState(O,"",B),a&&d&&d({action:u,location:_.location,delta:0})}function x(k){let E=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof k=="string"?k:el(k);return N=N.replace(/ $/,"%20"),Ge(E,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,E)}let _={get action(){return u},get location(){return n(s,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(vv,y),d=k,()=>{s.removeEventListener(vv,y),d=null}},createHref(k){return e(s,k)},createURL:x,encodeLocation(k){let E=x(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:v,go(k){return l.go(k)}};return _}function Zx(n,e,t="/"){return i2(n,e,t,!1)}function i2(n,e,t,r){let s=typeof e=="string"?Na(e):e,a=wr(s.pathname||"/",t);if(a==null)return null;let l=ew(n);s2(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=g2(a);u=p2(l[d],h,r)}return u}function ew(n,e=[],t=[],r=""){let s=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Ge(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=br([r,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Ge(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ew(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:d2(h,a.index),routesMeta:p})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let d of tw(a.path))s(a,l,d)}),e}function tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=tw(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function s2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:h2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var a2=/^:[\w-]+$/,o2=3,l2=2,c2=1,u2=10,f2=-2,wv=n=>n==="*";function d2(n,e){let t=n.split("/"),r=t.length;return t.some(wv)&&(r+=f2),e&&(r+=l2),t.filter(s=>!wv(s)).reduce((s,a)=>s+(a2.test(a)?o2:a===""?c2:u2),r)}function h2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function p2(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",y=fu({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),b=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=fu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:br([a,y.pathname]),pathnameBase:x2(br([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=br([a,y.pathnameBase]))}return l}function fu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=m2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:y},b)=>{if(p==="*"){let x=u[b]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=u[b];return y&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function m2(n,e=!1,t=!0){Mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function g2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function y2(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Na(n):n;return{pathname:t?t.startsWith("/")?t:b2(t,e):e,search:w2(r),hash:S2(s)}}function b2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Th(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ym(n){let e=v2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function bm(n,e,t,r=!1){let s;typeof n=="string"?s=Na(n):(s={...n},Ge(!s.pathname||!s.pathname.includes("?"),Th("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),Th("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),Th("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}u=y>=0?e[y]:"/"}let d=y2(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var br=n=>n.join("/").replace(/\/\/+/g,"/"),x2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),w2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,S2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nw=["POST","PUT","PATCH","DELETE"];new Set(nw);var k2=["GET",...nw];new Set(k2);var Ma=C.createContext(null);Ma.displayName="DataRouter";var Mu=C.createContext(null);Mu.displayName="DataRouterState";var rw=C.createContext({isTransitioning:!1});rw.displayName="ViewTransition";var T2=C.createContext(new Map);T2.displayName="Fetchers";var E2=C.createContext(null);E2.displayName="Await";var Dn=C.createContext(null);Dn.displayName="Navigation";var ml=C.createContext(null);ml.displayName="Location";var Tn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var vm=C.createContext(null);vm.displayName="RouteError";function C2(n,{relative:e}={}){Ge(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(Dn),{hash:s,pathname:a,search:l}=gl(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:br([t,a])),r.createHref({pathname:u,search:l,hash:s})}function Ra(){return C.useContext(ml)!=null}function Jt(){return Ge(Ra(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ml).location}var iw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sw(n){C.useContext(Dn).static||C.useLayoutEffect(n)}function lt(){let{isDataRoute:n}=C.useContext(Tn);return n?q2():O2()}function O2(){Ge(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Ma),{basename:e,navigator:t}=C.useContext(Dn),{matches:r}=C.useContext(Tn),{pathname:s}=Jt(),a=JSON.stringify(ym(r)),l=C.useRef(!1);return sw(()=>{l.current=!0}),C.useCallback((d,h={})=>{if(Mn(l.current,iw),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=bm(d,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:br([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,a,s,n])}var A2=C.createContext(null);function N2(n){let e=C.useContext(Tn).outlet;return e&&C.createElement(A2.Provider,{value:n},e)}function Ru(){let{matches:n}=C.useContext(Tn),e=n[n.length-1];return e?e.params:{}}function gl(n,{relative:e}={}){let{matches:t}=C.useContext(Tn),{pathname:r}=Jt(),s=JSON.stringify(ym(t));return C.useMemo(()=>bm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function M2(n,e){return aw(n,e)}function aw(n,e,t,r){var N;Ge(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=C.useContext(Dn),{matches:l}=C.useContext(Tn),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let O=y&&y.path||"";ow(h,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=Jt(),v;if(e){let O=typeof e=="string"?Na(e):e;Ge(p==="/"||((N=O.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),v=O}else v=b;let x=v.pathname||"/",_=x;if(p!=="/"){let O=p.replace(/^\//,"").split("/");_="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let k=!a&&t&&t.matches&&t.matches.length>0?t.matches:Zx(n,{pathname:_});Mn(y||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Mn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=L2(k&&k.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:br([p,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:br([p,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,r);return e&&E?C.createElement(ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function R2(){let n=$2(),e=_2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:s},t):null,l)}var j2=C.createElement(R2,null),D2=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Tn.Provider,{value:this.props.routeContext},C.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z2({routeContext:n,match:e,children:t}){let r=C.useContext(Ma);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Tn.Provider,{value:n},t)}function L2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Ge(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:y}=t,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let y,b=!1,v=null,x=null;t&&(y=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||j2,l&&(u<0&&p===0?(ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):u===p&&(b=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,p+1)),k=()=>{let E;return y?E=v:b?E=x:h.route.Component?E=C.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,C.createElement(z2,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:t!=null},children:E})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement(D2,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:k(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):k()},null)}function xm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P2(n){let e=C.useContext(Ma);return Ge(e,xm(n)),e}function B2(n){let e=C.useContext(Mu);return Ge(e,xm(n)),e}function I2(n){let e=C.useContext(Tn);return Ge(e,xm(n)),e}function wm(n){let e=I2(n),t=e.matches[e.matches.length-1];return Ge(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function U2(){return wm("useRouteId")}function $2(){var r;let n=C.useContext(vm),e=B2("useRouteError"),t=wm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function q2(){let{router:n}=P2("useNavigate"),e=wm("useNavigate"),t=C.useRef(!1);return sw(()=>{t.current=!0}),C.useCallback(async(s,a={})=>{Mn(t.current,iw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Sv={};function ow(n,e,t){!e&&!Sv[n]&&(Sv[n]=!0,Mn(!1,t))}C.memo(H2);function H2({routes:n,future:e,state:t}){return aw(n,void 0,t,e)}function lw({to:n,replace:e,state:t,relative:r}){Ge(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(Dn);Mn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Tn),{pathname:l}=Jt(),u=lt(),d=bm(n,ym(a),l,r==="path"),h=JSON.stringify(d);return C.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function V2(n){return N2(n.context)}function _t(n){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){Ge(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=Na(t));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:b="default"}=t,v=C.useMemo(()=>{let x=wr(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:y,key:b},navigationType:r}},[l,d,h,p,y,b,r]);return Mn(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:C.createElement(Dn.Provider,{value:u},C.createElement(ml.Provider,{children:e,value:v}))}function Y2({children:n,location:e}){return M2(hp(n),e)}function hp(n,e=[]){let t=[];return C.Children.forEach(n,(r,s)=>{if(!C.isValidElement(r))return;let a=[...e,s];if(r.type===C.Fragment){t.push.apply(t,hp(r.props.children,a));return}Ge(r.type===_t,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=hp(r.props.children,a)),t.push(l)}),t}var nu="get",ru="application/x-www-form-urlencoded";function ju(n){return n!=null&&typeof n.tagName=="string"}function G2(n){return ju(n)&&n.tagName.toLowerCase()==="button"}function K2(n){return ju(n)&&n.tagName.toLowerCase()==="form"}function J2(n){return ju(n)&&n.tagName.toLowerCase()==="input"}function X2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Q2(n,e){return n.button===0&&(!e||e==="_self")&&!X2(n)}var $c=null;function W2(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var Z2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(n){return n!=null&&!Z2.has(n)?(Mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ru}"`),null):n}function eC(n,e){let t,r,s,a,l;if(K2(n)){let u=n.getAttribute("action");r=u?wr(u,e):null,t=n.getAttribute("method")||nu,s=Eh(n.getAttribute("enctype"))||ru,a=new FormData(n)}else if(G2(n)||J2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?wr(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||nu,s=Eh(n.getAttribute("formenctype"))||Eh(u.getAttribute("enctype"))||ru,a=new FormData(u,n),!W2()){let{name:h,type:p,value:y}=n;if(p==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,y)}}else{if(ju(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nu,r=null,s=ru,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:l}}function Sm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function tC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rC(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await tC(a,t);return l.links?l.links():[]}return[]}));return oC(r.flat(1).filter(nC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _v(n,e,t,r,s,a){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var p;return t[h].pathname!==d.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{var y;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function iC(n,e,{includeHydrateFallback:t}={}){return sC(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function sC(n){return[...new Set(n)]}function aC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function oC(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(aC(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function lC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&wr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cw(){let n=C.useContext(Ma);return Sm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cC(){let n=C.useContext(Mu);return Sm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _m=C.createContext(void 0);_m.displayName="FrameworkContext";function uw(){let n=C.useContext(_m);return Sm(n,"You must render this element inside a <HydratedRouter> element"),n}function uC(n,e){let t=C.useContext(_m),[r,s]=C.useState(!1),[a,l]=C.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,b=C.useRef(null);C.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let _=E=>{E.forEach(N=>{l(N.isIntersecting)})},k=new IntersectionObserver(_,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),C.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let v=()=>{s(!0)},x=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:Po(u,v),onBlur:Po(d,x),onMouseEnter:Po(h,v),onMouseLeave:Po(p,x),onTouchStart:Po(y,v)}]:[!1,b,{}]}function Po(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fC({page:n,...e}){let{router:t}=cw(),r=C.useMemo(()=>Zx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(hC,{page:n,matches:r,...e}):null}function dC(n){let{manifest:e,routeModules:t}=uw(),[r,s]=C.useState([]);return C.useEffect(()=>{let a=!1;return rC(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),r}function hC({page:n,matches:e,...t}){let r=Jt(),{manifest:s,routeModules:a}=uw(),{basename:l}=cw(),{loaderData:u,matches:d}=cC(),h=C.useMemo(()=>_v(n,e,d,s,r,"data"),[n,e,d,s,r]),p=C.useMemo(()=>_v(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,_=!1;if(e.forEach(E=>{var O;let N=s.routes[E.route.id];!N||!N.hasLoader||(!h.some(B=>B.route.id===E.route.id)&&E.route.id in u&&((O=a[E.route.id])!=null&&O.shouldRevalidate)||N.hasClientLoader?_=!0:x.add(E.route.id))}),x.size===0)return[];let k=lC(n,l);return _&&x.size>0&&k.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[l,u,r,s,h,e,n,a]),b=C.useMemo(()=>iC(p,s),[p,s]),v=dC(p);return C.createElement(C.Fragment,null,y.map(x=>C.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>C.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:_})=>C.createElement("link",{key:x,..._})))}function pC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fw&&(window.__reactRouterVersion="7.5.0")}catch{}function mC({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=t2({window:t,v5Compat:!0}));let s=r.current,[a,l]=C.useState({action:s.action,location:s.location}),u=C.useCallback(d=>{C.startTransition(()=>l(d))},[l]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.createElement(F2,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hw=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:y,...b},v){let{basename:x}=C.useContext(Dn),_=typeof h=="string"&&dw.test(h),k,E=!1;if(typeof h=="string"&&_&&(k=h,fw))try{let q=new URL(window.location.href),W=h.startsWith("//")?new URL(q.protocol+h):new URL(h),ne=wr(W.pathname,x);W.origin===q.origin&&ne!=null?h=ne+W.search+W.hash:E=!0}catch{Mn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=C2(h,{relative:s}),[O,B,D]=uC(r,b),J=vC(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:y});function G(q){e&&e(q),q.defaultPrevented||J(q)}let X=C.createElement("a",{...b,...D,href:k||N,onClick:E||a?e:G,ref:pC(v,B),target:d,"data-discover":!_&&t==="render"?"true":void 0});return O&&!_?C.createElement(C.Fragment,null,X,C.createElement(fC,{page:N})):X});hw.displayName="Link";var gC=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...h},p){let y=gl(l,{relative:h.relative}),b=Jt(),v=C.useContext(Mu),{navigator:x,basename:_}=C.useContext(Dn),k=v!=null&&kC(y)&&u===!0,E=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,N=b.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(N=N.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&_&&(O=wr(O,_)||O);const B=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=N===E||!s&&N.startsWith(E)&&N.charAt(B)==="/",J=O!=null&&(O===E||!s&&O.startsWith(E)&&O.charAt(E.length)==="/"),G={isActive:D,isPending:J,isTransitioning:k},X=D?e:void 0,q;typeof r=="function"?q=r(G):q=[r,D?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(G):a;return C.createElement(hw,{...h,"aria-current":X,className:q,ref:p,style:W,to:l,viewTransition:u},typeof d=="function"?d(G):d)});gC.displayName="NavLink";var yC=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:l=nu,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:y,...b},v)=>{let x=SC(),_=_C(u,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&dw.test(u),N=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let B=O.nativeEvent.submitter,D=(B==null?void 0:B.getAttribute("formmethod"))||l;x(B||O.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:y})};return C.createElement("form",{ref:v,method:k,action:_,onSubmit:r?d:N,...b,"data-discover":!E&&n==="render"?"true":void 0})});yC.displayName="Form";function bC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(n){let e=C.useContext(Ma);return Ge(e,bC(n)),e}function vC(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=lt(),d=Jt(),h=gl(n,{relative:a});return C.useCallback(p=>{if(Q2(p,e)){p.preventDefault();let y=t!==void 0?t:el(d)===el(h);u(n,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,h,t,r,e,n,s,a,l])}var xC=0,wC=()=>`__${String(++xC)}__`;function SC(){let{router:n}=pw("useSubmit"),{basename:e}=C.useContext(Dn),t=U2();return C.useCallback(async(r,s={})=>{let{action:a,method:l,encType:u,formData:d,body:h}=eC(r,e);if(s.navigate===!1){let p=s.fetcherKey||wC();await n.fetch(p,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function _C(n,{relative:e}={}){let{basename:t}=C.useContext(Dn),r=C.useContext(Tn);Ge(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...gl(n||".",{relative:e})},l=Jt();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:br([t,a.pathname])),el(a)}function kC(n,e={}){let t=C.useContext(rw);Ge(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pw("useViewTransitionState"),s=gl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=wr(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=wr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fu(s.pathname,l)!=null||fu(s.pathname,a)!=null}new TextEncoder;var TC=Wx();const EC=pl(TC);var Ch,kv;function CC(){if(kv)return Ch;kv=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,s=(E,N)=>{for(var O in N)n(E,O,{get:N[O],enumerable:!0})},a=(E,N,O,B)=>{if(N&&typeof N=="object"||typeof N=="function")for(let D of t(N))!r.call(E,D)&&D!==O&&n(E,D,{get:()=>N[D],enumerable:!(B=e(N,D))||B.enumerable});return E},l=E=>a(n({},"__esModule",{value:!0}),E),u=(E,N,O)=>new Promise((B,D)=>{var J=q=>{try{X(O.next(q))}catch(W){D(W)}},G=q=>{try{X(O.throw(q))}catch(W){D(W)}},X=q=>q.done?B(q.value):Promise.resolve(q.value).then(J,G);X((O=O.apply(E,N)).next())}),d={};s(d,{SessionContextProvider:()=>b,useSession:()=>_,useSessionContext:()=>v,useSupabaseClient:()=>x,useUser:()=>k}),Ch=l(d);var h=Nu(),p=Qx(),y=(0,h.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),b=({supabaseClient:E,initialSession:N=null,children:O})=>{const[B,D]=(0,h.useState)(N),[J,G]=(0,h.useState)(!N),[X,q]=(0,h.useState)();(0,h.useEffect)(()=>{!B&&N&&D(N)},[B,N]),(0,h.useEffect)(()=>{let ne=!0;function ve(){return u(this,null,function*(){const{data:{session:Je},error:it}=yield E.auth.getSession();if(ne){if(it){q(it),G(!1);return}D(Je),G(!1)}})}return ve(),()=>{ne=!1}},[]),(0,h.useEffect)(()=>{const{data:{subscription:ne}}=E.auth.onAuthStateChange((ve,Je)=>{Je&&(ve==="SIGNED_IN"||ve==="TOKEN_REFRESHED"||ve==="USER_UPDATED")&&D(Je),ve==="SIGNED_OUT"&&D(null)});return()=>{ne.unsubscribe()}},[]);const W=(0,h.useMemo)(()=>J?{isLoading:!0,session:null,error:null,supabaseClient:E}:X?{isLoading:!1,session:null,error:X,supabaseClient:E}:{isLoading:!1,session:B,error:null,supabaseClient:E},[J,B,X]);return(0,p.jsx)(y.Provider,{value:W,children:O})},v=()=>{const E=(0,h.useContext)(y);if(E===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return E};function x(){const E=(0,h.useContext)(y);if(E===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return E.supabaseClient}var _=()=>{const E=(0,h.useContext)(y);if(E===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return E.session},k=()=>{var E,N;const O=(0,h.useContext)(y);if(O===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(N=(E=O.session)==null?void 0:E.user)!=null?N:null};return Ch}var Pt=CC();const OC="modulepreload",AC=function(n){return"/"+n},Tv={},_a=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(t.map(d=>{if(d=AC(d),d in Tv)return;Tv[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":OC,h||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((b,v)=>{y.addEventListener("load",b),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},NC=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>_a(async()=>{const{default:r}=await Promise.resolve().then(()=>ja);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class km extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class MC extends km{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class RC extends km{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jC extends km{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(pp||(pp={}));var DC=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};class zC{constructor(e,{headers:t={},customFetch:r,region:s=pp.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=NC(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return DC(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=t;let u={},{region:d}=t;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h}).catch(x=>{throw new MC(x)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new RC(p);if(!p.ok)throw new jC(p);let b=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return b==="application/json"?v=yield p.json():b==="application/octet-stream"?v=yield p.blob():b==="text/event-stream"?v=p:b==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var ht={},ta={},na={},ra={},ia={},sa={},LC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ka=LC();const PC=ka.fetch,mw=ka.fetch.bind(ka),gw=ka.Headers,BC=ka.Request,IC=ka.Response,ja=Object.freeze(Object.defineProperty({__proto__:null,Headers:gw,Request:BC,Response:IC,default:mw,fetch:PC},Symbol.toStringTag,{value:"Module"})),UC=VE(ja);var qc={},Ev;function yw(){if(Ev)return qc;Ev=1,Object.defineProperty(qc,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return qc.default=n,qc}var Cv;function bw(){if(Cv)return sa;Cv=1;var n=sa&&sa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sa,"__esModule",{value:!0});const e=n(UC),t=n(yw());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=Object.assign({},this.headers),this.headers[a]=l,this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,y,b;let v=null,x=null,_=null,k=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=D:x=JSON.parse(D))}const O=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),B=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");O&&B&&B.length>1&&(_=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,_=null,k=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const O=await h.text();try{v=JSON.parse(O),Array.isArray(v)&&h.status===404&&(x=[],v=null,k=200,E="OK")}catch{h.status===404&&O===""?(k=204,E="No Content"):v={message:O}}if(v&&this.isMaybeSingle&&(!((b=v==null?void 0:v.details)===null||b===void 0)&&b.includes("0 rows"))&&(v=null,k=200,E="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:x,count:_,status:k,statusText:E}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,y,b;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(y=h==null?void 0:h.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=h==null?void 0:h.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return sa.default=r,sa}var Ov;function vw(){if(Ov)return ia;Ov=1;var n=ia&&ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ia,"__esModule",{value:!0});const e=n(bw());class t extends e.default{select(s){let a=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var p;const y=[s?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${b}"; options=${y};`,h==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ia.default=t,ia}var Av;function Tm(){if(Av)return ra;Av=1;var n=ra&&ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ra,"__esModule",{value:!0});const e=n(vw());class t extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}}return ra.default=t,ra}var Nv;function xw(){if(Nv)return na;Nv=1;var n=na&&na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(na,"__esModule",{value:!0});const e=n(Tm());class t{constructor(s,{headers:a={},schema:l,fetch:u}){this.url=s,this.headers=a,this.schema=l,this.fetch=u}select(s,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:l=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const h=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){const h="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const y=s.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(y.length>0){const b=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",l=[];return s&&l.push(`count=${s}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return na.default=t,na}var Bo={},Io={},Mv;function $C(){return Mv||(Mv=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.version=void 0,Io.version="0.0.0-automated"),Io}var Rv;function qC(){if(Rv)return Bo;Rv=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.DEFAULT_HEADERS=void 0;const n=$C();return Bo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Bo}var jv;function HC(){if(jv)return ta;jv=1;var n=ta&&ta.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ta,"__esModule",{value:!0});const e=n(xw()),t=n(Tm()),r=qC();class s{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=h}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:p}={}){let y;const b=new URL(`${this.url}/rpc/${l}`);let v;d||h?(y=d?"HEAD":"GET",Object.entries(u).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{b.searchParams.append(_,k)})):(y="POST",v=u);const x=Object.assign({},this.headers);return p&&(x.Prefer=`count=${p}`),new t.default({method:y,url:b,headers:x,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return ta.default=s,ta}var Dv;function VC(){if(Dv)return ht;Dv=1;var n=ht&&ht.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ht,"__esModule",{value:!0}),ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;const e=n(HC());ht.PostgrestClient=e.default;const t=n(xw());ht.PostgrestQueryBuilder=t.default;const r=n(Tm());ht.PostgrestFilterBuilder=r.default;const s=n(vw());ht.PostgrestTransformBuilder=s.default;const a=n(bw());ht.PostgrestBuilder=a.default;const l=n(yw());return ht.PostgrestError=l.default,ht.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},ht}var FC=VC();const YC=pl(FC),{PostgrestClient:GC,PostgrestQueryBuilder:kL,PostgrestFilterBuilder:TL,PostgrestTransformBuilder:EL,PostgrestBuilder:CL,PostgrestError:OL}=YC,KC="2.11.2",JC={"X-Client-Info":`realtime-js/${KC}`},XC="1.0.0",ww=1e4,QC=1e3;var va;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(va||(va={}));var ln;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ln||(ln={}));var An;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(An||(An={}));var mp;(function(n){n.websocket="websocket"})(mp||(mp={}));var Fi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Fi||(Fi={}));class WC{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class Sw{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(qe||(qe={}));const zv=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,l)=>(a[l]=ZC(l,n,e,s),a),{})},ZC=(n,e,t,r)=>{const s=e.find(u=>u.name===n),a=s==null?void 0:s.type,l=t[n];return a&&!r.includes(a)?_w(a,l):gp(l)},_w=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return rO(e,t)}switch(n){case qe.bool:return eO(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return tO(e);case qe.json:case qe.jsonb:return nO(e);case qe.timestamp:return iO(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return gp(e);default:return gp(e)}},gp=n=>n,eO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},tO=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},nO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},rO=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>_w(e,u))}return n},iO=n=>typeof n=="string"?n.replace(" ","T"):n,kw=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Oh{constructor(e,t,r={},s=ww){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Lv||(Lv={}));class Yo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yo.syncState(this.state,s,a,l),this.pendingDiffs.forEach(d=>{this.state=Yo.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yo.syncDiff(this.state,s,a,l),u())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const a=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(a,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const y=a[h];if(y){const b=p.map(k=>k.presence_ref),v=y.map(k=>k.presence_ref),x=p.filter(k=>v.indexOf(k.presence_ref)<0),_=y.filter(k=>b.indexOf(k.presence_ref)<0);x.length>0&&(u[h]=x),_.length>0&&(d[h]=_)}else u[h]=p}),this.syncDiff(a,{joins:u,leaves:d},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(u,d)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),p.length>0){const y=e[u].map(v=>v.presence_ref),b=p.filter(v=>y.indexOf(v.presence_ref)<0);e[u].unshift(...b)}r(u,p,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const p=d.map(y=>y.presence_ref);h=h.filter(y=>p.indexOf(y.presence_ref)<0),e[u]=h,s(u,h,d),h.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Pv||(Pv={}));var Bv;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Bv||(Bv={}));var pr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(pr||(pr={}));class Em{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Oh(this,An.join,this.params,this.timeout),this.rejoinTimer=new Sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ln.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Yo(this),this.broadcastEndpointURL=kw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:l,private:u}}=this.params;this._onError(p=>e==null?void 0:e(pr.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(pr.CLOSED));const d={},h={broadcast:a,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e==null||e(pr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,x=[];for(let _=0;_<v;_++){const k=b[_],{filter:{event:E,schema:N,table:O,filter:B}}=k,D=p&&p[_];if(D&&D.event===E&&D.schema===N&&D.table===O&&D.filter===B)x.push(Object.assign(Object.assign({},k),{id:D.id}));else{this.unsubscribe(),e==null||e(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(pr.SUBSCRIBED);return}}).receive("error",p=>{e==null||e(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ln.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Oh(this,An.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Oh(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=An;if(r&&[u,d,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,_,k;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(_=v.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(v=>v.callback(b,r)):(a=this.bindings[l])===null||a===void 0||a.filter(v=>{var x,_,k,E,N,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const B=v.id,D=(x=v.filter)===null||x===void 0?void 0:x.event;return B&&((_=t.ids)===null||_===void 0?void 0:_.includes(B))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const B=(N=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return B==="*"||B===((O=t==null?void 0:t.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof b=="object"&&"ids"in b){const x=b.data,{schema:_,table:k,commit_timestamp:E,type:N,errors:O}=x;b=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:E,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(x))}v.callback(b,r)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Em.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(An.close,{},e)}_onError(e){this._on(An.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=zv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=zv(e.columns,e.old_record)),t}}const sO=()=>{},aO=typeof WebSocket<"u",oO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lO{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=JC,this.params={},this.timeout=ww,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sO,this.conn=null,this.sendBuffer=[],this.serializer=new WC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>_a(async()=>{const{default:d}=await Promise.resolve().then(()=>ja);return{default:d}},void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${mp.websocket}`,this.httpEndpoint=kw(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(a,l)=>l(JSON.stringify(a)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(aO){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new cO(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),_a(async()=>{const{default:e}=await import("./browser-B00LHlSD.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XC}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case va.connecting:return Fi.Connecting;case va.open:return Fi.Open;case va.closing:return Fi.Closing;default:return Fi.Closed}}isConnected(){return this.connectionState()===Fi.Open}channel(e,t={config:{}}){const r=new Em(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:a}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(An.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(QC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:a,ref:l}=t;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(An.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([oO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class cO{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=va.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Cm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class uO extends Cm{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yp extends Cm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var fO=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};const Tw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>_a(async()=>{const{default:r}=await Promise.resolve().then(()=>ja);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},dO=()=>fO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _a(()=>Promise.resolve().then(()=>ja),void 0)).Response:Response}),bp=n=>{if(Array.isArray(n))return n.map(t=>bp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=bp(r)}),e};var ps=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};const Ah=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),hO=(n,e,t)=>ps(void 0,void 0,void 0,function*(){const r=yield dO();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new uO(Ah(s),n.status||500))}).catch(s=>{e(new yp(Ah(s),s))}):e(new yp(Ah(n),n))}),pO=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function yl(n,e,t,r,s,a){return ps(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,pO(e,r,s,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>hO(d,u,r))})})}function du(n,e,t,r){return ps(this,void 0,void 0,function*(){return yl(n,"GET",e,t,r)})}function ni(n,e,t,r,s){return ps(this,void 0,void 0,function*(){return yl(n,"POST",e,r,s,t)})}function mO(n,e,t,r,s){return ps(this,void 0,void 0,function*(){return yl(n,"PUT",e,r,s,t)})}function gO(n,e,t,r){return ps(this,void 0,void 0,function*(){return yl(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Ew(n,e,t,r,s){return ps(this,void 0,void 0,function*(){return yl(n,"DELETE",e,r,s,t)})}var Yt=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};const yO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bO{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Tw(s)}uploadOrUpdate(e,t,r,s){return Yt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Iv),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),y=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:a,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),b=yield y.json();return y.ok?{data:{path:h,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}upload(e,t,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return Yt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const h=Object.assign({upsert:Iv.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:p}),b=yield y.json();return y.ok?{data:{path:a,fullPath:b.Key},error:null}:{data:null,error:b}}catch(d){if(pt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return Yt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield ni(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new Cm("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}update(e,t,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Yt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}copy(e,t,r){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return Yt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield ni(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return Yt(this,void 0,void 0,function*(){try{const s=yield ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}download(e,t){return Yt(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield du(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(pt(u))return{data:null,error:u};throw u}})}info(e){return Yt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield du(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:bp(r),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}exists(e){return Yt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield gO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pt(r)&&r instanceof yp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield Ew(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}list(e,t,r){return Yt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yO),t),{prefix:e||""});return{data:yield ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(pt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const vO="2.7.1",xO={"X-Client-Info":`storage-js/${vO}`};var aa=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};class wO{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},xO),t),this.fetch=Tw(r)}listBuckets(){return aa(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pt(e))return{data:null,error:e};throw e}})}getBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return aa(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return aa(this,void 0,void 0,function*(){try{return{data:yield mO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield Ew(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}}class SO extends wO{constructor(e,t={},r){super(e,t,r)}from(e){return new bO(this.url,this.headers,e,this.fetch)}}const _O="2.49.4";let $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";const kO={"X-Client-Info":`supabase-js-${$o}/${_O}`},TO={headers:kO},EO={schema:"public"},CO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OO={};var AO=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};const NO=n=>{let e;return n?e=n:typeof fetch>"u"?e=mw:e=fetch,(...t)=>e(...t)},MO=()=>typeof Headers>"u"?gw:Headers,RO=(n,e,t)=>{const r=NO(t),s=MO();return(a,l)=>AO(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:n;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:h}))})};var jO=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};function DO(n){return n.replace(/\/$/,"")}function zO(n,e){const{db:t,auth:r,realtime:s,global:a}=n,{db:l,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),t),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign({},h),a),accessToken:()=>jO(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}const Cw="2.69.1",da=30*1e3,vp=3,Nh=vp*da,LO="http://localhost:9999",PO="supabase.auth.token",BO={"X-Client-Info":`gotrue-js/${Cw}`},xp="X-Supabase-Api-Version",Ow={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UO=6e5;class Om extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function we(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class $O extends Om{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function qO(n){return we(n)&&n.name==="AuthApiError"}class Aw extends Om{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class xi extends Om{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Zr extends xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function HO(n){return we(n)&&n.name==="AuthSessionMissingError"}class Mh extends xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hc extends xi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vc extends xi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VO(n){return we(n)&&n.name==="AuthImplicitGrantRedirectError"}class Uv extends xi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wp extends xi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Rh(n){return we(n)&&n.name==="AuthRetryableFetchError"}class $v extends xi{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Go extends xi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hv=` 	
\r=`.split(""),FO=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Hv.length;e+=1)n[Hv[e].charCodeAt(0)]=-2;for(let e=0;e<qv.length;e+=1)n[qv[e].charCodeAt(0)]=e;return n})();function Nw(n,e,t){const r=FO[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Vv(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{KO(l,r,t)};for(let l=0;l<n.length;l+=1)Nw(n.charCodeAt(l),s,a);return e.join("")}function YO(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function GO(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}YO(r,e)}}function KO(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function JO(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Nw(n.charCodeAt(s),t,r);return new Uint8Array(e)}function XO(n){const e=[];return GO(n,t=>e.push(t)),new Uint8Array(e)}function QO(n){return Math.round(Date.now()/1e3)+n}function WO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const qn=()=>typeof window<"u"&&typeof document<"u",Hi={tested:!1,writable:!1},Ko=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hi.tested)return Hi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Hi.tested=!0,Hi.writable=!0}catch{Hi.tested=!0,Hi.writable=!1}return Hi.writable};function ZO(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const Mw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>_a(async()=>{const{default:r}=await Promise.resolve().then(()=>ja);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},eA=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Rw=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Fc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Yc=async(n,e)=>{await n.removeItem(e)};class Du{constructor(){this.promise=new Du.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Du.promiseConstructor=Promise;function jh(n){const e=n.split(".");if(e.length!==3)throw new Go("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!IO.test(e[r]))throw new Go("JWT not in base64url format");return{header:JSON.parse(Vv(e[0])),payload:JSON.parse(Vv(e[1])),signature:JO(e[2]),raw:{header:e[0],payload:e[1]}}}async function tA(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function nA(n,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function rA(n){return("0"+n.toString(16)).substr(-2)}function iA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,rA).join("")}async function sA(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function aA(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await sA(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oa(n,e,t=!1){const r=iA();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await Rw(n,`${e}-code-verifier`,s);const a=await aA(r);return[a,r===a?"plain":"s256"]}const oA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lA(n){const e=n.headers.get(xp);if(!e||!e.match(oA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cA(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function uA(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var fA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Vi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),dA=[502,503,504];async function Fv(n){var e;if(!eA(n))throw new wp(Vi(n),0);if(dA.includes(n.status))throw new wp(Vi(n),n.status);let t;try{t=await n.json()}catch(a){throw new Aw(Vi(a),a)}let r;const s=lA(n);if(s&&s.getTime()>=Ow["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new $v(Vi(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Zr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new $v(Vi(t),n.status,t.weak_password.reasons);throw new $O(Vi(t),n.status||500,r)}const hA=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function Ae(n,e,t,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[xp]||(a[xp]=Ow["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await pA(n,e,t+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function pA(n,e,t,r,s,a){const l=hA(e,r,s,a);let u;try{u=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new wp(Vi(d),0)}if(u.ok||await Fv(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Fv(d)}}function ei(n){var e;let t=null;bA(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=QO(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Yv(n){const e=ei(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function si(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function mA(n){return{data:n,error:null}}function gA(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a}=n,l=fA(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function yA(n){return n}function bA(n){return n.access_token&&n.refresh_token&&n.expires_in}var vA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class xA{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Mw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:si})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=vA(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gA,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(we(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:si})}catch(t){if(we(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,a,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:yA});if(p.error)throw p.error;const y=await p.json(),b=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(x=>{const _=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);h[`${k}Page`]=_}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(we(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:si})}catch(t){if(we(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:si})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:si})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(we(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}}}const wA={getItem:n=>Ko()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ko()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ko()&&globalThis.localStorage.removeItem(n)}};function Gv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function SA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const la={debug:!!(globalThis&&Ko()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _A extends jw{}async function kA(n,e,t){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),la.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){la.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{la.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw la.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new _A(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(la.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}SA();const TA={url:LO,storageKey:PO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kv(n,e,t){return await t()}class tl{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tl.nextInstanceID,tl.nextInstanceID+=1,this.instanceID>0&&qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},TA),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Mw(s.fetch),this.lock=s.lock||Kv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qn()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=kA:this.lock=Kv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ko()?this.storage=wA:(this.memoryStorage={},this.storage=Gv(this.memoryStorage)):(this.memoryStorage={},this.storage=Gv(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ZO(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),qn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),VO(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return we(t)?{error:t}:{error:new Aw("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const a=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ei}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,s;try{let a;if("email"in e){const{email:p,password:y,options:b}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await oa(this.storage,this.storageKey)),a=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:p,password:y,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:v,code_challenge_method:x},xform:ei})}else if("phone"in e){const{phone:p,password:y,options:b}=e;a=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(s=b==null?void 0:b.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ei})}else throw new Hc("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:u}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Yv})}else if("phone"in e){const{phone:a,password:l,options:u}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Yv})}else throw new Hc("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Mh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Fc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ei});if(await Yc(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Mh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(we(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:a,nonce:l}=e,u=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ei}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Mh}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,a,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await oa(this.storage,this.storageKey));const{error:y}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:p}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Hc("You must provide either an email or phone number.")}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,r;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ei});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(we(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await oa(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:mA})}catch(a){if(we(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Zr;const{error:s}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(we(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:l}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:l,error:u}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Hc("You must provide either an email or phone number and a type")}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Fc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Nh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:si}):await this._useSession(async t=>{var r,s,a;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:si})})}catch(t){if(we(t))return HO(t)&&(await this._removeSession(),await Yc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Zr;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await oa(this.storage,this.storageKey));const{data:h,error:p}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:si});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zr;const t=Date.now()/1e3;let r=t,s=!0,a=null;const{payload:l}=jh(e.access_token);if(l.exp&&(r=l.exp,s=r<=t),s){const{session:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(we(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Zr;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!qn())throw new Vc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Uv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Uv("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!a||!u||!l||!h)throw new Vc("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(u);let b=p+y;d&&(b=parseInt(d));const v=b-p;v*1e3<=da&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${y}s`);const x=b-y;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,b,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,b,p);const{data:_,error:k}=await this._getUser(a);if(k)throw k;const E={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:y,expires_at:b,refresh_token:l,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(we(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Fc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return{error:a};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(qO(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Yc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=WO(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await oa(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(we(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(we(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async a=>{var l,u,d,h,p;const{data:y,error:b}=a;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return qn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(we(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:l}=t;if(l)throw l;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(we(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await nA(async s=>(s>0&&await tA(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ei})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Rh(a)&&Date.now()+l-r<da})}catch(r){if(this._debug(t,"error",r),we(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),qn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Fc(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Nh;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Nh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Rh(a)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Du;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Zr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(s,"error",a),we(a)){const l={session:null,error:a};return Rh(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rw(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Yc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),da);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/da);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${da}ms, refresh threshold is ${vp} ticks`),s<=vp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await oa(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;return a?{data:null,error:a}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(we(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:h}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if(we(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const{data:l,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(we(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;return a?{data:null,error:a}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(we(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=jh(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+UO>Date.now()))return r;const{data:s,error:a}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Go("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(l=>l.kid===e),!r)throw new Go("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};r=v.session.access_token}const{header:s,payload:a,signature:l,raw:{header:u,payload:d}}=jh(r);if(cA(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:s,signature:l},error:null}}const h=uA(s.alg),p=await this.fetchJwk(s.kid,t),y=await crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!await crypto.subtle.verify(h,y,l,XO(`${u}.${d}`)))throw new Go("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}}tl.nextInstanceID=0;const EA=tl;class CA extends EA{constructor(e){super(e)}}var OA=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):s(p.value).then(u,d)}h((r=r.apply(n,e||[])).next())})};class AA{constructor(e,t,r){var s,a,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=DO(e);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:EO,realtime:OO,auth:Object.assign(Object.assign({},CO),{storageKey:d}),global:TO},p=zO(r??{},h);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=RO(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new GC(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new zC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new SO(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return OA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:a,flowType:l,lock:u,debug:d},h,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CA({url:this.authUrl,headers:Object.assign(Object.assign({},y),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:l,lock:u,debug:d,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new lO(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NA=(n,e,t)=>new AA(n,e,t),me=NA("https://mivnacfecycugbbdwixv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1pdm5hY2ZlY3ljdWdiYmR3aXh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1MjQ0MzgsImV4cCI6MjA2MDEwMDQzOH0.DdDUA6piCpBlVdKBglN4mrcpCjsk32v3ok-wImufWhs",{auth:{detectSessionInUrl:!0,persistSession:!0,autoRefreshToken:!0}}),Am=({children:n})=>w.jsx("div",{className:"w-full sm:max-w-screen-md sm:mx-auto sm:px-4 px-0",children:n});/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Jv=n=>{const e=RA(n);return e.charAt(0).toUpperCase()+e.slice(1)},Dw=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...jA,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Dw("lucide",s),...u},[...l.map(([h,p])=>C.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=(n,e)=>{const t=C.forwardRef(({className:r,...s},a)=>C.createElement(DA,{ref:a,iconNode:e,className:Dw(`lucide-${MA(Jv(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Jv(n),t};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Sp=Nm("brain-circuit",zA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],zw=Nm("dumbbell",LA);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],Lw=Nm("square-activity",PA),BA=()=>{const n=Pt.useUser(),e=lt(),[t,r]=C.useState(null),s={basic:{label:"기초해부학",icon:w.jsx(zw,{size:20,className:"text-white"})},functional:{label:"기능해부학",icon:w.jsx(Lw,{size:20,className:"text-white"})},neuro:{label:"신경해부학",icon:w.jsx(Sp,{size:20,className:"text-white"})}};C.useEffect(()=>{n&&(async()=>{const{data:u,error:d}=await me.from("quiz_results").select("id, quiz_id, score, total, created_at").eq("user_id",n.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();!d&&u&&r(u)})()},[n]);const a=t&&t.total>0?Math.round(t.score/t.total*100):0,l=t&&s[t.quiz_id]?s[t.quiz_id]:{label:(t==null?void 0:t.quiz_id)||"",icon:null};return w.jsxs("div",{className:"bg-white rounded-xl p-4 mb-5 shadow-sm",children:[w.jsxs("div",{className:"flex justify-between items-center mb-3",children:[w.jsx("h2",{className:"font-bold text-base",children:"나의 퀴즈 현황"}),w.jsxs("div",{className:"flex items-center text-sm text-blue-500 cursor-pointer",onClick:()=>e("/mypage"),children:[w.jsx("span",{className:"font-medium",children:"전체보기"}),w.jsx("i",{className:"fas fa-chevron-right ml-1 text-xs"})]})]}),t?w.jsxs("div",{className:"flex items-center justify-between bg-blue-50 rounded-lg p-3",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"bg-blue-500 w-10 h-10 rounded-full flex items-center justify-center mr-3",children:l.icon}),w.jsxs("div",{children:[w.jsxs("p",{className:"text-sm font-medium",children:[l.label," 퀴즈"]}),w.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["총 ",t.total,"문제 중 ",t.score,"문제 완료"]})]})]}),w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsxs("span",{className:"text-sm font-medium text-blue-500",children:[a,"%"]}),w.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full mt-1",children:w.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${a}%`}})})]})]}):w.jsx("div",{className:"text-sm text-gray-500",children:"아직 푼 퀴즈가 없습니다."})]})},Xv=[{title:"메-클에 오신 것을 환영합니다 🎉",description:`10% 더 높은 경쟁력을 갖추기 위한
자료 공유 커뮤니티입니다.`,imageUrl:"/images/Be1.png",linkUrl:"https://metaclass.club/dashboard",bgColorClass:"from-indigo-50 to-indigo-100"},{title:"누군가에겐 큰 인사이트가 됩니다🍀",description:`평범해 보여도 누군가에겐
큰 배움의 기회가 될 수 있어요 😌`,imageUrl:"/images/Be2.png",linkUrl:"https://metaclass.club/dashboard",bgColorClass:"from-indigo-50 to-indigo-100"},{title:"지금 기초해부학에 도전해보세요 👍",description:"당신의 기초 지식 능력은 몇 점일까요?",imageUrl:"/images/Be3.png",linkUrl:"https://metaclass.club/dashboard",bgColorClass:"from-indigo-50 to-indigo-100"}],Pw=()=>{const[n,e]=C.useState(0),[t,r]=C.useState(!0);C.useEffect(()=>{const a=setInterval(()=>{r(!1),setTimeout(()=>{e(l=>(l+1)%Xv.length),r(!0)},300)},4e3);return()=>clearInterval(a)},[]);const s=Xv[n];return w.jsxs("div",{className:"overflow-hidden",children:[w.jsxs("a",{href:s.linkUrl,target:"_blank",rel:"noopener noreferrer",className:`block rounded-xl p-4 mb-3 flex flex-row items-center justify-between gap-4
          bg-gradient-to-r ${s.bgColorClass}
          transition-all duration-500 ease-in-out transform
          ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
        `,children:[w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h3",{className:"font-semibold text-blue-800 text-base sm:text-lg leading-snug",children:s.title}),w.jsx("p",{className:"text-sm text-blue-700 mt-1 leading-relaxed whitespace-pre-line",children:s.description})]}),w.jsx("img",{src:s.imageUrl,alt:"배너 이미지",className:"w-20 h-20 object-contain flex-shrink-0",onError:a=>{a.currentTarget.style.display="none"}})]}),w.jsxs("a",{href:"https://tally.so/r/mJg0B7",target:"_blank",rel:"noopener noreferrer",className:"block bg-white bg-opacity-60 backdrop-blur-md border border-blue-200 rounded-lg p-3 text-center shadow-sm text-sm text-blue-800 hover:bg-opacity-80 transition",children:["👀 알리고 싶은 게 있나요?"," ",w.jsx("span",{className:"text-blue-600 font-semibold underline hover:text-blue-800",children:"광고 문의"})]})]})},IA=()=>{const[n,e]=C.useState([]);C.useEffect(()=>{(async()=>{const{data:s,error:a}=await me.from("posts").select("id, title, views").order("views",{ascending:!1}).limit(10);!a&&s?e(s):console.error("🔥 인기글 조회 실패:",a==null?void 0:a.message)})()},[]);const t=[n.slice(0,5),n.slice(5,10)];return w.jsxs("div",{className:"w-full bg-white rounded-xl shadow-md p-4 sm:p-5 md:p-6 space-y-4",children:[w.jsx("div",{className:"flex justify-between items-center mb-2",children:w.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"🔥 인기 게시글 TOP 10"})}),w.jsx("div",{className:"overflow-x-auto flex gap-4 scroll-smooth snap-x snap-mandatory",children:t.map((r,s)=>w.jsx("div",{className:"min-w-full shrink-0 space-y-2 snap-start",children:r.map((a,l)=>{const u=s*5+l+1,d=u<=3?"text-red-500":"text-green-600";return w.jsxs("div",{className:"flex justify-between items-center border-b last:border-none py-2",children:[w.jsxs("div",{className:"flex items-center gap-2 w-10/12",children:[w.jsxs("span",{className:`text-sm font-bold ${d}`,children:[u,"위"]}),w.jsx("p",{className:"truncate text-[15px] font-medium text-gray-800",title:a.title,children:a.title})]}),w.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[w.jsx("i",{className:"far fa-eye mr-1"}),w.jsx("span",{children:a.views.toLocaleString()})]})]},a.id)})},s))})]})},Bw=110,UA=12,Qv=4,$A=Bw*Qv+UA*(Qv-1),qA=({category:n})=>{const[e,t]=C.useState([]);return C.useEffect(()=>{(async()=>{let r=me.from("education_posts").select("*").order("created_at",{ascending:!1});n!=="all"&&(r=r.eq("category",n));const{data:s,error:a}=await r;!a&&s&&t(s)})()},[n]),w.jsx("div",{className:"overflow-y-auto scrollbar-hide w-full",style:{maxHeight:`${$A}px`,paddingRight:"2px"},children:w.jsxs("div",{className:"space-y-3",children:[e.length===0&&w.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"등록된 정보가 없습니다."}),e.map(r=>w.jsxs("a",{href:`/education/${r.category}/${r.id}`,className:"w-full flex items-start gap-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition duration-200",style:{height:`${Bw}px`},children:[w.jsx("div",{className:"w-20 h-20 min-w-[80px] rounded bg-gray-100 overflow-hidden flex-shrink-0",children:w.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover object-center"})}),w.jsxs("div",{className:"flex flex-col justify-between overflow-hidden",children:[w.jsx("h3",{className:"text-sm font-semibold text-gray-900 leading-snug line-clamp-1",children:r.title}),w.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:r.description||"소개 문구 없음"})]})]},r.id))]})})},HA=[{label:"전체",value:"all"},{label:"무료 강의",value:"free"},{label:"웨이트 트레이닝",value:"weight"},{label:"재활 트레이닝",value:"rehab"},{label:"필라테스",value:"pila"},{label:"운동지도",value:"guide"}],VA=({selected:n,onChange:e})=>{Pt.useUser();const t=C.useRef(null);return C.useEffect(()=>{const r=t.current;if(!r)return;let s=!1,a=0,l=0;const u=p=>{s=!0,r.classList.add("grabbing"),a=p.pageX-r.offsetLeft,l=r.scrollLeft},d=()=>{s=!1,r.classList.remove("grabbing")},h=p=>{if(!s)return;p.preventDefault();const b=(p.pageX-r.offsetLeft-a)*1.5;r.scrollLeft=l-b};return r.addEventListener("mousedown",u),r.addEventListener("mouseleave",d),r.addEventListener("mouseup",d),r.addEventListener("mousemove",h),()=>{r.removeEventListener("mousedown",u),r.removeEventListener("mouseleave",d),r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",h)}},[]),w.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-5 gap-3",children:w.jsx("div",{ref:t,className:"w-full flex gap-2 overflow-x-auto scrollbar-hide touch-pan-x -mx-2 px-2 pb-1 select-none",children:HA.map(r=>w.jsx("button",{onClick:()=>e(r.value),className:`flex-shrink-0 px-4 py-2 text-sm rounded-full font-medium transition whitespace-nowrap ${n===r.value?"bg-blue-600 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r.label},r.value))})})},FA=[{label:"전체",value:"all"},{label:"자유게시판",value:"free"},{label:"문의게시판",value:"question"},{label:"정보게시판",value:"info"}],YA=({selected:n,onChange:e})=>{const t=C.useRef(null);return C.useEffect(()=>{const r=t.current;if(!r)return;let s=!1,a=0,l=0;const u=p=>{s=!0,r.classList.add("grabbing"),a=p.pageX-r.offsetLeft,l=r.scrollLeft},d=()=>{s=!1,r.classList.remove("grabbing")},h=p=>{if(!s)return;p.preventDefault();const b=(p.pageX-r.offsetLeft-a)*1.5;r.scrollLeft=l-b};return r.addEventListener("mousedown",u),r.addEventListener("mouseleave",d),r.addEventListener("mouseup",d),r.addEventListener("mousemove",h),()=>{r.removeEventListener("mousedown",u),r.removeEventListener("mouseleave",d),r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",h)}},[]),w.jsx("div",{ref:t,className:"flex gap-2 overflow-x-scroll scroll-smooth touch-pan-x scrollbar-hide cursor-grab select-none mb-4",children:FA.map(r=>w.jsx("button",{onClick:()=>e(r.value),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-sm font-medium ${n===r.value?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:r.label},r.value))})};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function GA(n,e,t){return(e=JA(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function K(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wv(Object(t),!0).forEach(function(r){GA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wv(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KA(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function JA(n){var e=KA(n,"string");return typeof e=="symbol"?e:e+""}const Zv=()=>{};let Mm={},Iw={},Uw=null,$w={mark:Zv,measure:Zv};try{typeof window<"u"&&(Mm=window),typeof document<"u"&&(Iw=document),typeof MutationObserver<"u"&&(Uw=MutationObserver),typeof performance<"u"&&($w=performance)}catch{}const{userAgent:e1=""}=Mm.navigator||{},gi=Mm,He=Iw,t1=Uw,Gc=$w;gi.document;const Er=!!He.documentElement&&!!He.head&&typeof He.addEventListener=="function"&&typeof He.createElement=="function",qw=~e1.indexOf("MSIE")||~e1.indexOf("Trident/");var XA=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,QA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Hw={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},WA={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Vw=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Rt="classic",zu="duotone",ZA="sharp",eN="sharp-duotone",Fw=[Rt,zu,ZA,eN],tN={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},nN={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},rN=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),iN={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},sN=["fak","fa-kit","fakd","fa-kit-duotone"],n1={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},aN=["kit"],oN={kit:{"fa-kit":"fak"}},lN=["fak","fakd"],cN={kit:{fak:"fa-kit"}},r1={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Kc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},uN=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],fN=["fak","fa-kit","fakd","fa-kit-duotone"],dN={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},hN={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},pN={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},_p={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},mN=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],kp=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...uN,...mN],gN=["solid","regular","light","thin","duotone","brands"],Yw=[1,2,3,4,5,6,7,8,9,10],yN=Yw.concat([11,12,13,14,15,16,17,18,19,20]),bN=[...Object.keys(pN),...gN,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Kc.GROUP,Kc.SWAP_OPACITY,Kc.PRIMARY,Kc.SECONDARY].concat(Yw.map(n=>"".concat(n,"x"))).concat(yN.map(n=>"w-".concat(n))),vN={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Sr="___FONT_AWESOME___",Tp=16,Gw="fa",Kw="svg-inline--fa",is="data-fa-i2svg",Ep="data-fa-pseudo-element",xN="data-fa-pseudo-element-pending",Rm="data-prefix",jm="data-icon",i1="fontawesome-i2svg",wN="async",SN=["HTML","HEAD","STYLE","SCRIPT"],Jw=(()=>{try{return!0}catch{return!1}})();function bl(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[Rt]}})}const Xw=K({},Hw);Xw[Rt]=K(K(K(K({},{"fa-duotone":"duotone"}),Hw[Rt]),n1.kit),n1["kit-duotone"]);const _N=bl(Xw),Cp=K({},iN);Cp[Rt]=K(K(K(K({},{duotone:"fad"}),Cp[Rt]),r1.kit),r1["kit-duotone"]);const s1=bl(Cp),Op=K({},_p);Op[Rt]=K(K({},Op[Rt]),cN.kit);const Dm=bl(Op),Ap=K({},hN);Ap[Rt]=K(K({},Ap[Rt]),oN.kit);bl(Ap);const kN=XA,Qw="fa-layers-text",TN=QA,EN=K({},tN);bl(EN);const CN=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Dh=WA,ON=[...aN,...bN],Jo=gi.FontAwesomeConfig||{};function AN(n){var e=He.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function NN(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}He&&typeof He.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const s=NN(AN(t));s!=null&&(Jo[r]=s)});const Ww={styleDefault:"solid",familyDefault:Rt,cssPrefix:Gw,replacementClass:Kw,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Jo.familyPrefix&&(Jo.cssPrefix=Jo.familyPrefix);const Ta=K(K({},Ww),Jo);Ta.autoReplaceSvg||(Ta.observeMutations=!1);const ae={};Object.keys(Ww).forEach(n=>{Object.defineProperty(ae,n,{enumerable:!0,set:function(e){Ta[n]=e,Xo.forEach(t=>t(ae))},get:function(){return Ta[n]}})});Object.defineProperty(ae,"familyPrefix",{enumerable:!0,set:function(n){Ta.cssPrefix=n,Xo.forEach(e=>e(ae))},get:function(){return Ta.cssPrefix}});gi.FontAwesomeConfig=ae;const Xo=[];function MN(n){return Xo.push(n),()=>{Xo.splice(Xo.indexOf(n),1)}}const Wr=Tp,Fn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function RN(n){if(!n||!Er)return;const e=He.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=He.head.childNodes;let r=null;for(let s=t.length-1;s>-1;s--){const a=t[s],l=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=a)}return He.head.insertBefore(e,r),n}const jN="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nl(){let n=12,e="";for(;n-- >0;)e+=jN[Math.random()*62|0];return e}function Da(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function zm(n){return n.classList?Da(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function Zw(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function DN(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(Zw(n[t]),'" '),"").trim()}function Lu(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function Lm(n){return n.size!==Fn.size||n.x!==Fn.x||n.y!==Fn.y||n.rotate!==Fn.rotate||n.flipX||n.flipY}function zN(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const s={transform:"translate(".concat(t/2," 256)")},a="translate(".concat(e.x*32,", ").concat(e.y*32,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),u="rotate(".concat(e.rotate," 0 0)"),d={transform:"".concat(a," ").concat(l," ").concat(u)},h={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:d,path:h}}function LN(n){let{transform:e,width:t=Tp,height:r=Tp,startCentered:s=!1}=n,a="";return s&&qw?a+="translate(".concat(e.x/Wr-t/2,"em, ").concat(e.y/Wr-r/2,"em) "):s?a+="translate(calc(-50% + ".concat(e.x/Wr,"em), calc(-50% + ").concat(e.y/Wr,"em)) "):a+="translate(".concat(e.x/Wr,"em, ").concat(e.y/Wr,"em) "),a+="scale(".concat(e.size/Wr*(e.flipX?-1:1),", ").concat(e.size/Wr*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var PN=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function eS(){const n=Gw,e=Kw,t=ae.cssPrefix,r=ae.replacementClass;let s=PN;if(t!==n||r!==e){const a=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),u=new RegExp("\\.".concat(e),"g");s=s.replace(a,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(u,".".concat(r))}return s}let a1=!1;function zh(){ae.autoAddCss&&!a1&&(RN(eS()),a1=!0)}var BN={mixout(){return{dom:{css:eS,insertCss:zh}}},hooks(){return{beforeDOMElementCreation(){zh()},beforeI2svg(){zh()}}}};const _r=gi||{};_r[Sr]||(_r[Sr]={});_r[Sr].styles||(_r[Sr].styles={});_r[Sr].hooks||(_r[Sr].hooks={});_r[Sr].shims||(_r[Sr].shims=[]);var Yn=_r[Sr];const tS=[],nS=function(){He.removeEventListener("DOMContentLoaded",nS),hu=1,tS.map(n=>n())};let hu=!1;Er&&(hu=(He.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(He.readyState),hu||He.addEventListener("DOMContentLoaded",nS));function IN(n){Er&&(hu?setTimeout(n,0):tS.push(n))}function vl(n){const{tag:e,attributes:t={},children:r=[]}=n;return typeof n=="string"?Zw(n):"<".concat(e," ").concat(DN(t),">").concat(r.map(vl).join(""),"</").concat(e,">")}function o1(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var Lh=function(e,t,r,s){var a=Object.keys(e),l=a.length,u=t,d,h,p;for(r===void 0?(d=1,p=e[a[0]]):(d=0,p=r);d<l;d++)h=a[d],p=u(p,e[h],h,e);return p};function UN(n){const e=[];let t=0;const r=n.length;for(;t<r;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<r){const a=n.charCodeAt(t++);(a&64512)==56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function Np(n){const e=UN(n);return e.length===1?e[0].toString(16):null}function $N(n,e){const t=n.length;let r=n.charCodeAt(e),s;return r>=55296&&r<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function l1(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return!!r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function Mp(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=t,s=l1(e);typeof Yn.hooks.addPack=="function"&&!r?Yn.hooks.addPack(n,l1(e)):Yn.styles[n]=K(K({},Yn.styles[n]||{}),s),n==="fas"&&Mp("fa",e)}const{styles:rl,shims:qN}=Yn,rS=Object.keys(Dm),HN=rS.reduce((n,e)=>(n[e]=Object.keys(Dm[e]),n),{});let Pm=null,iS={},sS={},aS={},oS={},lS={};function VN(n){return~ON.indexOf(n)}function FN(n,e){const t=e.split("-"),r=t[0],s=t.slice(1).join("-");return r===n&&s!==""&&!VN(s)?s:null}const cS=()=>{const n=r=>Lh(rl,(s,a,l)=>(s[l]=Lh(a,r,{}),s),{});iS=n((r,s,a)=>(s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(u=>typeof u=="number").forEach(u=>{r[u.toString(16)]=a}),r)),sS=n((r,s,a)=>(r[a]=a,s[2]&&s[2].filter(u=>typeof u=="string").forEach(u=>{r[u]=a}),r)),lS=n((r,s,a)=>{const l=s[2];return r[a]=a,l.forEach(u=>{r[u]=a}),r});const e="far"in rl||ae.autoFetchSvg,t=Lh(qN,(r,s)=>{const a=s[0];let l=s[1];const u=s[2];return l==="far"&&!e&&(l="fas"),typeof a=="string"&&(r.names[a]={prefix:l,iconName:u}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:l,iconName:u}),r},{names:{},unicodes:{}});aS=t.names,oS=t.unicodes,Pm=Pu(ae.styleDefault,{family:ae.familyDefault})};MN(n=>{Pm=Pu(n.styleDefault,{family:ae.familyDefault})});cS();function Bm(n,e){return(iS[n]||{})[e]}function YN(n,e){return(sS[n]||{})[e]}function Ki(n,e){return(lS[n]||{})[e]}function uS(n){return aS[n]||{prefix:null,iconName:null}}function GN(n){const e=oS[n],t=Bm("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function yi(){return Pm}const fS=()=>({prefix:null,iconName:null,rest:[]});function KN(n){let e=Rt;const t=rS.reduce((r,s)=>(r[s]="".concat(ae.cssPrefix,"-").concat(s),r),{});return Fw.forEach(r=>{(n.includes(t[r])||n.some(s=>HN[r].includes(s)))&&(e=r)}),e}function Pu(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:t=Rt}=e,r=_N[t][n];if(t===zu&&!n)return"fad";const s=s1[t][n]||s1[t][r],a=n in Yn.styles?n:null;return s||a||null}function JN(n){let e=[],t=null;return n.forEach(r=>{const s=FN(ae.cssPrefix,r);s?t=s:r&&e.push(r)}),{iconName:t,rest:e}}function c1(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function Bu(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const s=kp.concat(fN),a=c1(n.filter(y=>s.includes(y))),l=c1(n.filter(y=>!kp.includes(y))),u=a.filter(y=>(r=y,!Vw.includes(y))),[d=null]=u,h=KN(a),p=K(K({},JN(l)),{},{prefix:Pu(d,{family:h})});return K(K(K({},p),ZN({values:n,family:h,styles:rl,config:ae,canonical:p,givenPrefix:r})),XN(t,r,p))}function XN(n,e,t){let{prefix:r,iconName:s}=t;if(n||!r||!s)return{prefix:r,iconName:s};const a=e==="fa"?uS(s):{},l=Ki(r,s);return s=a.iconName||l||s,r=a.prefix||r,r==="far"&&!rl.far&&rl.fas&&!ae.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const QN=Fw.filter(n=>n!==Rt||n!==zu),WN=Object.keys(_p).filter(n=>n!==Rt).map(n=>Object.keys(_p[n])).flat();function ZN(n){const{values:e,family:t,canonical:r,givenPrefix:s="",styles:a={},config:l={}}=n,u=t===zu,d=e.includes("fa-duotone")||e.includes("fad"),h=l.familyDefault==="duotone",p=r.prefix==="fad"||r.prefix==="fa-duotone";if(!u&&(d||h||p)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&QN.includes(t)&&(Object.keys(a).find(b=>WN.includes(b))||l.autoFetchSvg)){const b=rN.get(t).defaultShortPrefixId;r.prefix=b,r.iconName=Ki(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=yi()||"fas"),r}class eM{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(a=>{this.definitions[a]=K(K({},this.definitions[a]||{}),s[a]),Mp(a,s[a]);const l=Dm[Rt][a];l&&Mp(l,s[a]),cS()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(s=>{const{prefix:a,iconName:l,icon:u}=r[s],d=u[2];e[a]||(e[a]={}),d.length>0&&d.forEach(h=>{typeof h=="string"&&(e[a][h]=u)}),e[a][l]=u}),e}}let u1=[],ma={};const xa={},tM=Object.keys(xa);function nM(n,e){let{mixoutsTo:t}=e;return u1=n,ma={},Object.keys(xa).forEach(r=>{tM.indexOf(r)===-1&&delete xa[r]}),u1.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(a=>{typeof s[a]=="function"&&(t[a]=s[a]),typeof s[a]=="object"&&Object.keys(s[a]).forEach(l=>{t[a]||(t[a]={}),t[a][l]=s[a][l]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(l=>{ma[l]||(ma[l]=[]),ma[l].push(a[l])})}r.provides&&r.provides(xa)}),t}function Rp(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];return(ma[n]||[]).forEach(l=>{e=l.apply(null,[e,...r])}),e}function ss(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(ma[n]||[]).forEach(a=>{a.apply(null,t)})}function bi(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return xa[n]?xa[n].apply(null,e):void 0}function jp(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||yi();if(e)return e=Ki(t,e)||e,o1(dS.definitions,t,e)||o1(Yn.styles,t,e)}const dS=new eM,rM=()=>{ae.autoReplaceSvg=!1,ae.observeMutations=!1,ss("noAuto")},iM={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Er?(ss("beforeI2svg",n),bi("pseudoElements2svg",n),bi("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;ae.autoReplaceSvg===!1&&(ae.autoReplaceSvg=!0),ae.observeMutations=!0,IN(()=>{aM({autoReplaceSvgRoot:e}),ss("watch",n)})}},sM={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Ki(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){const e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=Pu(n[0]);return{prefix:t,iconName:Ki(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(ae.cssPrefix,"-"))>-1||n.match(kN))){const e=Bu(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||yi(),iconName:Ki(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){const e=yi();return{prefix:e,iconName:Ki(e,n)||n}}}},fn={noAuto:rM,config:ae,dom:iM,parse:sM,library:dS,findIconDefinition:jp,toHtml:vl},aM=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=He}=n;(Object.keys(Yn.styles).length>0||ae.autoFetchSvg)&&Er&&ae.autoReplaceSvg&&fn.dom.i2svg({node:e})};function Iu(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>vl(t))}}),Object.defineProperty(n,"node",{get:function(){if(!Er)return;const t=He.createElement("div");return t.innerHTML=n.html,t.children}}),n}function oM(n){let{children:e,main:t,mask:r,attributes:s,styles:a,transform:l}=n;if(Lm(l)&&t.found&&!r.found){const{width:u,height:d}=t,h={x:u/d/2,y:.5};s.style=Lu(K(K({},a),{},{"transform-origin":"".concat(h.x+l.x/16,"em ").concat(h.y+l.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function lM(n){let{prefix:e,iconName:t,children:r,attributes:s,symbol:a}=n;const l=a===!0?"".concat(e,"-").concat(ae.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:K(K({},s),{},{id:l}),children:r}]}]}function Im(n){const{icons:{main:e,mask:t},prefix:r,iconName:s,transform:a,symbol:l,title:u,maskId:d,titleId:h,extra:p,watchable:y=!1}=n,{width:b,height:v}=t.found?t:e,x=lN.includes(r),_=[ae.replacementClass,s?"".concat(ae.cssPrefix,"-").concat(s):""].filter(D=>p.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(p.classes).join(" ");let k={children:[],attributes:K(K({},p.attributes),{},{"data-prefix":r,"data-icon":s,class:_,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(b," ").concat(v)})};const E=x&&!~p.classes.indexOf("fa-fw")?{width:"".concat(b/v*16*.0625,"em")}:{};y&&(k.attributes[is]=""),u&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(h||nl())},children:[u]}),delete k.attributes.title);const N=K(K({},k),{},{prefix:r,iconName:s,main:e,mask:t,maskId:d,transform:a,symbol:l,styles:K(K({},E),p.styles)}),{children:O,attributes:B}=t.found&&e.found?bi("generateAbstractMask",N)||{children:[],attributes:{}}:bi("generateAbstractIcon",N)||{children:[],attributes:{}};return N.children=O,N.attributes=B,l?lM(N):oM(N)}function f1(n){const{content:e,width:t,height:r,transform:s,title:a,extra:l,watchable:u=!1}=n,d=K(K(K({},l.attributes),a?{title:a}:{}),{},{class:l.classes.join(" ")});u&&(d[is]="");const h=K({},l.styles);Lm(s)&&(h.transform=LN({transform:s,startCentered:!0,width:t,height:r}),h["-webkit-transform"]=h.transform);const p=Lu(h);p.length>0&&(d.style=p);const y=[];return y.push({tag:"span",attributes:d,children:[e]}),a&&y.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),y}function cM(n){const{content:e,title:t,extra:r}=n,s=K(K(K({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=Lu(r.styles);a.length>0&&(s.style=a);const l=[];return l.push({tag:"span",attributes:s,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}const{styles:Ph}=Yn;function Dp(n){const e=n[0],t=n[1],[r]=n.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(ae.cssPrefix,"-").concat(Dh.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ae.cssPrefix,"-").concat(Dh.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ae.cssPrefix,"-").concat(Dh.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:s}}const uM={found:!1,width:512,height:512};function fM(n,e){!Jw&&!ae.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function zp(n,e){let t=e;return e==="fa"&&ae.styleDefault!==null&&(e=yi()),new Promise((r,s)=>{if(t==="fa"){const a=uS(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&Ph[e]&&Ph[e][n]){const a=Ph[e][n];return r(Dp(a))}fM(n,e),r(K(K({},uM),{},{icon:ae.showMissingIcons&&n?bi("missingIconAbstract")||{}:{}}))})}const d1=()=>{},Lp=ae.measurePerformance&&Gc&&Gc.mark&&Gc.measure?Gc:{mark:d1,measure:d1},qo='FA "6.7.2"',dM=n=>(Lp.mark("".concat(qo," ").concat(n," begins")),()=>hS(n)),hS=n=>{Lp.mark("".concat(qo," ").concat(n," ends")),Lp.measure("".concat(qo," ").concat(n),"".concat(qo," ").concat(n," begins"),"".concat(qo," ").concat(n," ends"))};var Um={begin:dM,end:hS};const iu=()=>{};function h1(n){return typeof(n.getAttribute?n.getAttribute(is):null)=="string"}function hM(n){const e=n.getAttribute?n.getAttribute(Rm):null,t=n.getAttribute?n.getAttribute(jm):null;return e&&t}function pM(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(ae.replacementClass)}function mM(){return ae.autoReplaceSvg===!0?su.replace:su[ae.autoReplaceSvg]||su.replace}function gM(n){return He.createElementNS("http://www.w3.org/2000/svg",n)}function yM(n){return He.createElement(n)}function pS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:t=n.tag==="svg"?gM:yM}=e;if(typeof n=="string")return He.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(a){r.setAttribute(a,n.attributes[a])}),(n.children||[]).forEach(function(a){r.appendChild(pS(a,{ceFn:t}))}),r}function bM(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const su={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(pS(t),e)}),e.getAttribute(is)===null&&ae.keepOriginalSource){let t=He.createComment(bM(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~zm(e).indexOf(ae.replacementClass))return su.replace(n);const r=new RegExp("".concat(ae.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const a=t[0].attributes.class.split(" ").reduce((l,u)=>(u===ae.replacementClass||u.match(r)?l.toSvg.push(u):l.toNode.push(u),l),{toNode:[],toSvg:[]});t[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}const s=t.map(a=>vl(a)).join(`
`);e.setAttribute(is,""),e.innerHTML=s}};function p1(n){n()}function mS(n,e){const t=typeof e=="function"?e:iu;if(n.length===0)t();else{let r=p1;ae.mutateApproach===wN&&(r=gi.requestAnimationFrame||p1),r(()=>{const s=mM(),a=Um.begin("mutate");n.map(s),a(),t()})}}let $m=!1;function gS(){$m=!0}function Pp(){$m=!1}let pu=null;function m1(n){if(!t1||!ae.observeMutations)return;const{treeCallback:e=iu,nodeCallback:t=iu,pseudoElementsCallback:r=iu,observeMutationsRoot:s=He}=n;pu=new t1(a=>{if($m)return;const l=yi();Da(a).forEach(u=>{if(u.type==="childList"&&u.addedNodes.length>0&&!h1(u.addedNodes[0])&&(ae.searchPseudoElements&&r(u.target),e(u.target)),u.type==="attributes"&&u.target.parentNode&&ae.searchPseudoElements&&r(u.target.parentNode),u.type==="attributes"&&h1(u.target)&&~CN.indexOf(u.attributeName))if(u.attributeName==="class"&&hM(u.target)){const{prefix:d,iconName:h}=Bu(zm(u.target));u.target.setAttribute(Rm,d||l),h&&u.target.setAttribute(jm,h)}else pM(u.target)&&t(u.target)})}),Er&&pu.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function vM(){pu&&pu.disconnect()}function xM(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,s)=>{const a=s.split(":"),l=a[0],u=a.slice(1);return l&&u.length>0&&(r[l]=u.join(":").trim()),r},{})),t}function wM(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"";let s=Bu(zm(n));return s.prefix||(s.prefix=yi()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=YN(s.prefix,n.innerText)||Bm(s.prefix,Np(n.innerText))),!s.iconName&&ae.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function SM(n){const e=Da(n.attributes).reduce((s,a)=>(s.name!=="class"&&s.name!=="style"&&(s[a.name]=a.value),s),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return ae.autoA11y&&(t?e["aria-labelledby"]="".concat(ae.replacementClass,"-title-").concat(r||nl()):(e["aria-hidden"]="true",e.focusable="false")),e}function _M(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Fn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function g1(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:s}=wM(n),a=SM(n),l=Rp("parseNodeAttributes",{},n);let u=e.styleParser?xM(n):[];return K({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Fn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:u,attributes:a}},l)}const{styles:kM}=Yn;function yS(n){const e=ae.autoReplaceSvg==="nest"?g1(n,{styleParser:!1}):g1(n);return~e.extra.classes.indexOf(Qw)?bi("generateLayersText",n,e):bi("generateSvgReplacementMutation",n,e)}function TM(){return[...sN,...kp]}function y1(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Er)return Promise.resolve();const t=He.documentElement.classList,r=p=>t.add("".concat(i1,"-").concat(p)),s=p=>t.remove("".concat(i1,"-").concat(p)),a=ae.autoFetchSvg?TM():Vw.concat(Object.keys(kM));a.includes("fa")||a.push("fa");const l=[".".concat(Qw,":not([").concat(is,"])")].concat(a.map(p=>".".concat(p,":not([").concat(is,"])"))).join(", ");if(l.length===0)return Promise.resolve();let u=[];try{u=Da(n.querySelectorAll(l))}catch{}if(u.length>0)r("pending"),s("complete");else return Promise.resolve();const d=Um.begin("onTree"),h=u.reduce((p,y)=>{try{const b=yS(y);b&&p.push(b)}catch(b){Jw||b.name==="MissingIcon"&&console.error(b)}return p},[]);return new Promise((p,y)=>{Promise.all(h).then(b=>{mS(b,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),d(),p()})}).catch(b=>{d(),y(b)})})}function EM(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;yS(n).then(t=>{t&&mS([t],e)})}function CM(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:jp(e||{});let{mask:s}=t;return s&&(s=(s||{}).icon?s:jp(s||{})),n(r,K(K({},t),{},{mask:s}))}}const OM=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Fn,symbol:r=!1,mask:s=null,maskId:a=null,title:l=null,titleId:u=null,classes:d=[],attributes:h={},styles:p={}}=e;if(!n)return;const{prefix:y,iconName:b,icon:v}=n;return Iu(K({type:"icon"},n),()=>(ss("beforeDOMElementCreation",{iconDefinition:n,params:e}),ae.autoA11y&&(l?h["aria-labelledby"]="".concat(ae.replacementClass,"-title-").concat(u||nl()):(h["aria-hidden"]="true",h.focusable="false")),Im({icons:{main:Dp(v),mask:s?Dp(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:b,transform:K(K({},Fn),t),symbol:r,title:l,maskId:a,titleId:u,extra:{attributes:h,styles:p,classes:d}})))};var AM={mixout(){return{icon:CM(OM)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=y1,n.nodeCallback=EM,n}}},provides(n){n.i2svg=function(e){const{node:t=He,callback:r=()=>{}}=e;return y1(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:s,titleId:a,prefix:l,transform:u,symbol:d,mask:h,maskId:p,extra:y}=t;return new Promise((b,v)=>{Promise.all([zp(r,l),h.iconName?zp(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(x=>{let[_,k]=x;b([e,Im({icons:{main:_,mask:k},prefix:l,iconName:r,transform:u,symbol:d,maskId:p,title:s,titleId:a,extra:y,watchable:!0})])}).catch(v)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:s,transform:a,styles:l}=e;const u=Lu(l);u.length>0&&(r.style=u);let d;return Lm(a)&&(d=bi("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),t.push(d||s.icon),{children:t,attributes:r}}}},NM={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:t=[]}=e;return Iu({type:"layer"},()=>{ss("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(s=>{Array.isArray(s)?s.map(a=>{r=r.concat(a.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(ae.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}}}},MM={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:t=null,classes:r=[],attributes:s={},styles:a={}}=e;return Iu({type:"counter",content:n},()=>(ss("beforeDOMElementCreation",{content:n,params:e}),cM({content:n.toString(),title:t,extra:{attributes:s,styles:a,classes:["".concat(ae.cssPrefix,"-layers-counter"),...r]}})))}}}},RM={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:t=Fn,title:r=null,classes:s=[],attributes:a={},styles:l={}}=e;return Iu({type:"text",content:n},()=>(ss("beforeDOMElementCreation",{content:n,params:e}),f1({content:n,transform:K(K({},Fn),t),title:r,extra:{attributes:a,styles:l,classes:["".concat(ae.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){const{title:r,transform:s,extra:a}=t;let l=null,u=null;if(qw){const d=parseInt(getComputedStyle(e).fontSize,10),h=e.getBoundingClientRect();l=h.width/d,u=h.height/d}return ae.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,f1({content:e.innerHTML,width:l,height:u,transform:s,title:r,extra:a,watchable:!0})])}}};const jM=new RegExp('"',"ug"),b1=[1105920,1112319],v1=K(K(K(K({},{FontAwesome:{normal:"fas",400:"fas"}}),nN),vN),dN),Bp=Object.keys(v1).reduce((n,e)=>(n[e.toLowerCase()]=v1[e],n),{}),DM=Object.keys(Bp).reduce((n,e)=>{const t=Bp[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function zM(n){const e=n.replace(jM,""),t=$N(e,0),r=t>=b1[0]&&t<=b1[1],s=e.length===2?e[0]===e[1]:!1;return{value:Np(s?e[0]:e),isSecondary:r||s}}function LM(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Bp[t]||{})[s]||DM[t]}function x1(n,e){const t="".concat(xN).concat(e.replace(":","-"));return new Promise((r,s)=>{if(n.getAttribute(t)!==null)return r();const l=Da(n.children).filter(b=>b.getAttribute(Ep)===e)[0],u=gi.getComputedStyle(n,e),d=u.getPropertyValue("font-family"),h=d.match(TN),p=u.getPropertyValue("font-weight"),y=u.getPropertyValue("content");if(l&&!h)return n.removeChild(l),r();if(h&&y!=="none"&&y!==""){const b=u.getPropertyValue("content");let v=LM(d,p);const{value:x,isSecondary:_}=zM(b),k=h[0].startsWith("FontAwesome");let E=Bm(v,x),N=E;if(k){const O=GN(x);O.iconName&&O.prefix&&(E=O.iconName,v=O.prefix)}if(E&&!_&&(!l||l.getAttribute(Rm)!==v||l.getAttribute(jm)!==N)){n.setAttribute(t,N),l&&n.removeChild(l);const O=_M(),{extra:B}=O;B.attributes[Ep]=e,zp(E,v).then(D=>{const J=Im(K(K({},O),{},{icons:{main:D,mask:fS()},prefix:v,iconName:N,extra:B,watchable:!0})),G=He.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(G,n.firstChild):n.appendChild(G),G.outerHTML=J.map(X=>vl(X)).join(`
`),n.removeAttribute(t),r()}).catch(s)}else r()}else r()})}function PM(n){return Promise.all([x1(n,"::before"),x1(n,"::after")])}function BM(n){return n.parentNode!==document.head&&!~SN.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Ep)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function w1(n){if(Er)return new Promise((e,t)=>{const r=Da(n.querySelectorAll("*")).filter(BM).map(PM),s=Um.begin("searchPseudoElements");gS(),Promise.all(r).then(()=>{s(),Pp(),e()}).catch(()=>{s(),Pp(),t()})})}var IM={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=w1,n}}},provides(n){n.pseudoElements2svg=function(e){const{node:t=He}=e;ae.searchPseudoElements&&w1(t)}}};let S1=!1;var UM={mixout(){return{dom:{unwatch(){gS(),S1=!0}}}},hooks(){return{bootstrap(){m1(Rp("mutationObserverCallbacks",{}))},noAuto(){vM()},watch(n){const{observeMutationsRoot:e}=n;S1?Pp():m1(Rp("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const _1=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,r)=>{const s=r.toLowerCase().split("-"),a=s[0];let l=s.slice(1).join("-");if(a&&l==="h")return t.flipX=!0,t;if(a&&l==="v")return t.flipY=!0,t;if(l=parseFloat(l),isNaN(l))return t;switch(a){case"grow":t.size=t.size+l;break;case"shrink":t.size=t.size-l;break;case"left":t.x=t.x-l;break;case"right":t.x=t.x+l;break;case"up":t.y=t.y-l;break;case"down":t.y=t.y+l;break;case"rotate":t.rotate=t.rotate+l;break}return t},e)};var $M={mixout(){return{parse:{transform:n=>_1(n)}}},hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=_1(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:s,iconWidth:a}=e;const l={transform:"translate(".concat(s/2," 256)")},u="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),h="rotate(".concat(r.rotate," 0 0)"),p={transform:"".concat(u," ").concat(d," ").concat(h)},y={transform:"translate(".concat(a/2*-1," -256)")},b={outer:l,inner:p,path:y};return{tag:"g",attributes:K({},b.outer),children:[{tag:"g",attributes:K({},b.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:K(K({},t.icon.attributes),b.path)}]}]}}}};const Bh={x:0,y:0,width:"100%",height:"100%"};function k1(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function qM(n){return n.tag==="g"?n.children:[n]}var HM={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?Bu(t.split(" ").map(s=>s.trim())):fS();return r.prefix||(r.prefix=yi()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:s,mask:a,maskId:l,transform:u}=e;const{width:d,icon:h}=s,{width:p,icon:y}=a,b=zN({transform:u,containerWidth:p,iconWidth:d}),v={tag:"rect",attributes:K(K({},Bh),{},{fill:"white"})},x=h.children?{children:h.children.map(k1)}:{},_={tag:"g",attributes:K({},b.inner),children:[k1(K({tag:h.tag,attributes:K(K({},h.attributes),b.path)},x))]},k={tag:"g",attributes:K({},b.outer),children:[_]},E="mask-".concat(l||nl()),N="clip-".concat(l||nl()),O={tag:"mask",attributes:K(K({},Bh),{},{id:E,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,k]},B={tag:"defs",children:[{tag:"clipPath",attributes:{id:N},children:qM(y)},O]};return t.push(B,{tag:"rect",attributes:K({fill:"currentColor","clip-path":"url(#".concat(N,")"),mask:"url(#".concat(E,")")},Bh)}),{children:t,attributes:r}}}},VM={provides(n){let e=!1;gi.matchMedia&&(e=gi.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:K(K({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=K(K({},s),{},{attributeName:"opacity"}),l={tag:"circle",attributes:K(K({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||l.children.push({tag:"animate",attributes:K(K({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:K(K({},a),{},{values:"1;0;1;1;0;1;"})}),t.push(l),t.push({tag:"path",attributes:K(K({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:K(K({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:K(K({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:K(K({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},FM={hooks(){return{parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol"),r=t===null?!1:t===""?!0:t;return n.symbol=r,n}}}},YM=[BN,AM,NM,MM,RM,IM,UM,$M,HM,VM,FM];nM(YM,{mixoutsTo:fn});fn.noAuto;fn.config;fn.library;fn.dom;const Ip=fn.parse;fn.findIconDefinition;fn.toHtml;const GM=fn.icon;fn.layer;fn.text;fn.counter;var Ih={exports:{}},Uh,T1;function KM(){if(T1)return Uh;T1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Uh=n,Uh}var $h,E1;function JM(){if(E1)return $h;E1=1;var n=KM();function e(){}function t(){}return t.resetWarningCache=e,$h=function(){function r(l,u,d,h,p,y){if(y!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},$h}var C1;function XM(){return C1||(C1=1,Ih.exports=JM()()),Ih.exports}var QM=XM();const Oe=pl(QM);function O1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Vn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(t),!0).forEach(function(r){ga(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mu(n){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(n)}function ga(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WM(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function ZM(n,e){if(n==null)return{};var t=WM(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Up(n){return e3(n)||t3(n)||n3(n)||r3()}function e3(n){if(Array.isArray(n))return $p(n)}function t3(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function n3(n,e){if(n){if(typeof n=="string")return $p(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $p(n,e)}}function $p(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function r3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i3(n){var e,t=n.beat,r=n.fade,s=n.beatFade,a=n.bounce,l=n.shake,u=n.flash,d=n.spin,h=n.spinPulse,p=n.spinReverse,y=n.pulse,b=n.fixedWidth,v=n.inverse,x=n.border,_=n.listItem,k=n.flip,E=n.size,N=n.rotation,O=n.pull,B=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":a,"fa-shake":l,"fa-flash":u,"fa-spin":d,"fa-spin-reverse":p,"fa-spin-pulse":h,"fa-pulse":y,"fa-fw":b,"fa-inverse":v,"fa-border":x,"fa-li":_,"fa-flip":k===!0,"fa-flip-horizontal":k==="horizontal"||k==="both","fa-flip-vertical":k==="vertical"||k==="both"},ga(e,"fa-".concat(E),typeof E<"u"&&E!==null),ga(e,"fa-rotate-".concat(N),typeof N<"u"&&N!==null&&N!==0),ga(e,"fa-pull-".concat(O),typeof O<"u"&&O!==null),ga(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(B).map(function(D){return B[D]?D:null}).filter(function(D){return D})}function s3(n){return n=n-0,n===n}function bS(n){return s3(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var a3=["style"];function o3(n){return n.charAt(0).toUpperCase()+n.slice(1)}function l3(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),s=bS(t.slice(0,r)),a=t.slice(r+1).trim();return s.startsWith("webkit")?e[o3(s)]=a:e[s]=a,e},{})}function vS(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(d){return vS(n,d)}),s=Object.keys(e.attributes||{}).reduce(function(d,h){var p=e.attributes[h];switch(h){case"class":d.attrs.className=p,delete e.attributes.class;break;case"style":d.attrs.style=l3(p);break;default:h.indexOf("aria-")===0||h.indexOf("data-")===0?d.attrs[h.toLowerCase()]=p:d.attrs[bS(h)]=p}return d},{attrs:{}}),a=t.style,l=a===void 0?{}:a,u=ZM(t,a3);return s.attrs.style=Vn(Vn({},s.attrs.style),l),n.apply(void 0,[e.tag,Vn(Vn({},s.attrs),u)].concat(Up(r)))}var xS=!1;try{xS=!0}catch{}function c3(){if(!xS&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function A1(n){if(n&&mu(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(Ip.icon)return Ip.icon(n);if(n===null)return null;if(n&&mu(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function qh(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?ga({},n,e):{}}var N1={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},gr=be.forwardRef(function(n,e){var t=Vn(Vn({},N1),n),r=t.icon,s=t.mask,a=t.symbol,l=t.className,u=t.title,d=t.titleId,h=t.maskId,p=A1(r),y=qh("classes",[].concat(Up(i3(t)),Up((l||"").split(" ")))),b=qh("transform",typeof t.transform=="string"?Ip.transform(t.transform):t.transform),v=qh("mask",A1(s)),x=GM(p,Vn(Vn(Vn(Vn({},y),b),v),{},{symbol:a,title:u,titleId:d,maskId:h}));if(!x)return c3("Could not find icon",p),null;var _=x.abstract,k={ref:e};return Object.keys(t).forEach(function(E){N1.hasOwnProperty(E)||(k[E]=t[E])}),u3(_[0],k)});gr.displayName="FontAwesomeIcon";gr.propTypes={beat:Oe.bool,border:Oe.bool,beatFade:Oe.bool,bounce:Oe.bool,className:Oe.string,fade:Oe.bool,flash:Oe.bool,mask:Oe.oneOfType([Oe.object,Oe.array,Oe.string]),maskId:Oe.string,fixedWidth:Oe.bool,inverse:Oe.bool,flip:Oe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Oe.oneOfType([Oe.object,Oe.array,Oe.string]),listItem:Oe.bool,pull:Oe.oneOf(["right","left"]),pulse:Oe.bool,rotation:Oe.oneOf([0,90,180,270]),shake:Oe.bool,size:Oe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Oe.bool,spinPulse:Oe.bool,spinReverse:Oe.bool,symbol:Oe.oneOfType([Oe.bool,Oe.string]),title:Oe.string,titleId:Oe.string,transform:Oe.oneOfType([Oe.string,Oe.object]),swapOpacity:Oe.bool};var u3=vS.bind(null,be.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const f3={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32L32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32L32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32z"]},d3={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},h3={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},p3={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"]},m3={prefix:"fas",iconName:"thumbs-down",icon:[512,512,[128078,61576],"f165","M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2l144 0c26.5 0 48-21.5 48-48c0-18.5-10.5-34.6-25.9-42.6C497 236.6 504 223.1 504 208c0-23.4-16.8-42.9-38.9-47.1c4.4-7.3 6.9-15.8 6.9-24.9c0-21.3-13.9-39.4-33.1-45.6c.7-3.3 1.1-6.8 1.1-10.4c0-26.5-21.5-48-48-48l-97.5 0c-19 0-37.5 5.6-53.3 16.1L202.7 73.8C176 91.6 160 121.6 160 153.7l0 38.3 0 48 0 24.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 384l64 0c17.7 0 32-14.3 32-32l0-224c0-17.7-14.3-32-32-32L32 96C14.3 96 0 110.3 0 128L0 352c0 17.7 14.3 32 32 32z"]},g3={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},y3={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2l144 0c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48l-97.5 0c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3l0-38.3 0-48 0-24.9c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192l64 0c17.7 0 32 14.3 32 32l0 224c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32L0 224c0-17.7 14.3-32 32-32z"]},b3=({category:n})=>{const e=lt(),[t,r]=C.useState([]);C.useEffect(()=>{(async()=>{const l=me.from("posts").select("*").order("created_at",{ascending:!1});n!=="all"&&l.eq("category",n);const{data:u,error:d}=await l;!d&&u&&r(u)})()},[n]);const s=a=>{const l=(Date.now()-new Date(a).getTime())/1e3;return l<60?"방금 전":l<3600?`${Math.floor(l/60)}분 전`:l<86400?`${Math.floor(l/3600)}시간 전`:`${Math.floor(l/86400)}일 전`};return w.jsx("div",{className:"bg-gray-50 space-y-2",children:t.map(a=>w.jsxs("div",{className:"bg-white w-full px-4 py-3 cursor-pointer",onClick:()=>e(`/post/${a.id}`),children:[w.jsxs("div",{className:"text-sm text-gray-400 mb-1",children:[a.author," · ",s(a.created_at)]}),w.jsx("h3",{className:"font-semibold text-base text-gray-900 mb-1",children:a.title}),w.jsx("div",{className:"text-sm text-gray-700 line-clamp-2 text-left",children:a.content.replace(/<[^>]+>/g,"")}),w.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-2",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(gr,{icon:y3})," ",a.likes]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(gr,{icon:m3})," ",a.dislikes]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(gr,{icon:d3})," ",a.views]})]})})]},a.id))})},v3=()=>{const n=lt(),e=C.useRef(null),t=[{quizId:"basic",title:"기초해부학",description:"해부학의 기초를 학습해보세요",iconBg:"bg-blue-100",icon:w.jsx(zw,{size:16,className:"text-blue-500"})},{quizId:"functional",title:"기능해부학",description:"움직임 중심 해부학을 배워요",iconBg:"bg-yellow-100",icon:w.jsx(Lw,{size:16,className:"text-yellow-500"})},{quizId:"neuro",title:"신경해부학",description:"신경의 지식을 테스트해보세요",iconBg:"bg-green-100",icon:w.jsx(Sp,{size:16,className:"text-green-500"})},{quizId:"expert",title:"생활체육지도사 2급",description:"스포츠 지도사 기출 문제로 합격하기!",iconBg:"bg-green-100",icon:w.jsx(Sp,{size:16,className:"text-green-500"})}];return C.useEffect(()=>{const r=e.current;if(!r)return;let s=!1,a=0,l=0;const u=p=>{s=!0,r.classList.add("grabbing"),a=p.pageX-r.offsetLeft,l=r.scrollLeft},d=()=>{s=!1,r.classList.remove("grabbing")},h=p=>{if(!s)return;p.preventDefault();const b=(p.pageX-r.offsetLeft-a)*1.5;r.scrollLeft=l-b};return r.addEventListener("mousedown",u),r.addEventListener("mouseleave",d),r.addEventListener("mouseup",d),r.addEventListener("mousemove",h),()=>{r.removeEventListener("mousedown",u),r.removeEventListener("mouseleave",d),r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",h)}},[]),w.jsx("div",{className:"overflow-hidden px-4",children:w.jsx("div",{ref:e,className:"flex gap-4 overflow-x-auto scroll-smooth touch-pan-x scrollbar-hide cursor-grab select-none snap-x snap-mandatory pr-10",children:t.map((r,s)=>w.jsxs("button",{onClick:()=>n(`/quiz/${r.quizId}`),className:"bg-white rounded-lg p-3 h-[120px] flex-shrink-0 flex flex-col items-center justify-center shadow-sm hover:shadow-md transition-shadow cursor-pointer snap-start w-[calc(100vw/3.3)] sm:w-[200px]",children:[w.jsx("div",{className:`flex items-center justify-center ${r.iconBg} w-9 h-9 rounded-full mb-1.5`,children:r.icon}),w.jsx("p",{className:"text-[10px] text-gray-500 text-center truncate w-full",children:r.description}),w.jsx("p",{className:"text-xs font-medium text-center truncate w-full",children:r.title})]},s))})})},wS=({scrollY:n,selectedCategory:e})=>{const t=lt();return w.jsx("button",{onClick:()=>t("/write",{state:{from:"dashboard",scrollY:n,category:e}}),className:"bg-blue-500 w-14 h-14 rounded-xl text-white shadow-xl flex items-center justify-center hover:bg-blue-600 transition",children:w.jsx("i",{className:"fas fa-pen text-lg"})})},x3=()=>{const n=Jt(),[e,t]=C.useState("all"),[r,s]=C.useState("all"),[a,l]=C.useState(window.scrollY);return C.useEffect(()=>{const u=()=>l(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),C.useEffect(()=>{const u=n.state;u!=null&&u.category&&t(u.category),typeof(u==null?void 0:u.scrollY)=="number"&&requestAnimationFrame(()=>{window.scrollTo({top:u.scrollY,behavior:"instant"})})},[n.state]),w.jsxs("div",{className:"relative min-h-screen bg-[#f9fafb]",children:[w.jsxs("main",{className:"pt-28 pb-20",children:[w.jsxs("div",{className:"w-full px-2 sm:px-4 md:px-8 space-y-8",children:[w.jsx(v3,{}),w.jsx(BA,{}),w.jsx(Pw,{}),w.jsx(IA,{}),w.jsxs("section",{className:"w-full space-y-4",children:[w.jsx("div",{className:"flex justify-between items-center",children:w.jsx("h2",{className:"text-base md:text-lg font-bold text-gray-900",children:"📚 교육 및 강의 정보"})}),w.jsx(VA,{selected:r,onChange:s}),w.jsx(qA,{category:r})]})]}),w.jsx("div",{className:"w-full bg-gray-50",children:w.jsxs("section",{className:"space-y-4",children:[w.jsx(YA,{selected:e,onChange:t}),w.jsx(b3,{category:e})]})})]}),w.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50 px-4",children:w.jsx("div",{className:"w-full px-4 md:px-8 flex justify-end",children:w.jsx(wS,{scrollY:a,selectedCategory:e})})})]})};function SS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=SS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Wi(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=SS(n))&&(r&&(r+=" "),r+=e);return r}function w3(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}w3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xl=n=>typeof n=="number"&&!isNaN(n),as=n=>typeof n=="string",kr=n=>typeof n=="function",S3=n=>as(n)||xl(n),qp=n=>as(n)||kr(n)?n:null,_3=(n,e)=>n===!1||xl(n)&&n>0?n:e,Hp=n=>C.isValidElement(n)||as(n)||kr(n)||xl(n);function k3(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function T3({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:u,done:d,nodeRef:h,isIn:p,playToast:y}){let b=t?`${n}--${l}`:n,v=t?`${e}--${l}`:e,x=C.useRef(0);return C.useLayoutEffect(()=>{let _=h.current,k=b.split(" "),E=N=>{N.target===h.current&&(y(),_.removeEventListener("animationend",E),_.removeEventListener("animationcancel",E),x.current===0&&N.type!=="animationcancel"&&_.classList.remove(...k))};_.classList.add(...k),_.addEventListener("animationend",E),_.addEventListener("animationcancel",E)},[]),C.useEffect(()=>{let _=h.current,k=()=>{_.removeEventListener("animationend",k),r?k3(_,d,s):d()};p||(u?k():(x.current=1,_.className+=` ${v}`,_.addEventListener("animationend",k)))},[p]),be.createElement(be.Fragment,null,a)}}function M1(n,e){return{content:_S(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function _S(n,e,t=!1){return C.isValidElement(n)&&!as(n.type)?C.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):kr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function E3({closeToast:n,theme:e,ariaLabel:t="close"}){return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function C3({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:a,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:p}){let y=s||l&&u===0,b={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(b.transform=`scaleX(${u})`);let v=Wi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),x=kr(a)?a({rtl:d,type:r,defaultClassName:v}):Wi(v,a),_={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&t()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),be.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:x,style:b,..._}))}var O3=1,kS=()=>`${O3++}`;function A3(n,e,t){let r=1,s=0,a=[],l=[],u=e,d=new Map,h=new Set,p=N=>(h.add(N),()=>h.delete(N)),y=()=>{l=Array.from(d.values()),h.forEach(N=>N())},b=({containerId:N,toastId:O,updateId:B})=>{let D=N?N!==n:n!==1,J=d.has(O)&&B==null;return D||J},v=(N,O)=>{d.forEach(B=>{var D;(O==null||O===B.props.toastId)&&((D=B.toggle)==null||D.call(B,N))})},x=N=>{var O,B;(B=(O=N.props)==null?void 0:O.onClose)==null||B.call(O,N.removalReason),N.isActive=!1},_=N=>{if(N==null)d.forEach(x);else{let O=d.get(N);O&&x(O)}y()},k=()=>{s-=a.length,a=[]},E=N=>{var O,B;let{toastId:D,updateId:J}=N.props,G=J==null;N.staleId&&d.delete(N.staleId),N.isActive=!0,d.set(D,N),y(),t(M1(N,G?"added":"updated")),G&&((B=(O=N.props).onOpen)==null||B.call(O))};return{id:n,props:u,observe:p,toggle:v,removeToast:_,toasts:d,clearQueue:k,buildToast:(N,O)=>{if(b(O))return;let{toastId:B,updateId:D,data:J,staleId:G,delay:X}=O,q=D==null;q&&s++;let W={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(O).filter(([ve,Je])=>Je!=null)),toastId:B,updateId:D,data:J,isIn:!1,className:qp(O.className||u.toastClassName),progressClassName:qp(O.progressClassName||u.progressClassName),autoClose:O.isLoading?!1:_3(O.autoClose,u.autoClose),closeToast(ve){d.get(B).removalReason=ve,_(B)},deleteToast(){let ve=d.get(B);if(ve!=null){if(t(M1(ve,"removed")),d.delete(B),s--,s<0&&(s=0),a.length>0){E(a.shift());return}y()}}};W.closeButton=u.closeButton,O.closeButton===!1||Hp(O.closeButton)?W.closeButton=O.closeButton:O.closeButton===!0&&(W.closeButton=Hp(u.closeButton)?u.closeButton:!0);let ne={content:N,props:W,staleId:G};u.limit&&u.limit>0&&s>u.limit&&q?a.push(ne):xl(X)?setTimeout(()=>{E(ne)},X):E(ne)},setProps(N){u=N},setToggle:(N,O)=>{let B=d.get(N);B&&(B.toggle=O)},isToastActive:N=>{var O;return(O=d.get(N))==null?void 0:O.isActive},getSnapshot:()=>l}}var Lt=new Map,il=[],Vp=new Set,N3=n=>Vp.forEach(e=>e(n)),TS=()=>Lt.size>0;function M3(){il.forEach(n=>CS(n.content,n.options)),il=[]}var R3=(n,{containerId:e})=>{var t;return(t=Lt.get(e||1))==null?void 0:t.toasts.get(n)};function ES(n,e){var t;if(e)return!!((t=Lt.get(e))!=null&&t.isToastActive(n));let r=!1;return Lt.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function j3(n){if(!TS()){il=il.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||S3(n))Lt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Lt.get(n.containerId);e?e.removeToast(n.id):Lt.forEach(t=>{t.removeToast(n.id)})}}var D3=(n={})=>{Lt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function CS(n,e){Hp(n)&&(TS()||il.push({content:n,options:e}),Lt.forEach(t=>{t.buildToast(n,e)}))}function z3(n){var e;(e=Lt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function OS(n,e){Lt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function L3(n){let e=n.containerId||1;return{subscribe(t){let r=A3(e,n,N3);Lt.set(e,r);let s=r.observe(t);return M3(),()=>{s(),Lt.delete(e)}},setProps(t){var r;(r=Lt.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Lt.get(e))==null?void 0:t.getSnapshot()}}}function P3(n){return Vp.add(n),()=>{Vp.delete(n)}}function B3(n){return n&&(as(n.toastId)||xl(n.toastId))?n.toastId:kS()}function wl(n,e){return CS(n,e),e.toastId}function Uu(n,e){return{...e,type:e&&e.type||n,toastId:B3(e)}}function $u(n){return(e,t)=>wl(e,Uu(n,t))}function se(n,e){return wl(n,Uu("default",e))}se.loading=(n,e)=>wl(n,Uu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function I3(n,{pending:e,error:t,success:r},s){let a;e&&(a=as(e)?se.loading(e,s):se.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,p,y)=>{if(p==null){se.dismiss(a);return}let b={type:h,...l,...s,data:y},v=as(p)?{render:p}:p;return a?se.update(a,{...b,...v}):se(v.render,{...b,...v}),y},d=kr(n)?n():n;return d.then(h=>u("success",r,h)).catch(h=>u("error",t,h)),d}se.promise=I3;se.success=$u("success");se.info=$u("info");se.error=$u("error");se.warning=$u("warning");se.warn=se.warning;se.dark=(n,e)=>wl(n,Uu("default",{theme:"dark",...e}));function U3(n){j3(n)}se.dismiss=U3;se.clearWaitingQueue=D3;se.isActive=ES;se.update=(n,e={})=>{let t=R3(n,e);if(t){let{props:r,content:s}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:kS()};a.toastId!==n&&(a.staleId=n);let l=a.render||s;delete a.render,wl(l,a)}};se.done=n=>{se.update(n,{progress:1})};se.onChange=P3;se.play=n=>OS(!0,n);se.pause=n=>OS(!1,n);function $3(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=C.useRef(L3(n)).current;s(n);let a=(e=C.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(u){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(h=>{let{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>u(h[0],h[1]))}return{getToastToRender:l,isToastActive:ES,count:a==null?void 0:a.length}}function q3(n){let[e,t]=C.useState(!1),[r,s]=C.useState(!1),a=C.useRef(null),l=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:y}=n;z3({id:n.toastId,containerId:n.containerId,fn:t}),C.useEffect(()=>{if(n.pauseOnFocusLoss)return b(),()=>{v()}},[n.pauseOnFocusLoss]);function b(){document.hasFocus()||E(),window.addEventListener("focus",k),window.addEventListener("blur",E)}function v(){window.removeEventListener("focus",k),window.removeEventListener("blur",E)}function x(G){if(n.draggable===!0||n.draggable===G.pointerType){N();let X=a.current;l.canCloseOnClick=!0,l.canDrag=!0,X.style.transition="none",n.draggableDirection==="x"?(l.start=G.clientX,l.removalDistance=X.offsetWidth*(n.draggablePercent/100)):(l.start=G.clientY,l.removalDistance=X.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function _(G){let{top:X,bottom:q,left:W,right:ne}=a.current.getBoundingClientRect();G.nativeEvent.type!=="touchend"&&n.pauseOnHover&&G.clientX>=W&&G.clientX<=ne&&G.clientY>=X&&G.clientY<=q?E():k()}function k(){t(!0)}function E(){t(!1)}function N(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",D)}function O(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",D)}function B(G){let X=a.current;if(l.canDrag&&X){l.didMove=!0,e&&E(),n.draggableDirection==="x"?l.delta=G.clientX-l.start:l.delta=G.clientY-l.start,l.start!==G.clientX&&(l.canCloseOnClick=!1);let q=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;X.style.transform=`translate3d(${q},0)`,X.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function D(){O();let G=a.current;if(l.canDrag&&l.didMove&&G){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}G.style.transition="transform 0.2s, opacity 0.2s",G.style.removeProperty("transform"),G.style.removeProperty("opacity")}}let J={onPointerDown:x,onPointerUp:_};return u&&d&&(J.onMouseEnter=E,n.stacked||(J.onMouseLeave=k)),y&&(J.onClick=G=>{p&&p(G),l.canCloseOnClick&&h(!0)}),{playToast:k,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:J}}var H3=typeof window<"u"?C.useLayoutEffect:C.useEffect,qu=({theme:n,type:e,isLoading:t,...r})=>be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function V3(n){return be.createElement(qu,{...n},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function F3(n){return be.createElement(qu,{...n},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Y3(n){return be.createElement(qu,{...n},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function G3(n){return be.createElement(qu,{...n},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function K3(){return be.createElement("div",{className:"Toastify__spinner"})}var Fp={info:F3,warning:V3,success:Y3,error:G3,spinner:K3},J3=n=>n in Fp;function X3({theme:n,type:e,isLoading:t,icon:r}){let s=null,a={theme:n,type:e};return r===!1||(kr(r)?s=r({...a,isLoading:t}):C.isValidElement(r)?s=C.cloneElement(r,a):t?s=Fp.spinner():J3(e)&&(s=Fp[e](a))),s}var Q3=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:a}=q3(n),{closeButton:l,children:u,autoClose:d,onClick:h,type:p,hideProgressBar:y,closeToast:b,transition:v,position:x,className:_,style:k,progressClassName:E,updateId:N,role:O,progress:B,rtl:D,toastId:J,deleteToast:G,isIn:X,isLoading:q,closeOnClick:W,theme:ne,ariaLabel:ve}=n,Je=Wi("Toastify__toast",`Toastify__toast-theme--${ne}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":W}),it=kr(_)?_({rtl:D,position:x,type:p,defaultClassName:Je}):Wi(Je,_),Ve=X3(n),U=!!B||!d,Q={closeToast:b,type:p,theme:ne},le=null;return l===!1||(kr(l)?le=l(Q):C.isValidElement(l)?le=C.cloneElement(l,Q):le=E3(Q)),be.createElement(v,{isIn:X,done:G,position:x,preventExitTransition:t,nodeRef:r,playToast:a},be.createElement("div",{id:J,tabIndex:0,onClick:h,"data-in":X,className:it,...s,style:k,ref:r,...X&&{role:O,"aria-label":ve}},Ve!=null&&be.createElement("div",{className:Wi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!q})},Ve),_S(u,n,!e),le,!n.customProgressBar&&be.createElement(C3,{...N&&!U?{key:`p-${N}`}:{},rtl:D,theme:ne,delay:d,isRunning:e,isIn:X,closeToast:b,hide:y,type:p,className:E,controlledProgress:U,progress:B||0})))},W3=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Z3=T3(W3("bounce",!0)),eR={position:"top-right",transition:Z3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function tR(n){let e={...eR,...n},t=n.stacked,[r,s]=C.useState(!0),a=C.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=$3(e),{className:h,style:p,rtl:y,containerId:b,hotKeys:v}=e;function x(k){let E=Wi("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":y});return kr(h)?h({position:k,rtl:y,defaultClassName:E}):Wi(E,qp(h))}function _(){t&&(s(!0),se.play())}return H3(()=>{var k;if(t){let E=a.current.querySelectorAll('[data-in="true"]'),N=12,O=(k=e.position)==null?void 0:k.includes("top"),B=0,D=0;Array.from(E).reverse().forEach((J,G)=>{let X=J;X.classList.add("Toastify__toast--stacked"),G>0&&(X.dataset.collapsed=`${r}`),X.dataset.pos||(X.dataset.pos=O?"top":"bot");let q=B*(r?.2:1)+(r?0:N*G);X.style.setProperty("--y",`${O?q:q*-1}px`),X.style.setProperty("--g",`${N}`),X.style.setProperty("--s",`${1-(r?D:0)}`),B+=X.offsetHeight,D+=.025})}},[r,d,t]),C.useEffect(()=>{function k(E){var N;let O=a.current;v(E)&&((N=O.querySelector('[tabIndex="0"]'))==null||N.focus(),s(!1),se.pause()),E.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(s(!0),se.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[v]),be.createElement("section",{ref:a,className:"Toastify",id:b,onMouseEnter:()=>{t&&(s(!1),se.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((k,E)=>{let N=E.length?{...p}:{...p,pointerEvents:"none"};return be.createElement("div",{tabIndex:-1,className:x(k),"data-stacked":t,style:N,key:`c-${k}`},E.map(({content:O,props:B})=>be.createElement(Q3,{...B,stacked:t,collapseAll:_,isIn:u(B.toastId,B.containerId),key:`t-${B.key}`},O)))}))}const nR=()=>{const{id:n}=Ru(),e=lt(),t=Pt.useUser(),[r,s]=C.useState([]),[a,l]=C.useState(0),[u,d]=C.useState(null),[h,p]=C.useState(!1),[y,b]=C.useState(!1),[v,x]=C.useState(0),[_,k]=C.useState(20),[E,N]=C.useState([]);C.useEffect(()=>{!t&&n!=="basic"&&(se.info("이 퀴즈를 풀려면 로그인이 필요합니다.",{position:"top-center",autoClose:2e3}),setTimeout(()=>e("/dashboard"),2e3))},[t,n,e]),C.useEffect(()=>{n&&me.from("questions").select("id, question, options, correct_answer, explanation").eq("quiz_id",n).order("created_at",{ascending:!0}).then(({data:W,error:ne})=>{!ne&&W&&s(W)})},[n]),C.useEffect(()=>{k(20),p(!1),d(null)},[a]),C.useEffect(()=>{if(h)return;if(_<=0){p(!0),b(!1);return}const W=setTimeout(()=>k(ne=>ne-1),1e3);return()=>clearTimeout(W)},[_,h]);const O=r[a],B=a+1===r.length,D=W=>{if(u!==null)return;const ne=W===O.correct_answer;d(W),b(ne),p(!0),N(ve=>[...ve,{questionId:O.id,selected:W,isCorrect:ne}]),ne&&x(ve=>ve+1)},J=async W=>{var Je;if(!t||!n)return null;const ne=await me.from("quiz_results").insert([{user_id:t.id,quiz_id:n,score:v,total:r.length,answered:a+1,status:W}]).select().single();if(ne.error||!((Je=ne.data)!=null&&Je.id))return null;const ve=E.map(it=>{var Ve;return{result_id:ne.data.id,question_id:it.questionId,user_answer:((Ve=r.find(U=>U.id===it.questionId))==null?void 0:Ve.options[it.selected])||"",is_correct:it.isCorrect}});return await me.from("quiz_result_items").insert(ve),ne.data.id},G=()=>{l(W=>W+1)},X=async()=>{if(!t)return se.info("비회원은 기록이 저장되지 않습니다."),e("/dashboard");const W=await J("completed");W?e(`/quiz-result/${W}`):se.error("결과 저장에 실패했습니다.")},q=async()=>{if(!t)return se.info("비회원은 기록이 저장되지 않습니다."),e("/dashboard");const W=await J("aborted");W&&e(`/quiz-result/${W}`)};return O?w.jsxs("div",{className:"relative bg-gray-50 min-h-screen w-full max-w-screen-sm mx-auto pt-24 pb-12 px-4",children:[w.jsxs("div",{className:"fixed top-14 left-0 right-0 bg-white shadow-sm z-10 px-4",children:[w.jsxs("div",{className:"max-w-screen-sm mx-auto flex justify-between items-center py-3",children:[w.jsxs("div",{className:"text-xl font-bold",children:["문제 ",a+1," / ",r.length]}),w.jsxs("div",{className:"bg-red-100 px-3 py-1.5 rounded-full text-red-600 font-bold flex items-center",children:[w.jsx("i",{className:"fas fa-clock mr-2"}),_,"s"]})]}),w.jsx("div",{className:"w-full h-2 bg-gray-200",children:w.jsx("div",{className:"bg-indigo-500 h-2 transition-all duration-1000",style:{width:`${_/20*100}%`}})})]}),w.jsxs("div",{className:"mt-6",children:[w.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow",children:[w.jsx("p",{className:"text-indigo-600 text-sm mb-2",children:"객관식"}),w.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:O.question})]}),w.jsx("div",{className:"mt-5 space-y-3",children:O.options.map((W,ne)=>w.jsx("button",{onClick:()=>D(ne),className:`w-full text-left px-5 py-4 rounded-xl border transition shadow-sm hover:scale-105 ${u===ne?y?"bg-green-500 text-white":"bg-red-500 text-white":"bg-white"} ${h?"pointer-events-none":""}`,children:w.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+ne),". ",W]})},ne))}),h?w.jsxs("div",{className:"mt-6 space-y-4",children:[w.jsx("button",{onClick:B?X:G,className:`w-full text-center py-4 rounded-lg font-semibold shadow-sm transition ${y?"text-green-700 bg-green-100 hover:bg-green-200":"text-red-700 bg-red-100 hover:bg-red-200"}`,children:y?"정답입니다! 다음 문제":"틀렸습니다. 다음 문제"}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[w.jsx("h3",{className:"font-semibold mb-1 text-gray-800",children:"해설"}),w.jsx("p",{className:"text-sm text-gray-700",children:O.explanation})]})]}):w.jsx("div",{className:"mt-4 flex justify-center",children:w.jsx("button",{onClick:q,className:"text-sm text-red-500 underline",children:"그만 풀기"})})]})]}):w.jsx("div",{className:"pt-32 text-center text-gray-500",children:"문제를 불러오는 중입니다..."})},rR=[{id:"basic",name:"기초해부학"},{id:"functional",name:"기능해부학"},{id:"neuro",name:"신경해부학"}],iR=()=>{const{resultId:n}=Ru(),e=lt(),[t,r]=C.useState(null),[s,a]=C.useState(!1),[l,u]=C.useState("basic"),d=b=>b>=90?{grade:"S",feedback:"최상위 5%! 멋집니다 👏"}:b>=80?{grade:"A",feedback:"상위권입니다! 잘하셨어요 💪"}:b>=70?{grade:"B",feedback:"평균 이상! 계속 도전하세요 😊"}:b>=60?{grade:"C",feedback:"무난한 점수예요. 조금 더!"}:{grade:"D",feedback:"조금 아쉽네요! 다시 도전해요 🔥"};if(C.useEffect(()=>{(async()=>{if(!n)return;const{data:v,error:x}=await me.from("quiz_results").select(`
          id,
          quiz_id,
          score,
          total,
          grade,
          created_at,
          quiz_result_items (
            user_answer,
            is_correct,
            question:questions (
              question,
              options,
              correct_answer,
              explanation
            )
          )
        `).eq("id",n).maybeSingle();x?console.error("❌ 결과 불러오기 실패:",x.message):v?(r(v),u(v.quiz_id)):console.warn("⚠️ 결과 없음")})()},[n]),!t||!t.quiz_result_items)return w.jsx("div",{className:"pt-32 text-center text-gray-500",children:"결과를 불러오는 중입니다..."});const h=Math.round(t.score/t.total*100),{grade:p,feedback:y}=d(h);return w.jsx("div",{className:"pt-24 pb-32 bg-gray-50 min-h-screen",children:w.jsxs(Am,{children:[w.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"퀴즈 결과"}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow mb-6",children:[w.jsxs("div",{className:"text-center text-sm text-gray-500 mb-2",children:["제출일: ",new Date(t.created_at).toLocaleString()]}),w.jsxs("div",{className:"text-center mb-4",children:[w.jsxs("div",{className:"text-4xl font-bold text-indigo-600",children:[h,"%"]}),w.jsxs("div",{className:"text-lg font-semibold text-gray-800 mt-1",children:["등급: ",p]}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y})]}),w.jsx("div",{className:"relative h-4 bg-gray-200 rounded-full overflow-hidden",children:w.jsx("div",{className:"absolute top-0 left-0 h-full bg-indigo-500 rounded-full transition-all duration-700",style:{width:`${h}%`}})})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow",children:[w.jsx("h2",{className:"text-lg font-semibold mb-3",children:"문제별 결과"}),w.jsx("div",{className:"space-y-4",children:t.quiz_result_items.map((b,v)=>w.jsxs("div",{className:"border-b pb-3 last:border-none",children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsxs("span",{className:"font-medium text-gray-800",children:["문제 ",v+1]}),w.jsx("span",{className:`text-sm font-semibold ${b.is_correct?"text-green-600":"text-red-600"}`,children:b.is_correct?"정답":"오답"})]}),w.jsx("p",{className:"text-sm text-gray-700",children:b.question.question}),w.jsxs("p",{className:"text-sm mt-1",children:[w.jsx("strong",{className:"text-gray-500 mr-1",children:"내 답:"}),w.jsx("span",{className:b.is_correct?"text-green-600":"text-red-600",children:b.user_answer})]}),!b.is_correct&&w.jsxs("p",{className:"text-sm mt-1",children:[w.jsx("strong",{className:"text-gray-500 mr-1",children:"정답:"}),w.jsx("span",{className:"text-green-600",children:b.question.options[b.question.correct_answer]})]}),s&&b.question.explanation&&w.jsx("div",{className:"bg-gray-50 text-sm text-gray-600 mt-2 p-2 rounded",children:b.question.explanation})]},v))})]}),w.jsx("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t p-4 z-20",children:w.jsxs("div",{className:"max-w-screen-md mx-auto px-4 space-y-3",children:[w.jsx("select",{value:l,onChange:b=>u(b.target.value),className:"w-full px-4 py-3 bg-gray-100 rounded-md",children:rR.map(b=>w.jsxs("option",{value:b.id,children:[b.name," 퀴즈"]},b.id))}),w.jsx("button",{onClick:()=>e(`/quiz/${l}`),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold",children:"다시 풀기"}),w.jsx("button",{className:"w-full py-3 border border-blue-600 text-blue-600 rounded-lg font-semibold",onClick:()=>a(b=>!b),children:s?"해설 숨기기":"정답 해설 보기"}),w.jsx("div",{className:"text-center",children:w.jsx("button",{onClick:()=>e("/dashboard"),className:"text-gray-500 text-sm hover:text-blue-600",children:"대시보드로 이동"})})]})})]})})},AS=()=>{const n=Pt.useUser(),{isLoading:e}=Pt.useSessionContext(),t=lt(),r=Jt(),[s,a]=C.useState("마이페이지"),l=r.pathname==="/dashboard";C.useEffect(()=>{(async()=>{if(!(n!=null&&n.id))return;const{data:y}=await me.from("profiles").select("nickname").eq("id",n.id).single();y!=null&&y.nickname&&a(y.nickname)})()},[n]);const u=()=>{var p;r.pathname.startsWith("/post/")&&((p=r.state)==null?void 0:p.from)==="dashboard"?t("/dashboard",{state:{scrollY:r.state.scrollY,category:r.state.category,from:"post"}}):t(-1)},d=()=>{t(n?"/mypage":"/login")},h=()=>r.pathname.startsWith("/mypage")?"마이페이지":r.pathname.startsWith("/quiz")?"퀴즈":r.pathname.startsWith("/post/")?"게시글":r.pathname.startsWith("/write")?"글쓰기":r.pathname.startsWith("/education/write")?"강의 등록":r.pathname.startsWith("/quiz-result")?"퀴즈 결과":"대시보드";return w.jsx("header",{className:"fixed top-0 left-0 w-full bg-white z-20 border-b border-gray-100",children:w.jsx(Am,{children:w.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[w.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:l?void 0:u,children:[!l&&w.jsx("i",{className:"fas fa-chevron-left text-gray-700 text-base"}),w.jsx("span",{className:"text-base font-semibold text-gray-800",children:h()})]}),w.jsx("div",{className:"flex items-center space-x-4 text-gray-500 text-sm",children:w.jsx("button",{onClick:d,className:"text-sm text-gray-700 font-medium hover:text-blue-600 transition",children:!e&&n?s:"로그인"})})]})})})},NS=({children:n,paddingTop:e="pt-20"})=>w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx(AS,{}),w.jsx("main",{className:`${e} pb-20`,children:w.jsx("div",{className:"bg-gray-100 sm:bg-transparent",children:w.jsx("div",{className:"w-full px-4 sm:px-4 md:px-8 space-y-6 sm:space-y-8",children:n})})})]}),sR=()=>{const n=lt(),e=Pt.useUser(),[t,r]=C.useState(null),[s,a]=C.useState([]),[l,u]=C.useState([]),[d,h]=C.useState(!1),[p,y]=C.useState("");C.useEffect(()=>{e||(se.info("로그인이 필요합니다.",{position:"top-center",autoClose:2e3}),n("/dashboard",{replace:!0}))},[e,n]),C.useEffect(()=>{e&&(me.from("profiles").select("name, nickname, phone, bio").eq("id",e.id).single().then(({data:_,error:k})=>{!k&&_&&r(_)}),me.from("quiz_results").select("id, quiz_id, score, total, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).then(({data:_})=>a(_||[])),me.from("posts").select("id, title, created_at").eq("user_id",e.id).order("created_at",{ascending:!1}).then(({data:_})=>u(_||[])))},[e]);const b=async()=>{await me.auth.signOut(),n("/dashboard",{replace:!0})},v=async()=>{const{error:_}=await me.from("delete_requests").insert([{user_id:e==null?void 0:e.id,reason:p||null}]);if(_)return se.error("탈퇴 요청 중 문제가 발생했습니다.");se.success("탈퇴 요청이 접수되었습니다. 7일 이내 완전 삭제됩니다.",{position:"top-center",autoClose:4e3}),await me.auth.signOut(),n("/dashboard",{replace:!0})},x=()=>{window.confirm("정말 탈퇴하시겠습니까?")&&h(!0)};return w.jsx(NS,{children:w.jsxs("div",{className:"mx-auto w-full px-4 max-w-screen-md",children:[w.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mt-3",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center",children:w.jsx("i",{className:"fas fa-user-circle text-4xl text-gray-400"})}),w.jsxs("div",{className:"ml-4 flex-1",children:[w.jsx("h2",{className:"font-medium text-lg",children:(t==null?void 0:t.nickname)||"닉네임"}),w.jsx("p",{className:"text-gray-500 text-xs",children:(t==null?void 0:t.name)||"이름"}),w.jsx("p",{className:"text-gray-500 text-sm mt-1",children:(t==null?void 0:t.bio)||"오늘도 행복한 하루 되세요! 😊"}),w.jsx("button",{onClick:()=>n("/edit-profile"),className:"mt-2 text-xs border border-gray-300 rounded px-2 py-1 text-gray-600 hover:bg-gray-50",children:"프로필 편집"})]})]})}),w.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mt-4",children:[w.jsx("h3",{className:"font-medium mb-3",children:"나의 활동"}),w.jsxs("div",{className:"divide-y",children:[w.jsxs("div",{className:"py-3 flex justify-between items-center cursor-pointer",onClick:()=>s.length>0&&n(`/quiz-result/${s[0].id}`),children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 flex items-center justify-center mr-3",children:w.jsx("i",{className:"fas fa-code text-blue-500"})}),w.jsx("span",{children:"최근 푼 문제"}),w.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[s.length,"개"]})]}),w.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),w.jsxs("div",{className:"py-3 flex justify-between items-center cursor-pointer",onClick:()=>n("/myposts"),children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-green-50 flex items-center justify-center mr-3",children:w.jsx("i",{className:"fas fa-pen text-green-500"})}),w.jsx("span",{children:"최근 쓴 게시물"}),w.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[l.length,"개"]})]}),w.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})]})]}),w.jsx("div",{className:"mt-6 text-center text-sm text-gray-400",children:w.jsx("button",{onClick:x,className:"underline hover:text-red-500 transition",children:"회원 탈퇴하기"})}),d&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[w.jsx("h2",{className:"text-lg font-semibold mb-3",children:"탈퇴 사유를 입력해주세요"}),w.jsx("textarea",{className:"w-full border border-gray-300 p-2 rounded mb-4",rows:4,value:p,onChange:_=>y(_.target.value),placeholder:"불편한 점이나 아쉬웠던 점이 있다면 남겨주세요"}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{onClick:()=>h(!1),className:"bg-gray-200 px-4 py-2 rounded",children:"취소"}),w.jsx("button",{onClick:()=>{h(!1),v()},className:"bg-red-500 text-white px-4 py-2 rounded",children:"탈퇴하기"})]})]})}),w.jsx("button",{onClick:()=>n("/dashboard"),className:"w-full mt-3 py-3 bg-white border border-gray-300 text-gray-700 rounded font-medium hover:bg-gray-50",children:"홈으로 돌아가기"}),w.jsx("button",{onClick:b,className:"w-full mt-3 py-3 bg-gray-200 text-gray-700 rounded font-medium hover:bg-gray-300",children:"로그아웃"})]})})};let aR={data:""},oR=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||aR,lR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cR=/\/\*[^]*?\*\/|  +/g,R1=/\n+/g,ai=(n,e)=>{let t="",r="",s="";for(let a in n){let l=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":r+=a[1]=="f"?ai(l,a):a+"{"+ai(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=ai(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ai.p?ai.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+r},dr={},MS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+MS(n[t]);return e}return n},uR=(n,e,t,r,s)=>{let a=MS(n),l=dr[a]||(dr[a]=(d=>{let h=0,p=11;for(;h<d.length;)p=101*p+d.charCodeAt(h++)>>>0;return"go"+p})(a));if(!dr[l]){let d=a!==n?n:(h=>{let p,y,b=[{}];for(;p=lR.exec(h.replace(cR,""));)p[4]?b.shift():p[3]?(y=p[3].replace(R1," ").trim(),b.unshift(b[0][y]=b[0][y]||{})):b[0][p[1]]=p[2].replace(R1," ").trim();return b[0]})(n);dr[l]=ai(s?{["@keyframes "+l]:d}:d,t?"":"."+l)}let u=t&&dr.g?dr.g:null;return t&&(dr.g=dr[l]),((d,h,p,y)=>{y?h.data=h.data.replace(y,d):h.data.indexOf(d)===-1&&(h.data=p?d+h.data:h.data+d)})(dr[l],e,r,u),l},fR=(n,e,t)=>n.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let u=l(t),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":ai(u,""):u===!1?"":u}return r+s+(l??"")},"");function Hu(n){let e=this||{},t=n.call?n(e.p):n;return uR(t.unshift?t.raw?fR(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,oR(e.target),e.g,e.o,e.k)}let RS,Yp,Gp;Hu.bind({g:1});let Tr=Hu.bind({k:1});function dR(n,e,t,r){ai.p=e,RS=n,Yp=t,Gp=r}function wi(n,e){let t=this||{};return function(){let r=arguments;function s(a,l){let u=Object.assign({},a),d=u.className||s.className;t.p=Object.assign({theme:Yp&&Yp()},u),t.o=/ *go\d+/.test(d),u.className=Hu.apply(t,r)+(d?" "+d:"");let h=n;return n[0]&&(h=u.as||n,delete u.as),Gp&&h[0]&&Gp(u),RS(h,u)}return s}}var hR=n=>typeof n=="function",Kp=(n,e)=>hR(n)?n(e):n,pR=(()=>{let n=0;return()=>(++n).toString()})(),mR=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),gR=20,jS=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,gR)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return jS(n,{type:n.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},yR=[],Hh={toasts:[],pausedAt:void 0},qm=n=>{Hh=jS(Hh,n),yR.forEach(e=>{e(Hh)})},bR=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||pR()}),Sl=n=>(e,t)=>{let r=bR(e,n,t);return qm({type:2,toast:r}),r.id},Gt=(n,e)=>Sl("blank")(n,e);Gt.error=Sl("error");Gt.success=Sl("success");Gt.loading=Sl("loading");Gt.custom=Sl("custom");Gt.dismiss=n=>{qm({type:3,toastId:n})};Gt.remove=n=>qm({type:4,toastId:n});Gt.promise=(n,e,t)=>{let r=Gt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let a=e.success?Kp(e.success,s):void 0;return a?Gt.success(a,{id:r,...t,...t==null?void 0:t.success}):Gt.dismiss(r),s}).catch(s=>{let a=e.error?Kp(e.error,s):void 0;a?Gt.error(a,{id:r,...t,...t==null?void 0:t.error}):Gt.dismiss(r)}),n};var vR=Tr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xR=Tr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wR=Tr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,SR=wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_R=Tr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kR=wi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${_R} 1s linear infinite;
`,TR=Tr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ER=Tr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CR=wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ER} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OR=wi("div")`
  position: absolute;
`,AR=wi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,NR=Tr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MR=wi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${NR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,RR=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?C.createElement(MR,null,e):e:t==="blank"?null:C.createElement(AR,null,C.createElement(kR,{...r}),t!=="loading"&&C.createElement(OR,null,t==="error"?C.createElement(SR,{...r}):C.createElement(CR,{...r})))},jR=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DR=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,zR="0%{opacity:0;} 100%{opacity:1;}",LR="0%{opacity:1;} 100%{opacity:0;}",PR=wi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BR=wi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,IR=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=mR()?[zR,LR]:[jR(t),DR(t)];return{animation:e?`${Tr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Tr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};C.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?IR(n.position||e||"top-center",n.visible):{opacity:0},a=C.createElement(RR,{toast:n}),l=C.createElement(BR,{...n.ariaProps},Kp(n.message,n));return C.createElement(PR,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:a,message:l}):C.createElement(C.Fragment,null,a,l))});dR(C.createElement);Hu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const UR=()=>{const n=Pt.useSession(),e=lt(),[t,r]=C.useState(""),[s,a]=C.useState(""),[l,u]=C.useState(""),[d,h]=C.useState("");C.useEffect(()=>{(async()=>{if(!(n!=null&&n.user))return;const{data:b,error:v}=await me.from("profiles").select("name, nickname, phone, bio").eq("id",n.user.id).single();b&&(r(b.name||""),a(b.nickname||""),u(b.phone||""),h(b.bio||""))})()},[n]);const p=async()=>{if(!(n!=null&&n.user))return;const{error:y}=await me.from("profiles").update({name:t,nickname:s,phone:l,bio:d}).eq("id",n.user.id);y?Gt.error("❌ 저장 실패: "+y.message):(Gt.success("✅ 프로필이 저장되었습니다"),e("/mypage"))};return w.jsx(NS,{children:w.jsx("div",{className:"max-w-screen-md mx-auto px-4",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[w.jsx("h1",{className:"text-xl font-bold mb-4",children:"프로필 수정"}),w.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"* 본인 외에는 이름 및 휴대폰 번호를 조회할 수 없으며, 오직 닉네임과 소개글만 확인할 수 있습니다."}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"이름"}),w.jsx("input",{type:"text",value:t,onChange:y=>r(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"닉네임"}),w.jsx("input",{type:"text",value:s,onChange:y=>a(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"휴대폰 번호"}),w.jsx("input",{type:"text",value:l,onChange:y=>u(y.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"소개글"}),w.jsx("textarea",{value:d,onChange:y=>h(y.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-sm"})]})]}),w.jsx("button",{onClick:p,className:"w-full mt-6 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition",children:"저장하기"})]})})})},j1=n=>{var t,r;const e=((r=(t=n==null?void 0:n.message)==null?void 0:t.toLowerCase)==null?void 0:r.call(t))||"";return e.includes("email not confirmed")?"이메일 인증을 완료해주세요.":e.includes("invalid login credentials")?"이메일 또는 비밀번호가 올바르지 않습니다.":e.includes("user already registered")?"이미 가입된 이메일입니다.":e.includes("email address is invalid")?"유효한 이메일 주소를 입력해주세요.":e.includes("valid password")?"유효한 비밀번호를 입력해주세요.":e.includes("valid email")?"유효한 이메일을 입력해주세요.":e.includes("email link is invalid")?"이메일 인증 링크가 잘못되었거나 만료되었습니다.":e.includes("cannot find user")?"사용자를 찾을 수 없습니다.":"알 수 없는 오류가 발생했습니다."},$R=()=>{var _,k;const n=lt(),e=Jt(),t=((k=(_=e.state)==null?void 0:_.from)==null?void 0:k.pathname)||"/dashboard",[r,s]=C.useState(""),[a,l]=C.useState(""),[u,d]=C.useState(!1),[h,p]=C.useState(""),[y,b]=C.useState(!1);C.useEffect(()=>{const E=new URLSearchParams(e.search);E.get("verified")==="true"&&(se.success("✅ 이메일 인증이 완료되었습니다."),E.delete("verified"),n(e.pathname,{replace:!0}))},[e,n]);const v=async E=>{E.preventDefault();const{data:N,error:O}=await me.auth.signInWithPassword({email:r,password:a});if(O){se.error(j1(O));return}if(!N.user.email_confirmed_at){se.warning("❗ 이메일 인증이 완료되지 않았습니다. 이메일을 확인해주세요."),await me.auth.signOut();return}se.success("로그인 성공!"),n(t,{replace:!0})},x=async()=>{if(!h){se.error("이메일을 입력해주세요.");return}const{data:E,error:N}=await me.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});N?se.error(j1(N)):(b(!0),se.success("재설정 링크를 이메일로 보냈습니다."))};return w.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4",children:[w.jsxs("div",{className:"w-full max-w-sm p-6 bg-white rounded-2xl shadow-md",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-sm text-gray-400",children:"유리한 클래스"}),w.jsx("h1",{className:"text-2xl font-extrabold text-indigo-600",children:"메타 인지 클럽"})]}),w.jsxs("form",{onSubmit:v,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"이메일"}),w.jsx("input",{type:"email",required:!0,value:r,onChange:E=>s(E.target.value),className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"이메일 입력"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"비밀번호"}),w.jsx("input",{type:"password",required:!0,value:a,onChange:E=>l(E.target.value),className:"mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"비밀번호 입력"})]}),w.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition",children:"로그인"})]}),w.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-4",children:[w.jsx("button",{onClick:()=>{d(!0),p(""),b(!1)},children:"비밀번호 재설정"}),w.jsx("button",{onClick:()=>n("/signup"),children:"회원가입"})]})]}),u&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"비밀번호 재설정"}),w.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),y?w.jsxs("div",{className:"text-center",children:[w.jsxs("p",{className:"mb-4",children:[h,"로 링크를 보냈습니다."]}),w.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600",children:"확인"})]}):w.jsxs(w.Fragment,{children:[w.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"가입하신 이메일 주소를 입력하면 재설정 링크를 보내드립니다."}),w.jsx("input",{type:"email",value:h,onChange:E=>p(E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4",placeholder:"이메일을 입력하세요"}),w.jsx("button",{onClick:x,className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"링크 보내기"})]})]})})]})},qR=({children:n})=>w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-xl",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("div",{className:"text-indigo-600 text-3xl font-extrabold",children:"메타 인지 클럽"}),w.jsx("div",{className:"text-gray-500 text-sm",children:"유리한 클래스"})]}),n]})}),ca=({label:n,field:e,value:t,type:r="text",error:s,onChange:a,focusedField:l,setFocusedField:u})=>w.jsxs("div",{className:"flex flex-col space-y-1",children:[w.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[n," ",w.jsx("span",{className:"text-red-500",children:"*"})]}),w.jsx("div",{className:`rounded-lg border ${l===e?"border-blue-500 ring-1 ring-blue-500":s&&t?"border-red-500":"border-gray-300"}`,children:w.jsx("input",{type:r,value:t,onChange:d=>a(e,d.target.value),onFocus:()=>u(e),onBlur:()=>u(null),placeholder:`${n} 입력`,className:"w-full px-4 py-3 text-sm rounded-lg border-none focus:outline-none"})}),s&&t&&w.jsx("p",{className:"text-xs text-red-500",children:s})]}),HR=()=>{const n=lt(),[e,t]=C.useState(""),[r,s]=C.useState(!1),[a,l]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState(""),[y,b]=C.useState(""),[v,x]=C.useState(""),[_,k]=C.useState(!1),[E,N]=C.useState(!1),[O,B]=C.useState(null),[D,J]=C.useState({}),[G,X]=C.useState(null),[q,W]=C.useState(!1),ne=async pe=>{s(!0);const{data:M}=await me.from("profiles").select("id").eq("email",pe).single();return s(!1),!!M};C.useEffect(()=>{const pe=setTimeout(async()=>{if(!e||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return;const M=await ne(e);J(F=>({...F,email:M?"이미 등록된 이메일입니다":""}))},500);return()=>clearTimeout(pe)},[e]);const ve=pe=>pe.length>=8?"":"비밀번호는 8자 이상이어야 합니다",Je=pe=>pe===a?"":"비밀번호가 일치하지 않습니다",it=pe=>pe.trim()?"":"이름을 입력해주세요",Ve=pe=>pe.trim()?"":"닉네임을 입력해주세요",U=pe=>/^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/.test(pe)?"":"유효한 휴대폰 번호를 입력해주세요",Q=(pe,M)=>{switch(pe){case"email":t(M);break;case"password":l(M),J({...D,password:ve(M)});break;case"confirmPassword":d(M),J({...D,confirmPassword:Je(M)});break;case"name":p(M),J({...D,name:it(M)});break;case"nickname":b(M),J({...D,nickname:Ve(M)});break;case"phone":{const F=M.replace(/[^0-9]/g,"").replace(/^([0-9]{0,3})([0-9]{0,4})([0-9]{0,4})$/,(te,Z,ce,Ne)=>[Z,ce,Ne].filter(Boolean).join("-")).substring(0,13);x(F),J({...D,phone:U(F)});break}}};C.useEffect(()=>{const pe=!!(e&&!D.email&&a&&!D.password&&u&&!D.confirmPassword&&h&&!D.name&&y&&!D.nickname&&v&&!D.phone&&_&&!r);W(pe)},[e,a,u,h,y,v,_,D,r]);const le=async pe=>{if(pe.preventDefault(),!q)return;const{data:M,error:F}=await me.auth.signUp({email:e,password:a,options:{emailRedirectTo:`${window.location.origin}/login?verified=true`,data:{nickname:y,name:h,phone:v,marketing:E,agreement:_}}});if(F){se.error(F.message.includes("User already registered")?"이미 등록된 이메일입니다":"회원가입 실패: "+F.message);return}se.success("회원가입 완료! 이메일을 확인해주세요."),n("/login")};return w.jsxs(qR,{children:[w.jsxs("form",{onSubmit:le,className:"space-y-5 w-full",children:[w.jsx(ca,{label:"이메일",field:"email",value:e,error:D.email,onChange:Q,focusedField:G,setFocusedField:X}),w.jsx(ca,{label:"비밀번호",field:"password",type:"password",value:a,error:D.password,onChange:Q,focusedField:G,setFocusedField:X}),w.jsx(ca,{label:"비밀번호 확인",field:"confirmPassword",type:"password",value:u,error:D.confirmPassword,onChange:Q,focusedField:G,setFocusedField:X}),w.jsx(ca,{label:"이름",field:"name",value:h,error:D.name,onChange:Q,focusedField:G,setFocusedField:X}),w.jsx(ca,{label:"닉네임",field:"nickname",value:y,error:D.nickname,onChange:Q,focusedField:G,setFocusedField:X}),w.jsx(ca,{label:"휴대폰 번호",field:"phone",value:v,error:D.phone,onChange:Q,focusedField:G,setFocusedField:X}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"checkbox",checked:_,onChange:()=>k(!_)}),w.jsxs("span",{className:"text-sm",children:["개인정보 수집 및 이용 동의 ",w.jsx("span",{className:"text-red-500",children:"*"}),w.jsx("button",{type:"button",onClick:()=>B("privacy"),className:"ml-1 text-xs underline text-blue-600",children:"보기"})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"checkbox",checked:E,onChange:()=>N(!E)}),w.jsxs("span",{className:"text-sm",children:["마케팅 정보 수신 동의",w.jsx("button",{type:"button",onClick:()=>B("marketing"),className:"ml-1 text-xs underline text-blue-600",children:"보기"})]})]}),w.jsx("button",{type:"submit",disabled:!q,className:`mt-4 w-full py-3.5 text-white font-medium rounded-lg transition-colors ${q?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:"가입하기"})]}),O&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:w.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md shadow-lg",children:[w.jsx("h2",{className:"text-lg font-semibold mb-2",children:O==="privacy"?"개인정보 수집 및 이용 동의":"마케팅 정보 수신 동의"}),w.jsx("div",{className:"text-sm text-gray-700 space-y-2 max-h-64 overflow-y-auto",children:O==="privacy"?w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"1. 수집 항목: 이메일, 비밀번호, 이름, 닉네임, 휴대폰 번호"}),w.jsx("p",{children:"2. 수집 목적: 회원 관리, 서비스 제공"}),w.jsx("p",{children:"3. 보유 기간: 회원 탈퇴 시까지"}),w.jsx("p",{children:"4. 동의를 거부할 권리가 있으며, 거부 시 회원가입이 제한됩니다."})]}):w.jsxs(w.Fragment,{children:[w.jsx("p",{children:"1. 수집 항목: 이메일, 휴대폰 번호"}),w.jsx("p",{children:"2. 수집 목적: 이벤트, 광고성 정보 안내"}),w.jsx("p",{children:"3. 수신 방법: 이메일, 문자 등"}),w.jsx("p",{children:"4. 동의를 거부해도 서비스 이용에 제한은 없습니다."})]})}),w.jsx("div",{className:"text-right mt-4",children:w.jsx("button",{onClick:()=>B(null),className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm",children:"닫기"})})]})})]})};function kt(n){this.content=n}kt.prototype={constructor:kt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),a=r.content.slice();return s==-1?a.push(t||n,e):(a[s+1]=e,t&&(a[s]=t)),new kt(a)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new kt(t)},addToStart:function(n,e){return new kt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new kt(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),a=r.find(n);return s.splice(a==-1?s.length:a,0,e,t),new kt(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=kt.from(n),n.size?new kt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=kt.from(n),n.size?new kt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=kt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};kt.from=function(n){if(n instanceof kt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new kt(e)};function DS(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),a=e.child(r);if(s==a){t+=s.nodeSize;continue}if(!s.sameMarkup(a))return t;if(s.isText&&s.text!=a.text){for(let l=0;s.text[l]==a.text[l];l++)t++;return t}if(s.content.size||a.content.size){let l=DS(s.content,a.content,t+1);if(l!=null)return l}t+=s.nodeSize}}function zS(n,e,t,r){for(let s=n.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:t,b:r};let l=n.child(--s),u=e.child(--a),d=l.nodeSize;if(l==u){t-=d,r-=d;continue}if(!l.sameMarkup(u))return{a:t,b:r};if(l.isText&&l.text!=u.text){let h=0,p=Math.min(l.text.length,u.text.length);for(;h<p&&l.text[l.text.length-h-1]==u.text[u.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(l.content.size||u.content.size){let h=zS(l.content,u.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class Y{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,a){for(let l=0,u=0;u<t;l++){let d=this.content[l],h=u+d.nodeSize;if(h>e&&r(d,s+u,a||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,t-p),r,s+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let a="",l=!0;return this.nodesBetween(e,t,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,t-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(l?l=!1:a+=r),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new Y(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let a=0,l=0;l<t;a++){let u=this.content[a],d=l+u.nodeSize;d>e&&((l<e||d>t)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,t-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,t-l-1))),r.push(u),s+=u.nodeSize),l=d}return new Y(r,s)}cutByIndex(e,t){return e==t?Y.empty:e==0&&t==this.content.length?this:new Y(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),a=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new Y(s,a)}addToStart(e){return new Y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return DS(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return zS(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Jc(0,e);if(e==this.size)return Jc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let a=this.child(r),l=s+a.nodeSize;if(l>=e)return l==e||t>0?Jc(r+1,l):Jc(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Y.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Y.empty;let t,r=0;for(let s=0;s<e.length;s++){let a=e[s];r+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(t||(t=e.slice(0,s)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new Y(t||e,r)}static from(e){if(!e)return Y.empty;if(e instanceof Y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Y.empty=new Y([],0);const Vh={index:0,offset:0};function Jc(n,e){return Vh.index=n,Vh.offset=e,Vh}function gu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!gu(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!gu(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ue=class Jp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(a)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Jp.none;if(e instanceof Jp)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Ue.none=[];class yu extends Error{}class ee{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=PS(this.content,e+this.openStart,t);return r&&new ee(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ee(LS(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ee.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(Y.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)s++;return new ee(e,r,s)}}ee.empty=new ee(Y.empty,0,0);function LS(n,e,t){let{index:r,offset:s}=n.findIndex(e),a=n.maybeChild(r),{index:l,offset:u}=n.findIndex(t);if(s==e||a.isText){if(u!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,a.copy(LS(a.content,e-s-1,t-s-1)))}function PS(n,e,t,r){let{index:s,offset:a}=n.findIndex(e),l=n.maybeChild(s);if(a==e||l.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=PS(l.content,e-a-1,t);return u&&n.replaceChild(s,l.copy(u))}function VR(n,e,t){if(t.openStart>n.depth)throw new yu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new yu("Inconsistent open depths");return BS(n,e,t,0)}function BS(n,e,t,r){let s=n.index(r),a=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let l=BS(n,e,t,r+1);return a.copy(a.content.replaceChild(s,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,u=l.content;return es(l,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=FR(t,n);return es(a,US(n,l,u,e,r))}else return es(a,bu(n,e,r))}function IS(n,e){if(!e.type.compatibleContent(n.type))throw new yu("Cannot join "+e.type.name+" onto "+n.type.name)}function Xp(n,e,t){let r=n.node(t);return IS(r,e.node(t)),r}function Zi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Qo(n,e,t,r){let s=(e||n).node(t),a=0,l=e?e.index(t):s.childCount;n&&(a=n.index(t),n.depth>t?a++:n.textOffset&&(Zi(n.nodeAfter,r),a++));for(let u=a;u<l;u++)Zi(s.child(u),r);e&&e.depth==t&&e.textOffset&&Zi(e.nodeBefore,r)}function es(n,e){return n.type.checkContent(e),n.copy(e)}function US(n,e,t,r,s){let a=n.depth>s&&Xp(n,e,s+1),l=r.depth>s&&Xp(t,r,s+1),u=[];return Qo(null,n,s,u),a&&l&&e.index(s)==t.index(s)?(IS(a,l),Zi(es(a,US(n,e,t,r,s+1)),u)):(a&&Zi(es(a,bu(n,e,s+1)),u),Qo(e,t,s,u),l&&Zi(es(l,bu(t,r,s+1)),u)),Qo(r,null,s,u),new Y(u)}function bu(n,e,t){let r=[];if(Qo(null,n,t,r),n.depth>t){let s=Xp(n,e,t+1);Zi(es(s,bu(n,e,t+1)),r)}return Qo(e,null,t,r),new Y(r)}function FR(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let a=t-1;a>=0;a--)s=e.node(a).copy(Y.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class sl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)s+=r.child(a).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ue.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let u=r;r=s,s=u}let a=r.marks;for(var l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!s||!a[l].isInSet(s.marks))&&(a=a[l--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!s||!r[a].isInSet(s.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new vu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,a=t;for(let l=e;;){let{index:u,offset:d}=l.content.findIndex(a),h=a-d;if(r.push(l,u,s+d),!h||(l=l.child(u),l.isText))break;a=h-1,s+=d+1}return new sl(t,r,a)}static resolveCached(e,t){let r=D1.get(e);if(r)for(let a=0;a<r.elts.length;a++){let l=r.elts[a];if(l.pos==t)return l}else D1.set(e,r=new YR);let s=r.elts[r.i]=sl.resolve(e,t);return r.i=(r.i+1)%GR,s}}class YR{constructor(){this.elts=[],this.i=0}}const GR=12,D1=new WeakMap;class vu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const KR=Object.create(null);let fi=class Qp{constructor(e,t,r,s=Ue.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||Y.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&gu(this.attrs,t||e.defaultAttrs||KR)&&Ue.sameSet(this.marks,r||Ue.none)}copy(e=null){return e==this.content?this:new Qp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Qp(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ee.empty;let s=this.resolve(e),a=this.resolve(t),l=r?0:s.sharedDepth(t),u=s.start(l),h=s.node(l).content.cut(s.pos-u,a.pos-u);return new ee(h,s.depth-l,a.depth-l)}replace(e,t,r){return VR(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return sl.resolveCached(this,e)}resolveNoCache(e){return sl.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,a=>(r.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),$S(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Y.empty,s=0,a=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,s,a),u=l&&l.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let d=s;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(r),l=a&&a.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ue.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ue.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=Y.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,s,r);return a.type.checkAttrs(a.attrs),a}};fi.prototype.text=void 0;class xu extends fi{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$S(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new xu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new xu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function $S(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class ls{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new JR(e,t);if(r.next==null)return ls.empty;let s=qS(r);r.next&&r.err("Unexpected trailing text");let a=n4(t4(s));return r4(a,r),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let a=t;s&&a<r;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function a(l,u){let d=l.matchFragment(e,r);if(d&&(!t||d.validEnd))return Y.from(u.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:y}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=a(y,u.concat(p));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),a=s.match;if(a.matchType(e)){let l=[];for(let u=s;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<a.next.length;l++){let{type:u,next:d}=a.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let a=s+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)a+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return a}).join(`
`)}}ls.empty=new ls(!0);class JR{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function qS(n){let e=[];do e.push(XR(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function XR(n){let e=[];do e.push(QR(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function QR(n){let e=e4(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=WR(n,e);else break;return e}function z1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function WR(n,e){let t=z1(n),r=t;return n.eat(",")&&(n.next!="}"?r=z1(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function ZR(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let a in t){let l=t[a];l.isInGroup(e)&&s.push(l)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function e4(n){if(n.eat("(")){let e=qS(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=ZR(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function t4(n){let e=[[]];return s(a(n,0),t()),e;function t(){return e.push([])-1}function r(l,u,d){let h={term:d,to:u};return e[l].push(h),h}function s(l,u){l.forEach(d=>d.to=u)}function a(l,u){if(l.type=="choice")return l.exprs.reduce((d,h)=>d.concat(a(h,u)),[]);if(l.type=="seq")for(let d=0;;d++){let h=a(l.exprs[d],u);if(d==l.exprs.length-1)return h;s(h,u=t())}else if(l.type=="star"){let d=t();return r(u,d),s(a(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=t();return s(a(l.expr,u),d),s(a(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(u)].concat(a(l.expr,u));if(l.type=="range"){let d=u;for(let h=0;h<l.min;h++){let p=t();s(a(l.expr,d),p),d=p}if(l.max==-1)s(a(l.expr,d),d);else for(let h=l.min;h<l.max;h++){let p=t();r(d,p),s(a(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function HS(n,e){return e-n}function L1(n,e){let t=[];return r(e),t.sort(HS);function r(s){let a=n[s];if(a.length==1&&!a[0].term)return r(a[0].to);t.push(s);for(let l=0;l<a.length;l++){let{term:u,to:d}=a[l];!u&&t.indexOf(d)==-1&&r(d)}}}function n4(n){let e=Object.create(null);return t(L1(n,0));function t(r){let s=[];r.forEach(l=>{n[l].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let p=0;p<s.length;p++)s[p][0]==u&&(h=s[p][1]);L1(n,d).forEach(p=>{h||s.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let a=e[r.join(",")]=new ls(r.indexOf(n.length-1)>-1);for(let l=0;l<s.length;l++){let u=s[l][1].sort(HS);a.next.push({type:s[l][0],next:e[u.join(",")]||t(u)})}return a}}function r4(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],a=!s.validEnd,l=[];for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];l.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(h)==-1&&r.push(h)}a&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function VS(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function FS(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let a=n[r];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function YS(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let a=n[s];a.validate&&a.validate(e[s])}}function GS(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new s4(n,r,e[r]);return t}let P1=class KS{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=GS(e,r.attrs),this.defaultAttrs=VS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ls.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:FS(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new fi(this,this.computeAttrs(e),Y.from(t),Ue.setFrom(r))}createChecked(e=null,t,r){return t=Y.from(t),this.checkContent(t),new fi(this,this.computeAttrs(e),t,Ue.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Y.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let s=this.contentMatch.matchFragment(t),a=s&&s.fillBefore(Y.empty,!0);return a?new fi(this,e,t.append(a),Ue.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){YS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ue.none:e}static compile(e,t){let r=Object.create(null);e.forEach((a,l)=>r[a]=new KS(a,t,l));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function i4(n,e,t){let r=t.split("|");return s=>{let a=s===null?"null":typeof s;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${a}`)}}class s4{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?i4(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Vu{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=GS(e,s.attrs),this.excluded=null;let a=VS(this.attrs);this.instance=a?new Ue(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Ue(this,FS(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((a,l)=>r[a]=new Vu(a,s++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){YS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class JS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=kt.from(e.nodes),t.marks=kt.from(e.marks||{}),this.nodes=P1.compile(this.spec.nodes,this),this.marks=Vu.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],l=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=r[l]||(r[l]=ls.parse(l,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?B1(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],l=a.spec.excludes;a.excluded=l==null?[a]:l==""?[]:B1(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof P1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new xu(r,r.defaultAttrs,e,Ue.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return fi.fromJSON(this,e)}markFromJSON(e){return Ue.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function B1(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],a=n.marks[s],l=a;if(a)t.push(a);else for(let u in n.marks){let d=n.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function a4(n){return n.tag!=null}function o4(n){return n.style!=null}class di{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(a4(s))this.tags.push(s);else if(o4(s)){let a=/[^=]*/.exec(s.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let r=new U1(this,t,!1);return r.addAll(e,Ue.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new U1(this,t,!0);return r.addAll(e,Ue.none,t.from,t.to),ee.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(u4(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}matchStyle(e,t,r,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let l=this.styles[a],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(l.getAttrs){let d=l.getAttrs(t);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let t=[];function r(s){let a=s.priority==null?50:s.priority,l=0;for(;l<t.length;l++){let u=t[l];if((u.priority==null?50:u.priority)<a)break}t.splice(l,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(l=>{r(l=$1(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(l=>{r(l=$1(l)),l.node||l.ignore||l.mark||(l.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new di(e,di.schemaRules(e)))}}const XS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},l4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},QS={ol:!0,ul:!0},al=1,Wp=2,au=4;function I1(n,e,t){return e!=null?(e?al:0)|(e==="full"?Wp:0):n&&n.whitespace=="pre"?al|Wp:t&-5}class Xc{constructor(e,t,r,s,a,l){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=l,this.content=[],this.activeMarks=Ue.none,this.match=a||(l&au?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Y.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&al)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let t=Y.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!XS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class U1{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,a,l=I1(null,t.preserveWhitespace,0)|(r?au:0);s?a=new Xc(s.type,s.attrs,Ue.none,!0,t.topMatch||s.type.contentMatch,l):r?a=new Xc(null,null,Ue.none,!0,null,l):a=new Xc(e.schema.topNodeType,null,Ue.none,!0,null,l),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,a=s.options&Wp?"full":this.localPreserveWS||(s.options&al)>0;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],u=e.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),u;QS.hasOwnProperty(l)&&this.parser.normalizeLists&&c4(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:l4.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,p=this.needsBlock;if(XS.hasOwnProperty(l))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(a),this.needsBlock=p}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],l=r.getPropertyValue(a);if(l)for(let u=void 0;;){let d=this.parser.matchStyle(a,l,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return t}addElementByRule(e,t,r,s){let a,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,t.attrs||null,r,t.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let u=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(u)&&this.open--}addAll(e,t,r,s){let a=r||0;for(let l=r?e.childNodes[r]:e.firstChild,u=s==null?null:e.childNodes[s];l!=u;l=l.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(l,t);this.findAtPoint(e,a)}findPlace(e,t,r){let s,a;for(let l=this.open,u=0;l>=0;l--){let d=this.nodes[l],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,a=d,!h.length))break;if(d.solid){if(r)break;u+=2}}if(!s)return null;this.sync(a);for(let l=0;l<s.length;l++)t=this.enterInner(s[l],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let l=Ue.none;for(let u of s.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):q1(u.type,e.type))&&(l=u.addToSet(l));return a.content.push(e.mark(l)),!0}return!1}enter(e,t,r,s){let a=this.findPlace(e.create(t),r,!1);return a&&(a=this.enterInner(e,t,r,!0,s)),a}enterInner(e,t,r,s=!1,a){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let u=I1(e,a,l.options);l.options&au&&l.content.length==0&&(u|=au);let d=Ue.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):q1(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Xc(e,t,d,s,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=al)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(s?0:1),l=(u,d)=>{for(;u>=0;u--){let h=t[u];if(h==""){if(u==t.length-1||u==0)continue;for(;d>=a;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function c4(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&QS.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function u4(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function $1(n){let e={};for(let t in n)e[t]=n[t];return e}function q1(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let a=[],l=u=>{a.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:p}=u.edge(d);if(h==e||a.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}class ms{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Fh(t).createDocumentFragment());let s=r,a=[];return e.forEach(l=>{if(a.length||l.marks.length){let u=0,d=0;for(;u<a.length&&d<l.marks.length;){let h=l.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<a.length;)s=a.pop()[1];for(;d<l.marks.length;){let h=l.marks[d++],p=this.serializeMark(h,l.isInline,t);p&&(a.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=ou(Fh(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&ou(Fh(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return ou(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ms(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=H1(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return H1(e.marks)}}function H1(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Fh(n){return n.document||window.document}const V1=new WeakMap;function f4(n){let e=V1.get(n);return e===void 0&&V1.set(n,e=d4(n)),e}function d4(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function ou(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=f4(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(t=s.slice(0,l),s=s.slice(l+1));let u,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):d.setAttribute(y,h[y])}}for(let y=p;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:x}=ou(n,b,t,r);if(d.appendChild(v),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:d,contentDOM:u}}const WS=65535,ZS=Math.pow(2,16);function h4(n,e){return n+e*ZS}function F1(n){return n&WS}function p4(n){return(n-(n&WS))/ZS}const e_=1,t_=2,lu=4,n_=8;class Zp{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&n_)>0}get deletedBefore(){return(this.delInfo&(e_|lu))>0}get deletedAfter(){return(this.delInfo&(t_|lu))>0}get deletedAcross(){return(this.delInfo&lu)>0}}class cn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&cn.empty)return cn.empty}recover(e){let t=0,r=F1(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+p4(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,a=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[u+a],p=this.ranges[u+l],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:t:t,v=d+s+(b<0?0:p);if(r)return v;let x=e==(t<0?d:y)?null:h4(u/3,e-d),_=e==d?t_:e==y?e_:lu;return(t<0?e!=d:e!=y)&&(_|=n_),new Zp(v,_,x)}s+=p-h}return r?e+s:new Zp(e+s,0,null)}touches(e,t){let r=0,s=F1(t),a=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[u+a],p=d+h;if(e<=p&&u==s*3)return!0;r+=this.ranges[u+l]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let l=this.ranges[s],u=l-(this.inverted?a:0),d=l+(this.inverted?0:a),h=this.ranges[s+t],p=this.ranges[s+r];e(u,u+h,d,d+p),a+=p-h}}invert(){return new cn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cn.empty:new cn(e<0?[0,-e,0]:[0,0,e])}}cn.empty=new cn([]);class ol{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new ol(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new ol;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let a=this.from;a<this.to;a++){let l=this._maps[a],u=l.mapResult(e,t);if(u.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new Zp(e,s,null)}}const Yh=Object.create(null);class Dt{getMap(){return cn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Yh[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Yh)throw new RangeError("Duplicate use of step JSON ID "+e);return Yh[e]=t,t.prototype.jsonID=e,t}}class rt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new rt(e,null)}static fail(e){return new rt(null,e)}static fromReplace(e,t,r,s){try{return rt.ok(e.replace(t,r,s))}catch(a){if(a instanceof yu)return rt.fail(a.message);throw a}}}function Hm(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let a=n.child(s);a.content.size&&(a=a.copy(Hm(a.content,e,a))),a.isInline&&(a=e(a,t,s)),r.push(a)}return Y.fromArray(r)}class li extends Dt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),a=new ee(Hm(t.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),t.openStart,t.openEnd);return rt.fromReplace(e,this.from,this.to,a)}invert(){return new Gn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new li(t.pos,r.pos,this.mark)}merge(e){return e instanceof li&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new li(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new li(t.from,t.to,e.markFromJSON(t.mark))}}Dt.jsonID("addMark",li);class Gn extends Dt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ee(Hm(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return rt.fromReplace(e,this.from,this.to,r)}invert(){return new li(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Gn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Gn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gn(t.from,t.to,e.markFromJSON(t.mark))}}Dt.jsonID("removeMark",Gn);class ci extends Dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return rt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return rt.fromReplace(e,this.pos,this.pos+1,new ee(Y.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new ci(this.pos,t.marks[s]);return new ci(this.pos,this.mark)}}return new cs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ci(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ci(t.pos,e.markFromJSON(t.mark))}}Dt.jsonID("addNodeMark",ci);class cs extends Dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return rt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return rt.fromReplace(e,this.pos,this.pos+1,new ee(Y.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ci(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new cs(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new cs(t.pos,e.markFromJSON(t.mark))}}Dt.jsonID("removeNodeMark",cs);class mt extends Dt{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&em(e,this.from,this.to)?rt.fail("Structure replace would overwrite content"):rt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cn([this.from,this.to-this.from,this.slice.size])}invert(e){return new mt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new mt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof mt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new mt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new mt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new mt(t.from,t.to,ee.fromJSON(e,t.slice),!!t.structure)}}Dt.jsonID("replace",mt);class gt extends Dt{constructor(e,t,r,s,a,l,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=a,this.insert=l,this.structure=u}apply(e){if(this.structure&&(em(e,this.from,this.gapFrom)||em(e,this.gapTo,this.to)))return rt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return rt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?rt.fromReplace(e,this.from,this.to,r):rt.fail("Content does not fit in gap")}getMap(){return new cn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new gt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||a>r.pos?null:new gt(t.pos,r.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new gt(t.from,t.to,t.gapFrom,t.gapTo,ee.fromJSON(e,t.slice),t.insert,!!t.structure)}}Dt.jsonID("replaceAround",gt);function em(n,e,t){let r=n.resolve(e),s=t-e,a=r.depth;for(;s>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,s--;if(s>0){let l=r.node(a).maybeChild(r.indexAfter(a));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function m4(n,e,t,r){let s=[],a=[],l,u;n.doc.nodesBetween(e,t,(d,h,p)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&p.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),x=r.addToSet(y);for(let _=0;_<y.length;_++)y[_].isInSet(x)||(l&&l.to==b&&l.mark.eq(y[_])?l.to=v:s.push(l=new Gn(b,v,y[_])));u&&u.to==b?u.to=v:a.push(u=new li(b,v,r))}}),s.forEach(d=>n.step(d)),a.forEach(d=>n.step(d))}function g4(n,e,t,r){let s=[],a=0;n.doc.nodesBetween(e,t,(l,u)=>{if(!l.isInline)return;a++;let d=null;if(r instanceof Vu){let h=l.marks,p;for(;p=r.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let h=Math.min(u+l.nodeSize,t);for(let p=0;p<d.length;p++){let y=d[p],b;for(let v=0;v<s.length;v++){let x=s[v];x.step==a-1&&y.eq(s[v].style)&&(b=x)}b?(b.to=h,b.step=a):s.push({style:y,from:Math.max(u,e),to:h,step:a})}}}),s.forEach(l=>n.step(new Gn(l.from,l.to,l.style)))}function Vm(n,e,t,r=t.contentMatch,s=!0){let a=n.doc.nodeAt(e),l=[],u=e+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),p=u+h.nodeSize,y=r.matchType(h.type);if(!y)l.push(new mt(u,p,ee.empty));else{r=y;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Gn(u,p,h.marks[b]));if(s&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,x;for(;b=v.exec(h.text);)x||(x=new ee(Y.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),l.push(new mt(u+b.index,u+b.index+b[0].length,x))}}u=p}if(!r.validEnd){let d=r.fillBefore(Y.empty,!0);n.replace(u,u,new ee(d,0,0))}for(let d=l.length-1;d>=0;d--)n.step(l[d])}function y4(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function za(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),a=n.$from.index(r),l=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(a,l,t))return r;if(r==0||s.type.spec.isolating||!y4(s,a,l))break}return null}function b4(n,e,t){let{$from:r,$to:s,depth:a}=e,l=r.before(a+1),u=s.after(a+1),d=l,h=u,p=Y.empty,y=0;for(let x=a,_=!1;x>t;x--)_||r.index(x)>0?(_=!0,p=Y.from(r.node(x).copy(p)),y++):d--;let b=Y.empty,v=0;for(let x=a,_=!1;x>t;x--)_||s.after(x+1)<s.end(x)?(_=!0,b=Y.from(s.node(x).copy(b)),v++):h++;n.step(new gt(d,h,l,u,new ee(p.append(b),y,v),p.size-y,!0))}function Fm(n,e,t=null,r=n){let s=v4(n,e),a=s&&x4(r,e);return a?s.map(Y1).concat({type:e,attrs:t}).concat(a.map(Y1)):null}function Y1(n){return{type:n,attrs:null}}function v4(n,e){let{parent:t,startIndex:r,endIndex:s}=n,a=t.contentMatchAt(r).findWrapping(e);if(!a)return null;let l=a.length?a[0]:e;return t.canReplaceWith(r,s,l)?a:null}function x4(n,e){let{parent:t,startIndex:r,endIndex:s}=n,a=t.child(r),l=e.contentMatch.findWrapping(a.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:l}function w4(n,e,t){let r=Y.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let u=t[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Y.from(t[l].type.create(t[l].attrs,r))}let s=e.start,a=e.end;n.step(new gt(s,a,s,a,new ee(r,0,0),t.length,!0))}function S4(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=n.steps.length;n.doc.nodesBetween(e,t,(l,u)=>{let d=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(r,d)&&_4(n.doc,n.mapping.slice(a).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!x?h=!1:!v&&x&&(h=!0)}h===!1&&i_(n,l,u,a),Vm(n,n.mapping.slice(a).map(u,1),r,void 0,h===null);let p=n.mapping.slice(a),y=p.map(u,1),b=p.map(u+l.nodeSize,1);return n.step(new gt(y,b,y+1,b-1,new ee(Y.from(r.create(d,null,l.marks)),0,0),1,!0)),h===!0&&r_(n,l,u,a),!1}})}function r_(n,e,t,r){e.forEach((s,a)=>{if(s.isText){let l,u=/\r?\n|\r/g;for(;l=u.exec(s.text);){let d=n.mapping.slice(r).map(t+1+a+l.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function i_(n,e,t,r){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(t+1+a);n.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function _4(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function k4(n,e,t,r,s){let a=n.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let l=t.create(r,null,s||a.marks);if(a.isLeaf)return n.replaceWith(e,e+a.nodeSize,l);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new gt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ee(Y.from(l),0,0),1,!0))}function vr(n,e,t=1,r){let s=n.resolve(e),a=s.depth-t,l=r&&r[r.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=t-2;h>a;h--,p--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),x=r&&r[p+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let _=r&&r[p]||y;if(!y.canReplace(b+1,y.childCount)||!_.type.validContent(v))return!1}let u=s.indexAfter(a),d=r&&r[0];return s.node(a).canReplaceWith(u,u,d?d.type:s.node(a+1).type)}function T4(n,e,t=1,r){let s=n.doc.resolve(e),a=Y.empty,l=Y.empty;for(let u=s.depth,d=s.depth-t,h=t-1;u>d;u--,h--){a=Y.from(s.node(u).copy(a));let p=r&&r[h];l=Y.from(p?p.type.create(p.attrs,l):s.node(u).copy(l))}n.step(new mt(e,e,new ee(a.append(l),t,t),!0))}function Si(n,e){let t=n.resolve(e),r=t.index();return s_(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function E4(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),l=a.type==r?n.type.schema.nodes.text:a.type;if(t=t.matchType(l),!t||!n.type.allowsMarks(a.marks))return!1}return t.validEnd}function s_(n,e){return!!(n&&e&&!n.isLeaf&&E4(n,e))}function Fu(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let a,l,u=r.index(s);if(s==r.depth?(a=r.nodeBefore,l=r.nodeAfter):t>0?(a=r.node(s+1),u++,l=r.node(s).maybeChild(u)):(a=r.node(s).maybeChild(u-1),l=r.node(s+1)),a&&!a.isTextblock&&s_(a,l)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function C4(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,a=n.doc.resolve(e-t),l=a.node().type;if(s&&l.inlineContent){let p=l.whitespace=="pre",y=!!l.contentMatch.matchType(s);p&&!y?r=!1:!p&&y&&(r=!0)}let u=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);i_(n,p.node(),p.before(),u)}l.inlineContent&&Vm(n,e+t-1,l,a.node().contentMatchAt(a.index()),r==null);let d=n.mapping.slice(u),h=d.map(e-t);if(n.step(new mt(h,d.map(e+t,-1),ee.empty,!0)),r===!0){let p=n.doc.resolve(h);r_(n,p.node(),p.before(),n.steps.length)}return n}function O4(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let a=r.index(s);if(r.node(s).canReplaceWith(a,a,t))return r.before(s+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,t))return r.after(s+1);if(a<r.node(s).childCount)return null}return null}function a_(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let a=0;a<t.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(u>0?1:0),h=r.node(l),p=!1;if(a==1)p=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);p=y&&h.canReplaceWith(d,d,y[0])}if(p)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function Yu(n,e,t=e,r=ee.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),a=n.resolve(t);return o_(s,a,r)?new mt(e,t,r):new A4(s,a,r).fit()}function o_(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class A4{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Y.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Y.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let a=this.placed,l=r.depth,u=s.depth;for(;l&&u&&a.childCount==1;)a=a.firstChild.content,l--,u--;let d=new ee(a,l,u);return e>-1?new gt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new mt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let a=t.firstChild;if(t.childCount>1&&(s=0),a.type.spec.isolating&&s<=r){e=r;break}t=a.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,a=null;r?(a=Gh(this.unplaced.content,r-1).firstChild,s=a.content):s=this.unplaced.content;let l=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],p,y=null;if(t==1&&(l?h.matchType(l.type)||(y=h.fillBefore(Y.from(l),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:u,parent:a,inject:y};if(t==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:a,wrap:p};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Gh(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ee(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Gh(e,t);if(s.childCount<=1&&t>0){let a=e.size-t<=t+s.size;this.unplaced=new ee(Ho(e,t-1,1),t-1,a?t-1:r)}else this.unplaced=new ee(Ho(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let _=0;_<a.length;_++)this.openFrontierNode(a[_]);let l=this.unplaced,u=r?r.content:l.content,d=l.openStart-e,h=0,p=[],{match:y,type:b}=this.frontier[t];if(s){for(let _=0;_<s.childCount;_++)p.push(s.child(_));y=y.matchFragment(s)}let v=u.size+e-(l.content.size-l.openEnd);for(;h<u.childCount;){let _=u.child(h),k=y.matchType(_.type);if(!k)break;h++,(h>1||d==0||_.content.size)&&(y=k,p.push(l_(_.mark(b.allowedMarks(_.marks)),h==1?d:0,h==u.childCount?v:-1)))}let x=h==u.childCount;x||(v=-1),this.placed=Vo(this.placed,t,Y.from(p)),this.frontier[t].match=y,x&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let _=0,k=u;_<v;_++){let E=k.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),k=E.content}this.unplaced=x?e==0?ee.empty:new ee(Ho(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new ee(Ho(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Kh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=Kh(e,t,s,r,a);if(l){for(let u=t-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],p=Kh(e,u,h,d,!0);if(!p||p.childCount)continue e}return{depth:t,fit:l,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Vo(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Vo(this.placed,this.depth,Y.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Y.empty,!0);t.childCount&&(this.placed=Vo(this.placed,this.frontier.length,t))}}function Ho(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Ho(n.firstChild.content,e-1,t)))}function Vo(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Vo(n.lastChild.content,e-1,t)))}function Gh(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function l_(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,l_(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Y.empty,!0)))),n.copy(r)}function Kh(n,e,t,r,s){let a=n.node(e),l=s?n.indexAfter(e):n.index(e);if(l==a.childCount&&!t.compatibleContent(a.type))return null;let u=r.fillBefore(a.content,!0,l);return u&&!N4(t,a.content,l)?u:null}function N4(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function M4(n){return n.spec.defining||n.spec.definingForContent}function R4(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),a=n.doc.resolve(t);if(o_(s,a,r))return n.step(new mt(e,t,r));let l=u_(s,n.doc.resolve(t));l[l.length-1]==0&&l.pop();let u=-(s.depth+1);l.unshift(u);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let x=s.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;l.indexOf(b)>-1?u=b:s.before(b)==v&&l.splice(1,0,-b)}let d=l.indexOf(u),h=[],p=r.openStart;for(let b=r.content,v=0;;v++){let x=b.firstChild;if(h.push(x),v==r.openStart)break;b=x.content}for(let b=p-1;b>=0;b--){let v=h[b],x=M4(v.type);if(x&&!v.sameMarkup(s.node(Math.abs(u)-1)))p=b;else if(x||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+p+1)%(r.openStart+1),x=h[v];if(x)for(let _=0;_<l.length;_++){let k=l[(_+d)%l.length],E=!0;k<0&&(E=!1,k=-k);let N=s.node(k-1),O=s.index(k-1);if(N.canReplaceWith(O,O,x.type,x.marks))return n.replace(s.before(k),E?a.after(k):t,new ee(c_(r.content,0,r.openStart,v),v,r.openEnd))}}let y=n.steps.length;for(let b=l.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let v=l[b];v<0||(e=s.before(v),t=a.after(v))}}function c_(n,e,t,r,s){if(e<t){let a=n.firstChild;n=n.replaceChild(0,a.copy(c_(a.content,e+1,t,r,a)))}if(e>r){let a=s.contentMatchAt(0),l=a.fillBefore(n).append(n);n=l.append(a.matchFragment(l).fillBefore(Y.empty,!0))}return n}function j4(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=O4(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new ee(Y.from(r),0,0))}function D4(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),a=u_(r,s);for(let l=0;l<a.length;l++){let u=a[l],d=l==a.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return n.delete(r.before(u),s.after(u))}for(let l=1;l<=r.depth&&l<=s.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&s.end(l)-t!=s.depth-l&&r.start(l-1)==s.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),s.index(l-1)))return n.delete(r.before(l),t);n.delete(e,t)}function u_(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let a=n.start(s);if(a<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&t.push(s)}return t}class wa extends Dt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return rt.fail("No node at attribute step's position");let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return rt.fromReplace(e,this.pos,this.pos+1,new ee(Y.from(s),0,t.isLeaf?0:1))}getMap(){return cn.empty}invert(e){return new wa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wa(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wa(t.pos,t.attr,t.value)}}Dt.jsonID("attr",wa);class ll extends Dt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return rt.ok(r)}getMap(){return cn.empty}invert(e){return new ll(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ll(t.attr,t.value)}}Dt.jsonID("docAttr",ll);let Ea=class extends Error{};Ea=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Ea.prototype=Object.create(Error.prototype);Ea.prototype.constructor=Ea;Ea.prototype.name="TransformError";class z4{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ol}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ea(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ee.empty){let s=Yu(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new ee(Y.from(r),0,0))}delete(e,t){return this.replace(e,t,ee.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return R4(this,e,t,r),this}replaceRangeWith(e,t,r){return j4(this,e,t,r),this}deleteRange(e,t){return D4(this,e,t),this}lift(e,t){return b4(this,e,t),this}join(e,t=1){return C4(this,e,t),this}wrap(e,t){return w4(this,e,t),this}setBlockType(e,t=e,r,s=null){return S4(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return k4(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new wa(e,t,r)),this}setDocAttribute(e,t){return this.step(new ll(e,t)),this}addNodeMark(e,t){return this.step(new ci(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ue)t.isInSet(r.marks)&&this.step(new cs(e,t));else{let s=r.marks,a,l=[];for(;a=t.isInSet(s);)l.push(new cs(e,a)),s=a.removeFromSet(s);for(let u=l.length-1;u>=0;u--)this.step(l[u])}return this}split(e,t=1,r){return T4(this,e,t,r),this}addMark(e,t,r){return m4(this,e,t,r),this}removeMark(e,t,r){return g4(this,e,t,r),this}clearIncompatible(e,t,r){return Vm(this,e,t,r),this}}const Jh=Object.create(null);class Se{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new L4(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ee.empty){let r=t.content.lastChild,s=null;for(let u=0;u<t.openEnd;u++)s=r,r=r.lastChild;let a=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:d,$to:h}=l[u],p=e.mapping.slice(a);e.replaceRange(p.map(d.pos),p.map(h.pos),u?ee.empty:t),u==0&&J1(e,a,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],d=e.mapping.slice(r),h=d.map(l.pos),p=d.map(u.pos);a?e.deleteRange(h,p):(e.replaceRangeWith(h,p,t),J1(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new ge(e):ha(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let a=e.depth-1;a>=0;a--){let l=t<0?ha(e.node(0),e.node(a),e.before(a+1),e.index(a),t,r):ha(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new un(e.node(0))}static atStart(e){return ha(e,e,0,0,1)||new un(e)}static atEnd(e){return ha(e,e,e.content.size,e.childCount,-1)||new un(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Jh[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Jh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Jh[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ge.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class L4{constructor(e,t){this.$from=e,this.$to=t}}let G1=!1;function K1(n){!G1&&!n.parent.inlineContent&&(G1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ge extends Se{constructor(e,t=e){K1(e),K1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Se.near(r);let s=e.resolve(t.map(this.anchor));return new ge(s.parent.inlineContent?s:r,r)}replace(e,t=ee.empty){if(super.replace(e,t),t==ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ge&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Gu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ge(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let a=Se.findFrom(t,r,!0)||Se.findFrom(t,-r,!0);if(a)t=a.$head;else return Se.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(Se.findFrom(e,-r,!0)||Se.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new ge(e,t)}}Se.jsonID("text",ge);class Gu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Gu(e.map(this.anchor),e.map(this.head))}resolve(e){return ge.between(e.resolve(this.anchor),e.resolve(this.head))}}class ue extends Se{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),a=e.resolve(s);return r?Se.near(a):new ue(a)}content(){return new ee(Y.from(this.node),0,0)}eq(e){return e instanceof ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ym(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ue(e.resolve(t.anchor))}static create(e,t){return new ue(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ue.prototype.visible=!1;Se.jsonID("node",ue);class Ym{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Gu(r,r):new Ym(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ue.isSelectable(r)?new ue(t):Se.near(t)}}class un extends Se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ee.empty){if(t==ee.empty){e.delete(0,e.doc.content.size);let r=Se.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new un(e)}map(e){return new un(e)}eq(e){return e instanceof un}getBookmark(){return P4}}Se.jsonID("all",un);const P4={map(){return this},resolve(n){return new un(n)}};function ha(n,e,t,r,s,a=!1){if(e.inlineContent)return ge.create(n,t);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let u=e.child(l);if(u.isAtom){if(!a&&ue.isSelectable(u))return ue.create(n,t-(s<0?u.nodeSize:0))}else{let d=ha(n,u,t+s,s<0?u.childCount:0,s,a);if(d)return d}t+=u.nodeSize*s}return null}function J1(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof mt||s instanceof gt))return;let a=n.mapping.maps[r],l;a.forEach((u,d,h,p)=>{l==null&&(l=p)}),n.setSelection(Se.near(n.doc.resolve(l),t))}const X1=1,Q1=2,W1=4;class B4 extends z4{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|X1)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&X1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Q1,this}ensureMarks(e){return Ue.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Q1)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ue.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let a=this.storedMarks;if(!a){let l=this.doc.resolve(t);a=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,a)),this.selection.empty||this.setSelection(Se.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=W1,this}get scrolledIntoView(){return(this.updated&W1)>0}}function Z1(n,e){return!e||!n?n:n.bind(e)}class Fo{constructor(e,t,r){this.name=e,this.init=Z1(t.init,r),this.apply=Z1(t.apply,r)}}const I4=[new Fo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Fo("selection",{init(n,e){return n.selection||Se.atStart(e.doc)},apply(n){return n.selection}}),new Fo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Fo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Xh{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=I4.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Fo(r.key,r.spec.state,r))})}}class ya{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let a=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let d=s?s[l].n:0,h=s?s[l].state:this,p=d<t.length&&u.spec.appendTransaction.call(u,d?t.slice(d):t,h,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<l?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),a=!0}s&&(s[l]={state:r,n:t.length})}}if(!a)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ya(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let a=r[s];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new B4(this)}static create(e){let t=new Xh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ya(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Xh(this.schema,e.plugins),r=t.fields,s=new ya(t);for(let a=0;a<r.length;a++){let l=r[a].name;s[l]=this.hasOwnProperty(l)?this[l]:r[a].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],a=s.spec.state;a&&a.toJSON&&(t[r]=a.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Xh(e.schema,e.plugins),a=new ya(s);return s.fields.forEach(l=>{if(l.name=="doc")a.doc=fi.fromJSON(e.schema,t.doc);else if(l.name=="selection")a.selection=Se.fromJSON(a.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],h=d.spec.state;if(d.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){a[l.name]=h.fromJSON.call(d,e,t[u],a);return}}a[l.name]=l.init(e,a)}}),a}}function f_(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=f_(s,e,{})),t[r]=s}return t}class Xt{constructor(e){this.spec=e,this.props={},e.props&&f_(e.props,this,this.props),this.key=e.key?e.key.key:d_("plugin")}getState(e){return e[this.key]}}const Qh=Object.create(null);function d_(n){return n in Qh?n+"$"+ ++Qh[n]:(Qh[n]=0,n+"$")}class Xn{constructor(e="key"){this.key=d_(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Tt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ca=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let tm=null;const mr=function(n,e,t){let r=tm||(tm=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},U4=function(){tm=null},us=function(n,e,t,r){return t&&(ex(n,e,t,r,-1)||ex(n,e,t,r,1))},$4=/^(img|br|input|textarea|hr)$/i;function ex(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:Sn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||_l(n)||$4.test(n.nodeName)||n.contentEditable=="false")return!1;e=Tt(n)+(s<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.contentEditable=="false")return!1;e=s<0?Sn(n):0}else return!1}}function Sn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function q4(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Sn(n)}else if(n.parentNode&&!_l(n))e=Tt(n),n=n.parentNode;else return null}}function H4(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!_l(n))e=Tt(n)+1,n=n.parentNode;else return null}}function V4(n,e,t){for(let r=e==0,s=e==Sn(n);r||s;){if(n==t)return!0;let a=Tt(n);if(n=n.parentNode,!n)return!1;r=r&&a==0,s=s&&a==Sn(n)}}function _l(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Ku=function(n){return n.focusNode&&us(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Yi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function F4(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Y4(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Sn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Sn(r.startContainer),r.startOffset)}}}const Kn=typeof navigator<"u"?navigator:null,tx=typeof document<"u"?document:null,_i=Kn&&Kn.userAgent||"",nm=/Edge\/(\d+)/.exec(_i),h_=/MSIE \d/.exec(_i),rm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_i),Kt=!!(h_||rm||nm),hi=h_?document.documentMode:rm?+rm[1]:nm?+nm[1]:0,Rn=!Kt&&/gecko\/(\d+)/i.test(_i);Rn&&+(/Firefox\/(\d+)/.exec(_i)||[0,0])[1];const im=!Kt&&/Chrome\/(\d+)/.exec(_i),Mt=!!im,p_=im?+im[1]:0,Bt=!Kt&&!!Kn&&/Apple Computer/.test(Kn.vendor),Oa=Bt&&(/Mobile\/\w+/.test(_i)||!!Kn&&Kn.maxTouchPoints>2),wn=Oa||(Kn?/Mac/.test(Kn.platform):!1),G4=Kn?/Win/.test(Kn.platform):!1,yr=/Android \d/.test(_i),kl=!!tx&&"webkitFontSmoothing"in tx.documentElement.style,K4=kl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function J4(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function hr(n,e){return typeof n=="number"?n:n[e]}function X4(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function nx(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,a=n.dom.ownerDocument;for(let l=t||n.dom;l;){if(l.nodeType!=1){l=Ca(l);continue}let u=l,d=u==a.body,h=d?J4(a):X4(u),p=0,y=0;if(e.top<h.top+hr(r,"top")?y=-(h.top-e.top+hr(s,"top")):e.bottom>h.bottom-hr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+hr(s,"top")-h.top:e.bottom-h.bottom+hr(s,"bottom")),e.left<h.left+hr(r,"left")?p=-(h.left-e.left+hr(s,"left")):e.right>h.right-hr(r,"right")&&(p=e.right-h.right+hr(s,"right")),p||y)if(d)a.defaultView.scrollBy(p,y);else{let v=u.scrollLeft,x=u.scrollTop;y&&(u.scrollTop+=y),p&&(u.scrollLeft+=p);let _=u.scrollLeft-v,k=u.scrollTop-x;e={left:e.left-_,top:e.top-k,right:e.right-_,bottom:e.bottom-k}}let b=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(b))break;l=b=="absolute"?l.offsetParent:Ca(l)}}function Q4(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let a=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=n.root.elementFromPoint(a,l);if(!u||u==n.dom||!n.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=t-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:m_(n.dom)}}function m_(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ca(r));return e}function W4({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;g_(t,r==0?0:r-e)}function g_(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:a}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let ua=null;function Z4(n){if(n.setActive)return n.setActive();if(ua)return n.focus(ua);let e=m_(n);n.focus(ua==null?{get preventScroll(){return ua={preventScroll:!0},!0}}:void 0),ua||(ua=!1,g_(e,0))}function y_(n,e){let t,r=2e8,s,a=0,l=e.top,u=e.top,d,h;for(let p=n.firstChild,y=0;p;p=p.nextSibling,y++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=mr(p).getClientRects();else continue;for(let v=0;v<b.length;v++){let x=b[v];if(x.top<=l&&x.bottom>=u){l=Math.max(x.bottom,l),u=Math.min(x.top,u);let _=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(_<r){t=p,r=_,s=_&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&_&&(a=y+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=p,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(a=y+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?ej(t,s):!t||r&&t.nodeType==1?{node:n,offset:a}:y_(t,s)}function ej(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let a=ti(r,1);if(a.top!=a.bottom&&Gm(e,a))return{node:n,offset:s+(e.left>=(a.left+a.right)/2?1:0)}}return{node:n,offset:0}}function Gm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function tj(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function nj(n,e,t){let{node:r,offset:s}=y_(e,t),a=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();a=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,s,a)}function rj(n,e,t,r){let s=-1;for(let a=e,l=!1;a!=n.dom;){let u=n.docView.nearestDesc(a,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&(!l&&d.left>r.left||d.top>r.top?s=u.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(s=u.posAfter),l=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function b_(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),a=s;;){let l=n.childNodes[a];if(l.nodeType==1){let u=l.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(Gm(e,h))return b_(l,e,h)}}if((a=(a+1)%r)==s)break}return n}function ij(n,e){let t=n.dom.ownerDocument,r,s=0,a=Y4(t,e.left,e.top);a&&({node:r,offset:s}=a);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=n.dom.getBoundingClientRect();if(!Gm(e,h)||(l=b_(n.dom,e,h),!l))return null}if(Bt)for(let h=l;r&&h;h=Ca(h))h.draggable&&(r=void 0);if(l=tj(l,e),r){if(Rn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],y;p.nodeName=="IMG"&&(y=p.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;kl&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=rj(n,r,s,e))}u==null&&(u=nj(n,l,e));let d=n.docView.nearestDesc(l,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function rx(n){return n.top<n.bottom||n.left<n.right}function ti(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(rx(r))return r}return Array.prototype.find.call(t,rx)||n.getBoundingClientRect()}const sj=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function v_(n,e,t){let{node:r,offset:s,atom:a}=n.docView.domFromPos(e,t<0?-1:1),l=kl||Rn;if(r.nodeType==3)if(l&&(sj.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=ti(mr(r,s,s),t);if(Rn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=ti(mr(r,s-1,s-1),-1);if(h.top==d.top){let p=ti(mr(r,s,s+1),-1);if(p.top!=d.top)return Uo(p,p.left<h.left)}}return d}else{let d=s,h=s,p=t<0?1:-1;return t<0&&!s?(h++,p=-1):t>=0&&s==r.nodeValue.length?(d--,p=1):t<0?d--:h++,Uo(ti(mr(r,d,h),p),p<0)}if(!n.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(t<0||s==Sn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Wh(d.getBoundingClientRect(),!1)}if(a==null&&s<Sn(r)){let d=r.childNodes[s];if(d.nodeType==1)return Wh(d.getBoundingClientRect(),!0)}return Wh(r.getBoundingClientRect(),t>=0)}if(a==null&&s&&(t<0||s==Sn(r))){let d=r.childNodes[s-1],h=d.nodeType==3?mr(d,Sn(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Uo(ti(h,1),!1)}if(a==null&&s<Sn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?mr(d,0,l?0:1):d.nodeType==1?d:null:null;if(h)return Uo(ti(h,-1),!0)}return Uo(ti(r.nodeType==3?mr(r):r,-t),t>=0)}function Uo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Wh(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function x_(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function aj(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return x_(n,e,()=>{let{node:a}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let l=v_(n,s.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=mr(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(t=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const oj=/[\u0590-\u08ac]/;function lj(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,a=!s,l=s==r.parent.content.size,u=n.domSelection();return u?!oj.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?a:l:x_(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:y}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:_}=n.domSelectionRange(),k=x&&!v.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==_;try{u.collapse(p,y),d&&(d!=p||h!=y)&&u.extend&&u.extend(d,h)}catch{}return b!=null&&(u.caretBidiLevel=b),k}):r.pos==r.start()||r.pos==r.end()}let ix=null,sx=null,ax=!1;function cj(n,e,t){return ix==e&&sx==t?ax:(ix=e,sx=t,ax=t=="up"||t=="down"?aj(n,e,t):lj(n,e,t))}const kn=0,ox=1,Ji=2,Jn=3;class Tl{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=kn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,l;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}else{let a,l;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Tt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),l;if(a&&(!t||a.node))if(r&&(l=a.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],a=r+s.size;if(r==e&&a!=r){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let u=s.children[l];if(u.size){s=u;break}}return s}if(e<a)return s.descAt(e-r-s.border);r=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let a=0;r<this.children.length;r++){let l=this.children[r],u=a+l.size;if(u>e||l instanceof S_){s=e-a;break}a=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof w_&&a.side>=0;r--);if(t<=0){let a,l=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,l=!1);return a&&t&&l&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?Tt(a.dom)+1:0}}else{let a,l=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,l=!1);return a&&l&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?Tt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let l=r,u=0;;u++){let d=this.children[u],h=l+d.size;if(s==-1&&e<=h){let p=l+d.border;if(e>=p&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,p);e=l;for(let y=u;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Tt(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>t||u==this.children.length-1)){t=h;for(let p=u+1;p<this.children.length;p++){let y=this.children[p];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=Tt(y.dom);break}t+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let a=Math.min(e,t),l=Math.max(e,t);for(let v=0,x=0;v<this.children.length;v++){let _=this.children[v],k=x+_.size;if(a>x&&l<k)return _.setSelection(e-x-_.border,t-x-_.border,r,s);x=k}let u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),y=!1;if((Rn||Bt)&&e==t){let{node:v,offset:x}=u;if(v.nodeType==3){if(y=!!(x&&v.nodeValue[x-1]==`
`),y&&x==v.nodeValue.length)for(let _=v,k;_;_=_.parentNode){if(k=_.nextSibling){k.nodeName=="BR"&&(u=d={node:k.parentNode,offset:Tt(k)+1});break}let E=_.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let _=v.childNodes[x-1];y=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(Rn&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&Bt)&&us(u.node,u.offset,p.anchorNode,p.anchorOffset)&&us(d.node,d.offset,p.focusNode,p.focusOffset))return;let b=!1;if((h.extend||e==t)&&!y){h.collapse(u.node,u.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let x=u;u=d,d=x}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let a=this.children[s],l=r+a.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let u=r+a.border,d=l-a.border;if(e>=u&&t<=d){this.dirty=e==r||t==l?Ji:ox,e==u&&t==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Jn:a.markDirty(e-u,t-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Ji:Jn}r=l}this.dirty=Ji}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ji:ox;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class w_ extends Tl{constructor(e,t,r,s){let a,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==kn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class uj extends Tl{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class fs extends Tl{constructor(e,t,r,s,a){super(e,[],r,s),this.mark=t,this.spec=a}static create(e,t,r,s){let a=s.nodeViews[t.type.name],l=a&&a(t,s,r);return(!l||!l.dom)&&(l=ms.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new fs(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=kn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=kn}}slice(e,t,r){let s=fs.create(this.parent,this.mark,!0,r),a=this.children,l=this.size;t<l&&(a=am(a,t,l,r)),e>0&&(a=am(a,0,e,r));for(let u=0;u<a.length;u++)a[u].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class pi extends Tl{constructor(e,t,r,s,a,l,u,d,h){super(e,[],a,l),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,t,r,s,a,l){let u=a.nodeViews[t.type.name],d,h=u&&u(t,a,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:y}=ms.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let b=p;return p=T_(p,r,t),h?d=new fj(e,t,r,s,p,y||null,b,h,a,l+1):t.isText?new Ju(e,t,r,s,p,b,a):new pi(e,t,r,s,p,y||null,b,a,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Y.empty)}return e}matchesNode(e,t,r){return this.dirty==kn&&e.eq(this.node)&&wu(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,a=e.composing?this.localCompositionInfo(e,t):null,l=a&&a.pos>-1?a:null,u=a&&a.pos<0,d=new hj(this,l&&l.node,e);gj(this.node,this.innerDeco,(h,p,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(p==this.node.childCount?Ue.none:this.node.child(p).marks,r,e),d.placeWidget(h,e,s)},(h,p,y,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,p,y,b)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,p,y,v,e)||d.updateNextNode(h,p,y,e,b,s)||d.addNode(h,p,y,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ji)&&(l&&this.protectLocalComposition(e,l),__(this.contentDOM,this.children,e),Oa&&yj(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof ge)||r<t||s>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,u=bj(this.node.content,l,r-t,s-t);return u<0?null:{node:a,pos:u,text:l}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let l=new uj(this,a,t,s);e.input.compositionNodes.push(l),this.children=am(this.children,r,r+s.length,e,l)}update(e,t,r,s){return this.dirty==Jn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=kn}updateOuterDeco(e){if(wu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=k_(this.dom,this.nodeDOM,sm(this.outerDeco,this.node,t),sm(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function lx(n,e,t,r,s){T_(r,e,n);let a=new pi(void 0,n,e,t,r,r,r,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Ju extends pi{constructor(e,t,r,s,a,l,u){super(e,t,r,s,a,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Jn||this.dirty!=kn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=kn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=kn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),a=document.createTextNode(s.text);return new Ju(this.parent,s,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class S_ extends Tl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fj extends pi{constructor(e,t,r,s,a,l,u,d,h,p){super(e,t,r,s,a,l,u,h,p),this.spec=d}update(e,t,r,s){if(this.dirty==Jn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function __(n,e,t){let r=n.firstChild,s=!1;for(let a=0;a<e.length;a++){let l=e[a],u=l.dom;if(u.parentNode==n){for(;u!=r;)r=cx(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(u,r);if(l instanceof fs){let d=r?r.previousSibling:n.lastChild;__(l.contentDOM,l.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=cx(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const Wo=function(n){n&&(this.nodeName=n)};Wo.prototype=Object.create(null);const Xi=[new Wo];function sm(n,e,t){if(n.length==0)return Xi;let r=t?Xi[0]:new Wo,s=[r];for(let a=0;a<n.length;a++){let l=n[a].type.attrs;if(l){l.nodeName&&s.push(r=new Wo(l.nodeName));for(let u in l){let d=l[u];d!=null&&(t&&s.length==1&&s.push(r=new Wo(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function k_(n,e,t,r){if(t==Xi&&r==Xi)return e;let s=e;for(let a=0;a<r.length;a++){let l=r[a],u=t[a];if(a){let d;u&&u.nodeName==l.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=Xi[0]),s=d}dj(s,u||Xi[0],l)}return s}function dj(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)s.indexOf(r[a])==-1&&n.classList.remove(r[a]);for(let a=0;a<s.length;a++)r.indexOf(s[a])==-1&&n.classList.add(s[a]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function T_(n,e,t){return k_(n,n,Xi,sm(e,t,n.nodeType!=1))}function wu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function cx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class hj{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=pj(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,a=this.stack.length>>1,l=Math.min(a,e.length);for(;s<l&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=kn,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[a])&&!this.isLocked(h.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=fs.create(this.top,e[a],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,r,s){let a=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))a=this.top.children.indexOf(l,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,r,s,a){let l=this.top.children[s];return l.dirty==Jn&&l.dom==l.contentDOM&&(l.dirty=Ji),l.update(e,t,r,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,a,l){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof pi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let p=d.dom,y,b=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Jn&&wu(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,s,l)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Ji,y.updateChildren(s,l+1),y.dirty=kn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,a,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!wu(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=pi.create(this.top,t,r,s,a,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,t,r,s,a){let l=pi.create(this.top,e,t,r,s,a);l.contentDOM&&l.updateChildren(s,a+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new w_(this.top,e,t,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof fs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ju)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bt||Mt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new S_(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function pj(n,e){let t=e,r=t.children.length,s=n.childCount,a=new Map,l=[];e:for(;s>0;){let u;for(;;)if(r){let h=t.children[r-1];if(h instanceof fs)t=h,r=h.children.length;else{u=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=u.node;if(d){if(d!=n.child(s-1))break;--s,a.set(u,s),l.push(u)}}return{index:s,matched:a,matches:l.reverse()}}function mj(n,e){return n.type.side-e.type.side}function gj(n,e,t,r){let s=e.locals(n),a=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let p=n.child(h);r(p,s,e.forChild(a,p),h),a+=p.nodeSize}return}let l=0,u=[],d=null;for(let h=0;;){let p,y;for(;l<s.length&&s[l].to==a;){let k=s[l++];k.widget&&(p?(y||(y=[p])).push(k):p=k)}if(p)if(y){y.sort(mj);for(let k=0;k<y.length;k++)t(y[k],h,!!d)}else t(p,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let k=0;k<u.length;k++)u[k].to<=a&&u.splice(k--,1);for(;l<s.length&&s[l].from<=a&&s[l].to>a;)u.push(s[l++]);let x=a+b.nodeSize;if(b.isText){let k=x;l<s.length&&s[l].from<k&&(k=s[l].from);for(let E=0;E<u.length;E++)u[E].to<k&&(k=u[E].to);k<x&&(d=b.cut(k-a),b=b.cut(0,k-a),x=k,v=-1)}else for(;l<s.length&&s[l].to<x;)l++;let _=b.isInline&&!b.isLeaf?u.filter(k=>!k.inline):u.slice();r(b,_,e.forChild(a,b),v),a=x}}function yj(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function bj(n,e,t,r){for(let s=0,a=0;s<n.childCount&&a<=r;){let l=n.child(s++),u=a;if(a+=l.nodeSize,!l.isText)continue;let d=l.text;for(;s<n.childCount;){let h=n.child(s++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=t){if(a>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?d.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=t)return u+h;if(t==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function am(n,e,t,r,s){let a=[];for(let l=0,u=0;l<n.length;l++){let d=n[l],h=u,p=u+=d.size;h>=t||p<=e?a.push(d):(h<e&&a.push(d.slice(0,e-h,r)),s&&(a.push(s),s=void 0),p>t&&a.push(d.slice(t-h,d.size,r)))}return a}function Km(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),a=s&&s.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let u=r.resolve(l),d,h;if(Ku(t)){for(d=l;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&ue.isSelectable(y)&&s.parent&&!(y.isInline&&V4(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;h=new ue(l==b?u:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=l,b=l;for(let v=0;v<t.rangeCount;v++){let x=t.getRangeAt(v);y=Math.min(y,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(y<0)return null;[d,l]=b==n.state.selection.anchor?[b,y]:[y,b],u=r.resolve(l)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<u.pos&&!a?1:-1;h=Jm(n,p,u,y)}return h}function E_(n){return n.editable?n.hasFocus():O_(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function xr(n,e=!1){let t=n.state.selection;if(C_(n,t),!!E_(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Mt){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&us(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)xj(n);else{let{anchor:r,head:s}=t,a,l;ux&&!(t instanceof ge)&&(t.$from.parent.inlineContent||(a=fx(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=fx(n,t.to))),n.docView.setSelection(r,s,n,e),ux&&(a&&dx(a),l&&dx(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vj(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const ux=Bt||Mt&&p_<63;function fx(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,a=r?t.childNodes[r-1]:null;if(Bt&&s&&s.contentEditable=="false")return Zh(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Zh(s);if(a)return Zh(a)}}function Zh(n){return n.contentEditable="true",Bt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function dx(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function vj(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!E_(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function xj(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,Tt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Kt&&hi<=11&&(r.disabled=!0,r.disabled=!1)}function C_(n,e){if(e instanceof ue){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(hx(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else hx(n)}function hx(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Jm(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||ge.between(e,t,r)}function px(n){return n.editable&&!n.hasFocus()?!1:O_(n)}function O_(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function wj(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return us(e.node,e.offset,t.anchorNode,t.anchorOffset)}function om(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),a=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Se.findFrom(a,e)}function ri(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function mx(n,e,t){let r=n.state.selection;if(r instanceof ge)if(t.indexOf("s")>-1){let{$head:s}=r,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let l=n.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return ri(n,new ge(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=om(n.state,e);return s&&s instanceof ue?ri(n,s):!1}else if(!(wn&&t.indexOf("m")>-1)){let s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!a||a.isText)return!1;let u=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(l=n.docView.descAt(u))&&!l.contentDOM?ue.isSelectable(a)?ri(n,new ue(e<0?n.state.doc.resolve(s.pos-a.nodeSize):s)):kl?ri(n,new ge(n.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ue&&r.node.isInline)return ri(n,new ge(e>0?r.$to:r.$from));{let s=om(n.state,e);return s?ri(n,s):!1}}}function Su(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Zo(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function fa(n,e){return e<0?Sj(n):_j(n)}function Sj(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,a,l=!1;for(Rn&&t.nodeType==1&&r<Su(t)&&Zo(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(Zo(u,-1))s=t,a=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(A_(t))break;{let u=t.previousSibling;for(;u&&Zo(u,-1);)s=t.parentNode,a=Tt(u),u=u.previousSibling;if(u)t=u,r=Su(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?lm(n,t,r):s&&lm(n,s,a)}function _j(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=Su(t),a,l;for(;;)if(r<s){if(t.nodeType!=1)break;let u=t.childNodes[r];if(Zo(u,1))a=t,l=++r;else break}else{if(A_(t))break;{let u=t.nextSibling;for(;u&&Zo(u,1);)a=u.parentNode,l=Tt(u)+1,u=u.nextSibling;if(u)t=u,r=0,s=Su(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}a&&lm(n,a,l)}function A_(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function kj(n,e){for(;n&&e==n.childNodes.length&&!_l(n);)e=Tt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Tj(n,e){for(;n&&!e&&!_l(n);)e=Tt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function lm(n,e,t){if(e.nodeType!=3){let a,l;(l=kj(e,t))?(e=l,t=0):(a=Tj(e,t))&&(e=a,t=a.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Ku(r)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&xr(n)},50)}function gx(n,e){let t=n.state.doc.resolve(e);if(!(Mt||G4)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let a=n.coordsAtPos(e-1),l=(a.top+a.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<t.end()){let a=n.coordsAtPos(e+1),l=(a.top+a.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function yx(n,e,t){let r=n.state.selection;if(r instanceof ge&&!r.empty||t.indexOf("s")>-1||wn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:a}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=om(n.state,e);if(l&&l instanceof ue)return ri(n,l)}if(!s.parent.inlineContent){let l=e<0?s:a,u=r instanceof un?Se.near(l,e):Se.findFrom(l,e);return u?ri(n,u):!1}return!1}function bx(n,e){if(!(n.state.selection instanceof ge))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let l=n.state.tr;return e<0?l.delete(t.pos-a.nodeSize,t.pos):l.delete(t.pos,t.pos+a.nodeSize),n.dispatch(l),!0}return!1}function vx(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Ej(n){if(!Bt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;vx(n,r,"true"),setTimeout(()=>vx(n,r,"false"),20)}return!1}function Cj(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Oj(n,e){let t=e.keyCode,r=Cj(e);if(t==8||wn&&t==72&&r=="c")return bx(n,-1)||fa(n,-1);if(t==46&&!e.shiftKey||wn&&t==68&&r=="c")return bx(n,1)||fa(n,1);if(t==13||t==27)return!0;if(t==37||wn&&t==66&&r=="c"){let s=t==37?gx(n,n.state.selection.from)=="ltr"?-1:1:-1;return mx(n,s,r)||fa(n,s)}else if(t==39||wn&&t==70&&r=="c"){let s=t==39?gx(n,n.state.selection.from)=="ltr"?1:-1:1;return mx(n,s,r)||fa(n,s)}else{if(t==38||wn&&t==80&&r=="c")return yx(n,-1,r)||fa(n,-1);if(t==40||wn&&t==78&&r=="c")return Ej(n)||yx(n,1,r)||fa(n,1);if(r==(wn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Xm(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,a--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let l=n.someProp("clipboardSerializer")||ms.fromSchema(n.state.schema),u=z_(),d=u.createElement("div");d.appendChild(l.serializeFragment(r,{document:u}));let h=d.firstChild,p,y=0;for(;h&&h.nodeType==1&&(p=D_[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let x=u.createElement(p[v]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function N_(n,e,t,r,s){let a=s.parent.type.spec.code,l,u;if(!t&&!e)return null;let d=e&&(r||a||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,a||r,n)}),a)return e?new ee(Y.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let y=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(y)u=y;else{let b=s.marks(),{schema:v}=n.state,x=ms.fromSchema(v);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(_=>{let k=l.appendChild(document.createElement("p"));_&&k.appendChild(x.serializeNode(v.text(_,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),l=Rj(t),kl&&jj(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let y=+p[3];y>0;y--){let b=l.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;l=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||di.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!Aj.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)u=Dj(xx(u,+p[1],+p[2]),p[4]);else if(u=ee.maxOpen(Nj(u.content,s),!0),u.openStart||u.openEnd){let y=0,b=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;b<u.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);u=xx(u,y,b)}return n.someProp("transformPasted",y=>{u=y(u,n)}),u}const Aj=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Nj(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),a,l=[];if(n.forEach(u=>{if(!l)return;let d=s.findWrapping(u.type),h;if(!d)return l=null;if(h=l.length&&a.length&&R_(d,a,u,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=j_(l[l.length-1],a.length));let p=M_(u,d);l.push(p),s=s.matchType(p.type),a=d}}),l)return Y.from(l)}return n}function M_(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Y.from(n));return n}function R_(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let a=R_(n,e,t,r.lastChild,s+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(Y.from(M_(t,n,s+1))))}}function j_(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,j_(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Y.empty,!0);return n.copy(t.append(r))}function cm(n,e,t,r,s,a){let l=e<0?n.firstChild:n.lastChild,u=l.content;return n.childCount>1&&(a=0),s<r-1&&(u=cm(u,e,t,r,s+1,a)),s>=t&&(u=e<0?l.contentMatchAt(0).fillBefore(u,a<=s).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(Y.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(u))}function xx(n,e,t){return e<n.openStart&&(n=new ee(cm(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ee(cm(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const D_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wx=null;function z_(){return wx||(wx=document.implementation.createHTMLDocument("title"))}let ep=null;function Mj(n){let e=window.trustedTypes;return e?(ep||(ep=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ep.createHTML(n)):n}function Rj(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=z_().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&D_[r[1].toLowerCase()])&&(n=s.map(a=>"<"+a+">").join("")+n+s.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=Mj(n),s)for(let a=0;a<s.length;a++)t=t.querySelector(s[a])||t;return t}function jj(n){let e=n.querySelectorAll(Mt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function Dj(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:a,openEnd:l}=n;for(let u=r.length-2;u>=0;u-=2){let d=t.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=Y.from(d.create(r[u+1],s)),a++,l++}return new ee(s,a,l)}const It={},Ut={},zj={touchstart:!0,touchmove:!0};class Lj{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Pj(n){for(let e in It){let t=It[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{Ij(n,r)&&!Qm(n,r)&&(n.editable||!(r.type in Ut))&&t(n,r)},zj[e]?{passive:!0}:void 0)}Bt&&n.dom.addEventListener("input",()=>null),um(n)}function ui(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function Bj(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function um(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Qm(n,r))})}function Qm(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function Ij(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function Uj(n,e){!Qm(n,e)&&It[e.type]&&(n.editable||!(e.type in Ut))&&It[e.type](n,e)}Ut.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!P_(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(yr&&Mt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Oa&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,Yi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||Oj(n,t)?t.preventDefault():ui(n,"key")};Ut.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ut.keypress=(n,e)=>{let t=e;if(P_(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||wn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ge)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,s))&&n.dispatch(n.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function Xu(n){return{left:n.clientX,top:n.clientY}}function $j(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Wm(n,e,t,r,s){if(r==-1)return!1;let a=n.state.doc.resolve(r);for(let l=a.depth+1;l>0;l--)if(n.someProp(e,u=>l>a.depth?u(n,t,a.nodeAfter,a.before(l),s,!0):u(n,t,a.node(l),a.before(l),s,!1)))return!0;return!1}function Sa(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function qj(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ue.isSelectable(r)?(Sa(n,new ue(t)),!0):!1}function Hj(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof ue&&(r=t.node);let a=n.state.doc.resolve(e);for(let l=a.depth+1;l>0;l--){let u=l>a.depth?a.nodeAfter:a.node(l);if(ue.isSelectable(u)){r&&t.$from.depth>0&&l>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?s=a.before(t.$from.depth):s=a.before(l);break}}return s!=null?(Sa(n,ue.create(n.state.doc,s)),!0):!1}function Vj(n,e,t,r,s){return Wm(n,"handleClickOn",e,t,r)||n.someProp("handleClick",a=>a(n,e,r))||(s?Hj(n,t):qj(n,t))}function Fj(n,e,t,r){return Wm(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function Yj(n,e,t,r){return Wm(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||Gj(n,t,r)}function Gj(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Sa(n,ge.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a),u=s.before(a);if(l.inlineContent)Sa(n,ge.create(r,u+1,u+1+l.content.size));else if(ue.isSelectable(l))Sa(n,ue.create(r,u));else continue;return!0}}function Zm(n){return _u(n)}const L_=wn?"metaKey":"ctrlKey";It.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Zm(n),s=Date.now(),a="singleClick";s-n.input.lastClick.time<500&&$j(t,n.input.lastClick)&&!t[L_]&&(n.input.lastClick.type=="singleClick"?a="doubleClick":n.input.lastClick.type=="doubleClick"&&(a="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:a};let l=n.posAtCoords(Xu(t));l&&(a=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Kj(n,l,t,!!r)):(a=="doubleClick"?Fj:Yj)(n,l.pos,l.inside,t)?t.preventDefault():ui(n,"pointer"))};class Kj{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[L_],this.allowDefault=r.shiftKey;let a,l;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),l=t.inside;else{let p=e.state.doc.resolve(t.pos);a=p.parent,l=p.depth?p.before():0}const u=s?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof ue&&h.from<=l&&h.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Rn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ui(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Xu(e))),this.updateAllowDefault(e),this.allowDefault||!t?ui(this.view,"pointer"):Vj(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bt&&this.mightDrag&&!this.mightDrag.node.isAtom||Mt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Sa(this.view,Se.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):ui(this.view,"pointer")}move(e){this.updateAllowDefault(e),ui(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}It.touchstart=n=>{n.input.lastTouch=Date.now(),Zm(n),ui(n,"pointer")};It.touchmove=n=>{n.input.lastTouch=Date.now(),ui(n,"pointer")};It.contextmenu=n=>Zm(n);function P_(n,e){return n.composing?!0:Bt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Jj=yr?5e3:-1;Ut.compositionstart=Ut.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ge&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),_u(n,!0),n.markCursor=null;else if(_u(n,!e.selection.empty),Rn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,a=r.focusOffset;s&&s.nodeType==1&&a!=0;){let l=a<0?s.lastChild:s.childNodes[a-1];if(!l)break;if(l.nodeType==3){let u=n.domSelection();u&&u.collapse(l,l.nodeValue.length);break}else s=l,a=-1}}n.input.composing=!0}B_(n,Jj)};Ut.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,B_(n,20))};function B_(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>_u(n),e))}function I_(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Qj());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Xj(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=q4(e.focusNode,e.focusOffset),r=H4(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,a=n.domObserver.lastChangedTextNode;if(t==a||r==a)return a;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return r}}return t||r}function Qj(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function _u(n,e=!1){if(!(yr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),I_(n),e||n.docView&&n.docView.dirty){let t=Km(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Wj(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const cl=Kt&&hi<15||Oa&&K4<604;It.copy=Ut.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let a=cl?null:t.clipboardData,l=r.content(),{dom:u,text:d}=Xm(n,l);a?(t.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",d)):Wj(n,u),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Zj(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function eD(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?ul(n,r.value,null,s,e):ul(n,r.textContent,r.innerHTML,s,e)},50)}function ul(n,e,t,r,s){let a=N_(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,a||ee.empty)))return!0;if(!a)return!1;let l=Zj(a),u=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(a);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function U_(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Ut.paste=(n,e)=>{let t=e;if(n.composing&&!yr)return;let r=cl?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&ul(n,U_(r),r.getData("text/html"),s,t)?t.preventDefault():eD(n,t)};class $_{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const tD=wn?"altKey":"ctrlKey";function q_(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[tD]}It.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,a=s.empty?null:n.posAtCoords(Xu(t)),l;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof ue?s.to-1:s.to))){if(r&&r.mightDrag)l=ue.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(l=ue.create(n.state.doc,y.posBefore))}}let u=(l||n.state.selection).content(),{dom:d,text:h,slice:p}=Xm(n,u);(!t.dataTransfer.files.length||!Mt||p_>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(cl?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",cl||t.dataTransfer.setData("text/plain",h),n.dragging=new $_(p,q_(n,t),l)};It.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ut.dragover=Ut.dragenter=(n,e)=>e.preventDefault();Ut.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(Xu(t));if(!s)return;let a=n.state.doc.resolve(s.pos),l=r&&r.slice;l?n.someProp("transformPasted",x=>{l=x(l,n)}):l=N_(n,U_(t.dataTransfer),cl?null:t.dataTransfer.getData("text/html"),!1,a);let u=!!(r&&q_(n,t));if(n.someProp("handleDrop",x=>x(n,t,l||ee.empty,u))){t.preventDefault();return}if(!l)return;t.preventDefault();let d=l?a_(n.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let h=n.state.tr;if(u){let{node:x}=r;x?x.replace(h):h.deleteSelection()}let p=h.mapping.map(d),y=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,b=h.doc;if(y?h.replaceRangeWith(p,p,l.content.firstChild):h.replaceRange(p,p,l),h.doc.eq(b))return;let v=h.doc.resolve(p);if(y&&ue.isSelectable(l.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new ue(v));else{let x=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((_,k,E,N)=>x=N),h.setSelection(Jm(n,v,h.doc.resolve(x)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};It.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&xr(n)},20))};It.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};It.beforeinput=(n,e)=>{if(Mt&&yr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,Yi(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in Ut)It[n]=Ut[n];function fl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ku{constructor(e,t){this.toDOM=e,this.spec=t||ts,this.side=this.spec.side||0}map(e,t,r,s){let{pos:a,deleted:l}=e.mapResult(t.from+s,this.side<0?-1:1);return l?null:new _n(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ku&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&fl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class mi{constructor(e,t){this.attrs=e,this.spec=t||ts}map(e,t,r,s){let a=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return a>=l?null:new _n(a,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof mi&&fl(this.attrs,e.attrs)&&fl(this.spec,e.spec)}static is(e){return e.type instanceof mi}destroy(){}}class eg{constructor(e,t){this.attrs=e,this.spec=t||ts}map(e,t,r,s){let a=e.mapResult(t.from+s,1);if(a.deleted)return null;let l=e.mapResult(t.to+s,-1);return l.deleted||l.pos<=a.pos?null:new _n(a.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),a;return s==t.from&&!(a=e.child(r)).isText&&s+a.nodeSize==t.to}eq(e){return this==e||e instanceof eg&&fl(this.attrs,e.attrs)&&fl(this.spec,e.spec)}destroy(){}}class _n{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new _n(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new _n(e,e,new ku(t,r))}static inline(e,t,r,s){return new _n(e,t,new mi(r,s))}static node(e,t,r,s){return new _n(e,t,new eg(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof mi}get widget(){return this.type instanceof ku}}const pa=[],ts={};class ot{constructor(e,t){this.local=e.length?e:pa,this.children=t.length?t:pa}static create(e,t){return t.length?Tu(t,e,0,ts):Nt}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,a){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=t&&u.to>=e&&(!a||a(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,t-u,r,s+u,a)}}map(e,t,r){return this==Nt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ts)}mapInner(e,t,r,s,a){let l;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,s);d&&d.type.valid(t,d)?(l||(l=[])).push(d):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?nD(this.children,l||[],e,t,r,s,a):l?new ot(l.sort(ns),pa):Nt}add(e,t){return t.length?this==Nt?ot.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,a=0;e.forEach((u,d)=>{let h=d+r,p;if(p=V_(t,u,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<d;)a+=3;s[a]==d?s[a+2]=s[a+2].addInner(u,p,h+1):s.splice(a,0,d,d+u.nodeSize,Tu(p,u,h+1,ts)),a+=3}});let l=H_(a?F_(t):t,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new ot(l.length?this.local.concat(l).sort(ns):this.local,s||this.children)}remove(e){return e.length==0||this==Nt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let a=0;a<r.length;a+=3){let l,u=r[a]+t,d=r[a+1]+t;for(let p=0,y;p<e.length;p++)(y=e[p])&&y.from>u&&y.to<d&&(e[p]=null,(l||(l=[])).push(y));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[a+2].removeInner(l,u+1);h!=Nt?r[a+2]=h:(r.splice(a,3),a-=3)}if(s.length){for(let a=0,l;a<e.length;a++)if(l=e[a])for(let u=0;u<s.length;u++)s[u].eq(l,t)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ot(s,r):Nt}forChild(e,t){if(this==Nt)return this;if(t.isLeaf)return ot.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let a=e+1,l=a+t.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<l&&d.to>a&&d.type instanceof mi){let h=Math.max(a,d.from)-a,p=Math.min(l,d.to)-a;h<p&&(s||(s=[])).push(d.copy(h,p))}}if(s){let u=new ot(s.sort(ns),pa);return r?new oi([u,r]):u}return r||Nt}eq(e){if(this==e)return!0;if(!(e instanceof ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return tg(this.localsInner(e))}localsInner(e){if(this==Nt)return pa;if(e.inlineContent||!this.local.some(mi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof mi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}ot.empty=new ot([],[]);ot.removeOverlap=tg;const Nt=ot.empty;class oi{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,ts));return oi.from(r)}forChild(e,t){if(t.isLeaf)return ot.empty;let r=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,t);a!=Nt&&(a instanceof oi?r=r.concat(a.members):r.push(a))}return oi.from(r)}eq(e){if(!(e instanceof oi)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!t)t=a;else{r&&(t=t.slice(),r=!1);for(let l=0;l<a.length;l++)t.push(a[l])}}return t?tg(r?t:t.sort(ns)):pa}static from(e){switch(e.length){case 0:return Nt;case 1:return e[0];default:return new oi(e.every(t=>t instanceof ot)?e:e.reduce((t,r)=>t.concat(r instanceof ot?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function nD(n,e,t,r,s,a,l){let u=n.slice();for(let h=0,p=a;h<t.maps.length;h++){let y=0;t.maps[h].forEach((b,v,x,_)=>{let k=_-x-(v-b);for(let E=0;E<u.length;E+=3){let N=u[E+1];if(N<0||b>N+p-y)continue;let O=u[E]+p-y;v>=O?u[E+1]=b<=O?-2:-1:b>=p&&k&&(u[E]+=k,u[E+1]+=k)}y+=k}),p=t.maps[h].map(p,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let p=t.map(n[h]+a),y=p-s;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+a,-1),v=b-s,{index:x,offset:_}=r.content.findIndex(y),k=r.maybeChild(x);if(k&&_==y&&_+k.nodeSize==v){let E=u[h+2].mapInner(t,k,p+1,n[h]+a+1,l);E!=Nt?(u[h]=y,u[h+1]=v,u[h+2]=E):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=rD(u,n,e,t,s,a,l),p=Tu(h,r,0,l);e=p.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,b=0;y<p.children.length;y+=3){let v=p.children[y];for(;b<u.length&&u[b]<v;)b+=3;u.splice(b,0,p.children[y],p.children[y+1],p.children[y+2])}}return new ot(e.sort(ns),u)}function H_(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new _n(s.from+e,s.to+e,s.type))}return t}function rD(n,e,t,r,s,a,l){function u(d,h){for(let p=0;p<d.local.length;p++){let y=d.local[p].map(r,s,h);y?t.push(y):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&u(n[d+2],e[d]+a+1);return t}function V_(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let a=0,l;a<n.length;a++)(l=n[a])&&l.from>t&&l.to<r&&((s||(s=[])).push(l),n[a]=null);return s}function F_(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Tu(n,e,t,r){let s=[],a=!1;e.forEach((u,d)=>{let h=V_(n,u,d+t);if(h){a=!0;let p=Tu(h,u,t+d+1,r);p!=Nt&&s.push(d,d+u.nodeSize,p)}});let l=H_(a?F_(n):n,-t).sort(ns);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||s.length?new ot(l,s):Nt}function ns(n,e){return n.from-e.from||n.to-e.to}function tg(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let a=e[s];if(a.from==r.from){a.to!=r.to&&(e==n&&(e=n.slice()),e[s]=a.copy(a.from,r.to),Sx(e,s+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,a.from),Sx(e,s,r.copy(a.from,r.to)));break}}}return e}function Sx(n,e,t){for(;e<n.length&&ns(t,n[e])>0;)e++;n.splice(e,0,t)}function tp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Nt&&e.push(r)}),n.cursorWrapper&&e.push(ot.create(n.state.doc,[n.cursorWrapper.deco])),oi.from(e)}const iD={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sD=Kt&&hi<=11;class aD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class oD{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new aD,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Kt&&hi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),sD&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iD)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(px(this.view)){if(this.suppressingSelectionUpdates)return xr(this.view);if(Kt&&hi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&us(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let a=e.focusNode;a;a=Ca(a))t.add(a);for(let a=e.anchorNode;a;a=Ca(a))if(t.has(a)){r=a;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&px(e)&&!this.ignoreSelectionChange(r),a=-1,l=-1,u=!1,d=[];if(e.editable)for(let p=0;p<t.length;p++){let y=this.registerMutation(t[p],d);y&&(a=a<0?y.from:Math.min(y.from,a),l=l<0?y.to:Math.max(y.to,l),y.typeOver&&(u=!0))}if(Rn&&d.length){let p=d.filter(y=>y.nodeName=="BR");if(p.length==2){let[y,b]=p;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of p){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||uD(e,y)!=v)&&b.remove()}}}let h=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ku(r)&&(h=Km(e))&&h.eq(Se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xr(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,l),lD(e)),this.handleDOMChange(a,l,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let y=e.addedNodes[p];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Kt&&hi<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:y,nextSibling:b}=e.addedNodes[p];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let l=s&&s.parentNode==e.target?Tt(s)+1:0,u=r.localPosFromDOM(e.target,l,-1),d=a&&a.parentNode==e.target?Tt(a):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let _x=new WeakMap,kx=!1;function lD(n){if(!_x.has(n)&&(_x.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Rn,kx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kx=!0}}function Tx(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,a=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return us(l.node,l.offset,s,a)&&([t,r,s,a]=[s,a,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:a}}function cD(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Tx(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Tx(n,t):null}function uD(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function fD(n,e,t){let{node:r,fromOffset:s,toOffset:a,from:l,to:u}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,p=d.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],Ku(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Mt&&n.input.lastKeyCode===8)for(let k=a;k>s;k--){let E=r.childNodes[k-1],N=E.pmViewDesc;if(E.nodeName=="BR"&&!N){a=k;break}if(!N||N.size)break}let y=n.state.doc,b=n.someProp("domParser")||di.fromSchema(n.state.schema),v=y.resolve(l),x=null,_=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:dD,context:v});if(h&&h[0].pos!=null){let k=h[0].pos,E=h[1]&&h[1].pos;E==null&&(E=k),x={anchor:k+l,head:E+l}}return{doc:_,sel:x,from:l,to:u}}function dD(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Bt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Bt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hD=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pD(n,e,t,r,s){let a=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let q=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,W=Km(n,q);if(W&&!n.state.selection.eq(W)){if(Mt&&yr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ve=>ve(n,Yi(13,"Enter"))))return;let ne=n.state.tr.setSelection(W);q=="pointer"?ne.setMeta("pointer",!0):q=="key"&&ne.scrollIntoView(),a&&ne.setMeta("composition",a),n.dispatch(ne)}return}let l=n.state.doc.resolve(e),u=l.sharedDepth(t);e=l.before(u+1),t=n.state.doc.resolve(t).after(u+1);let d=n.state.selection,h=fD(n,e,t),p=n.state.doc,y=p.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let x=yD(y.content,h.doc.content,h.from,b,v);if(x&&n.input.domChangeCount++,(Oa&&n.input.lastIOSEnter>Date.now()-225||yr)&&s.some(q=>q.nodeType==1&&!hD.test(q.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",q=>q(n,Yi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof ge&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let q=Ex(n,n.state.doc,h.sel);if(q&&!q.eq(n.state.selection)){let W=n.state.tr.setSelection(q);a&&W.setMeta("composition",a),n.dispatch(W)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof ge&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Kt&&hi<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let _=h.doc.resolveNoCache(x.start-h.from),k=h.doc.resolveNoCache(x.endB-h.from),E=p.resolve(x.start),N=_.sameParent(k)&&_.parent.inlineContent&&E.end()>=x.endA,O;if((Oa&&n.input.lastIOSEnter>Date.now()-225&&(!N||s.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!N&&_.pos<h.doc.content.size&&(!_.sameParent(k)||!_.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(_.pos,k.pos,"",""))&&(O=Se.findFrom(h.doc.resolve(_.pos+1),1,!0))&&O.head>_.pos)&&n.someProp("handleKeyDown",q=>q(n,Yi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&gD(p,x.start,x.endA,_,k)&&n.someProp("handleKeyDown",q=>q(n,Yi(8,"Backspace")))){yr&&Mt&&n.domObserver.suppressSelectionUpdates();return}Mt&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),yr&&!N&&_.start()!=k.start()&&k.parentOffset==0&&_.depth==k.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,k=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(q){return q(n,Yi(13,"Enter"))})},20));let B=x.start,D=x.endA,J,G,X;if(N){if(_.pos==k.pos)Kt&&hi<=11&&_.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>xr(n),20)),J=n.state.tr.delete(B,D),G=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(X=mD(_.parent.content.cut(_.parentOffset,k.parentOffset),E.parent.content.cut(E.parentOffset,x.endA-E.start()))))J=n.state.tr,X.type=="add"?J.addMark(B,D,X.mark):J.removeMark(B,D,X.mark);else if(_.parent.child(_.index()).isText&&_.index()==k.index()-(k.textOffset?0:1)){let q=_.parent.textBetween(_.parentOffset,k.parentOffset);if(n.someProp("handleTextInput",W=>W(n,B,D,q)))return;J=n.state.tr.insertText(q,B,D)}}if(J||(J=n.state.tr.replace(B,D,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let q=Ex(n,J.doc,h.sel);q&&!(Mt&&n.composing&&q.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(q.head==B||q.head==J.mapping.map(D)-1)||Kt&&q.empty&&q.head==B)&&J.setSelection(q)}G&&J.ensureMarks(G),a&&J.setMeta("composition",a),n.dispatch(J.scrollIntoView())}function Ex(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Jm(n,e.resolve(t.anchor),e.resolve(t.head))}function mD(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,a=r,l,u,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<t.length;p++)a=t[p].removeFromSet(a);if(s.length==1&&a.length==0)u=s[0],l="add",d=p=>p.mark(u.addToSet(p.marks));else if(s.length==0&&a.length==1)u=a[0],l="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(d(e.child(p)));if(Y.from(h).eq(n))return{mark:u,type:l}}function gD(n,e,t,r,s){if(t-e<=s.pos-r.pos||np(r,!0,!1)<s.pos)return!1;let a=n.resolve(e);if(!r.parent.isTextblock){let u=a.nodeAfter;return u!=null&&t==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let l=n.resolve(np(a,!0,!0));return!l.parent.isTextblock||l.pos>t||np(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function np(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let a=n.node(r).maybeChild(n.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function yD(n,e,t,r,s){let a=n.findDiffStart(e,t);if(a==null)return null;let{a:l,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,a-Math.min(l,u));r-=l+d-a}if(l<a&&n.size<e.size){let d=r<=a&&r>=l?a-r:0;a-=d,a&&a<e.size&&Cx(e.textBetween(a-1,a+1))&&(a+=d?1:-1),u=a+(u-l),l=a}else if(u<a){let d=r<=a&&r>=u?a-r:0;a-=d,a&&a<n.size&&Cx(n.textBetween(a-1,a+1))&&(a+=d?1:-1),l=a+(l-u),u=a}return{start:a,endA:l,endB:u}}function Cx(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class bD{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Lj,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Rx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Nx(this),Ax(this),this.nodeViews=Mx(this),this.docView=lx(this.state.doc,Ox(this),tp(this),this.dom,this),this.domObserver=new oD(this,(r,s,a,l)=>pD(this,r,s,a,l)),this.domObserver.start(),Pj(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&um(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Rx),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,a=!1,l=!1;e.storedMarks&&this.composing&&(I_(this),l=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=Mx(this);xD(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&um(this),this.editable=Nx(this),Ax(this);let d=tp(this),h=Ox(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(l=!0);let b=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&Q4(this);if(l){this.domObserver.stop();let v=y&&(Kt||Mt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&vD(s.selection,e.selection);if(y){let x=Mt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Xj(this)),(a||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=lx(e.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&wj(this))?xr(this,v):(C_(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&W4(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ue){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&nx(this,t.getBoundingClientRect(),e)}else nx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let a=r.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(s=a)}this.dragging=new $_(e.slice,e.move,s<0?void 0:ue.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(s=t?t(u):u))return s}let a=this.state.plugins;if(a)for(let l=0;l<a.length;l++){let u=a[l].props[e];if(u!=null&&(s=t?t(u):u))return s}}hasFocus(){if(Kt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Z4(this.dom),xr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ij(this,e)}coordsAtPos(e,t=1){return v_(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return cj(this,t||this.state,e)}pasteHTML(e,t){return ul(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ul(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xm(this,e)}destroy(){this.docView&&(Bj(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,U4())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Uj(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Bt&&this.root.nodeType===11&&F4(this.dom.ownerDocument)==this.dom&&cD(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Ox(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[_n.node(0,n.state.doc.content.size,e)]}function Ax(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:_n.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Nx(n){return!n.someProp("editable",e=>e(n.state)===!1)}function vD(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Mx(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function xD(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function Rx(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var vi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Eu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},wD=typeof navigator<"u"&&/Mac/.test(navigator.platform),SD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Et=0;Et<10;Et++)vi[48+Et]=vi[96+Et]=String(Et);for(var Et=1;Et<=24;Et++)vi[Et+111]="F"+Et;for(var Et=65;Et<=90;Et++)vi[Et]=String.fromCharCode(Et+32),Eu[Et]=String.fromCharCode(Et);for(var rp in vi)Eu.hasOwnProperty(rp)||(Eu[rp]=vi[rp]);function _D(n){var e=wD&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||SD&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Eu:vi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const kD=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),TD=typeof navigator<"u"&&/Win/.test(navigator.platform);function ED(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,a,l;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))kD?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),l&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function CD(n){let e=Object.create(null);for(let t in n)e[ED(t)]=n[t];return e}function ip(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function OD(n){return new Xt({props:{handleKeyDown:Y_(n)}})}function Y_(n){let e=CD(n);return function(t,r){let s=_D(r),a,l=e[ip(s,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[ip(s,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(TD&&r.ctrlKey&&r.altKey)&&(a=vi[r.keyCode])&&a!=s){let u=e[ip(a,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const ng=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function G_(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const K_=(n,e,t)=>{let r=G_(n,t);if(!r)return!1;let s=rg(r);if(!s){let l=r.blockRange(),u=l&&za(l);return u==null?!1:(e&&e(n.tr.lift(l,u).scrollIntoView()),!0)}let a=s.nodeBefore;if(rk(n,s,e,-1))return!0;if(r.parent.content.size==0&&(Aa(a,"end")||ue.isSelectable(a)))for(let l=r.depth;;l--){let u=Yu(n.doc,r.before(l),r.after(l),ee.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=n.tr.step(u);d.setSelection(Aa(a,"end")?Se.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ue.create(d.doc,s.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return a.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},AD=(n,e,t)=>{let r=G_(n,t);if(!r)return!1;let s=rg(r);return s?J_(n,s,e):!1},ND=(n,e,t)=>{let r=Q_(n,t);if(!r)return!1;let s=ig(r);return s?J_(n,s,e):!1};function J_(n,e,t){let r=e.nodeBefore,s=r,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let l=e.nodeAfter,u=l,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=Yu(n.doc,a,d,ee.empty);if(!h||h.from!=a||h instanceof mt&&h.slice.size>=d-a)return!1;if(t){let p=n.tr.step(h);p.setSelection(ge.create(p.doc,a)),t(p.scrollIntoView())}return!0}function Aa(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const X_=(n,e,t)=>{let{$head:r,empty:s}=n.selection,a=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;a=rg(r)}let l=a&&a.nodeBefore;return!l||!ue.isSelectable(l)?!1:(e&&e(n.tr.setSelection(ue.create(n.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)};function rg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Q_(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const W_=(n,e,t)=>{let r=Q_(n,t);if(!r)return!1;let s=ig(r);if(!s)return!1;let a=s.nodeAfter;if(rk(n,s,e,1))return!0;if(r.parent.content.size==0&&(Aa(a,"start")||ue.isSelectable(a))){let l=Yu(n.doc,r.before(),r.after(),ee.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=n.tr.step(l);u.setSelection(Aa(a,"start")?Se.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):ue.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},Z_=(n,e,t)=>{let{$head:r,empty:s}=n.selection,a=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;a=ig(r)}let l=a&&a.nodeAfter;return!l||!ue.isSelectable(l)?!1:(e&&e(n.tr.setSelection(ue.create(n.doc,a.pos)).scrollIntoView()),!0)};function ig(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const MD=(n,e)=>{let t=n.selection,r=t instanceof ue,s;if(r){if(t.node.isTextblock||!Si(n.doc,t.from))return!1;s=t.from}else if(s=Fu(n.doc,t.from,-1),s==null)return!1;if(e){let a=n.tr.join(s);r&&a.setSelection(ue.create(a.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},RD=(n,e)=>{let t=n.selection,r;if(t instanceof ue){if(t.node.isTextblock||!Si(n.doc,t.to))return!1;r=t.to}else if(r=Fu(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},jD=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),a=s&&za(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)},ek=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function sg(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const DD=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),a=t.indexAfter(-1),l=sg(s.contentMatchAt(a));if(!l||!s.canReplaceWith(a,a,l))return!1;if(e){let u=t.after(),d=n.tr.replaceWith(u,u,l.createAndFill());d.setSelection(Se.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},tk=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof un||r.parent.inlineContent||s.parent.inlineContent)return!1;let a=sg(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=n.tr.insert(l,a.createAndFill());u.setSelection(ge.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},nk=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(vr(n.doc,a))return e&&e(n.tr.split(a).scrollIntoView()),!0}let r=t.blockRange(),s=r&&za(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function zD(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ue&&e.selection.node.isBlock)return!r.parentOffset||!vr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],l,u,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=sg(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),a.unshift(d&&u?{type:u}:null),l=v;break}else{if(v==1)return!1;a.unshift(null)}let p=e.tr;(e.selection instanceof ge||e.selection instanceof un)&&p.deleteSelection();let y=p.mapping.map(r.pos),b=vr(p.doc,y,a.length,a);if(b||(a[0]=u?{type:u}:null,b=vr(p.doc,y,a.length,a)),!b)return!1;if(p.split(y,a.length,a),!d&&h&&r.node(l).type!=u){let v=p.mapping.map(r.before(l)),x=p.doc.resolve(v);u&&r.node(l-1).canReplaceWith(x.index(),x.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(l)),u)}return t&&t(p.scrollIntoView()),!0}}const LD=zD(),PD=(n,e)=>{let{$from:t,to:r}=n.selection,s,a=t.sharedDepth(r);return a==0?!1:(s=t.before(a),e&&e(n.tr.setSelection(ue.create(n.doc,s))),!0)};function BD(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,a=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||Si(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function rk(n,e,t,r){let s=e.nodeBefore,a=e.nodeAfter,l,u,d=s.type.spec.isolating||a.type.spec.isolating;if(!d&&BD(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(u=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&u.matchType(l[0]||a.type).validEnd){if(t){let v=e.pos+a.nodeSize,x=Y.empty;for(let E=l.length-1;E>=0;E--)x=Y.from(l[E].create(null,x));x=Y.from(s.copy(x));let _=n.tr.step(new gt(e.pos-1,v,e.pos,v,new ee(x,1,0),l.length,!0)),k=_.doc.resolve(v+2*l.length);k.nodeAfter&&k.nodeAfter.type==s.type&&Si(_.doc,k.pos)&&_.join(k.pos),t(_.scrollIntoView())}return!0}let p=a.type.spec.isolating||r>0&&d?null:Se.findFrom(e,1),y=p&&p.$from.blockRange(p.$to),b=y&&za(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(h&&Aa(a,"start",!0)&&Aa(s,"end")){let v=s,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let _=a,k=1;for(;!_.isTextblock;_=_.firstChild)k++;if(v.canReplace(v.childCount,v.childCount,_.content)){if(t){let E=Y.empty;for(let O=x.length-1;O>=0;O--)E=Y.from(x[O].copy(E));let N=n.tr.step(new gt(e.pos-x.length,e.pos+a.nodeSize,e.pos+k,e.pos+a.nodeSize-k,new ee(E,x.length,0),0,!0));t(N.scrollIntoView())}return!0}}return!1}function ik(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(t&&t(e.tr.setSelection(ge.create(e.doc,n<0?s.start(a):s.end(a)))),!0):!1}}const ID=ik(-1),UD=ik(1);function $D(n,e=null){return function(t,r){let{$from:s,$to:a}=t.selection,l=s.blockRange(a),u=l&&Fm(l,n,e);return u?(r&&r(t.tr.wrap(l,u).scrollIntoView()),!0):!1}}function jx(n,e=null){return function(t,r){let s=!1;for(let a=0;a<t.selection.ranges.length&&!s;a++){let{$from:{pos:l},$to:{pos:u}}=t.selection.ranges[a];t.doc.nodesBetween(l,u,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let p=t.doc.resolve(h),y=p.index();s=p.parent.canReplaceWith(y,y+1,n)}})}if(!s)return!1;if(r){let a=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:d}}=t.selection.ranges[l];a.setBlockType(u,d,n,e)}r(a.scrollIntoView())}return!0}}function ag(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}ag(ng,K_,X_);ag(ng,W_,Z_);ag(ek,tk,nk,LD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function qD(n,e=null){return function(t,r){let{$from:s,$to:a}=t.selection,l=s.blockRange(a);if(!l)return!1;let u=r?t.tr:null;return HD(u,l,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function HD(n,e,t,r=null){let s=!1,a=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);a=new vu(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new vu(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=Fm(a,t,r,e);return u?(n&&VD(n,e,u,s,t),!0):!1}function VD(n,e,t,r,s){let a=Y.empty;for(let p=t.length-1;p>=0;p--)a=Y.from(t[p].type.create(t[p].attrs,a));n.step(new gt(e.start-(r?2:0),e.end,e.start,e.end,new ee(a,0,0),t.length,!0));let l=0;for(let p=0;p<t.length;p++)t[p].type==s&&(l=p+1);let u=t.length-l,d=e.start+t.length-(r?2:0),h=e.parent;for(let p=e.startIndex,y=e.endIndex,b=!0;p<y;p++,b=!1)!b&&vr(n.doc,d,u)&&(n.split(d,u),d+=2*u),d+=h.child(p).nodeSize;return n}function FD(n){return function(e,t){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==n);return a?t?r.node(a.depth-1).type==n?YD(e,t,n,a):GD(e,t,a):!0:!1}}function YD(n,e,t,r){let s=n.tr,a=r.end,l=r.$to.end(r.depth);a<l&&(s.step(new gt(a-1,l,a,l,new ee(Y.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new vu(s.doc.resolve(r.$from.pos),s.doc.resolve(l),r.depth));const u=za(r);if(u==null)return!1;s.lift(r,u);let d=s.doc.resolve(s.mapping.map(a,-1)-1);return Si(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function GD(n,e,t){let r=n.tr,s=t.parent;for(let v=t.end,x=t.endIndex-1,_=t.startIndex;x>_;x--)v-=s.child(x).nodeSize,r.delete(v-1,v+1);let a=r.doc.resolve(t.start),l=a.nodeAfter;if(r.mapping.map(t.end)!=t.start+a.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,d=t.endIndex==s.childCount,h=a.node(-1),p=a.index(-1);if(!h.canReplace(p+(u?0:1),p+1,l.content.append(d?Y.empty:Y.from(s))))return!1;let y=a.pos,b=y+l.nodeSize;return r.step(new gt(y-(u?1:0),b+(d?1:0),y+1,b-1,new ee((u?Y.empty:Y.from(s.copy(Y.empty))).append(d?Y.empty:Y.from(s.copy(Y.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function KD(n){return function(e,t){let{$from:r,$to:s}=e.selection,a=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!a)return!1;let l=a.startIndex;if(l==0)return!1;let u=a.parent,d=u.child(l-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==u.type,p=Y.from(h?n.create():null),y=new ee(Y.from(n.create(null,Y.from(u.type.create(null,p)))),h?3:1,0),b=a.start,v=a.end;t(e.tr.step(new gt(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}function Qu(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:a}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,a=t.storedMarks,t}}}class Wu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:a}=r,l=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...p)=>{const y=d(...p)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(a),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:a}=this,{view:l}=s,u=[],d=!!e,h=e||a.tr,p=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(h),u.every(b=>b===!0)),y={...Object.fromEntries(Object.entries(r).map(([b,v])=>[b,(..._)=>{const k=this.buildProps(h,t),E=v(..._)(k);return u.push(E),y}])),run:p};return y}createCan(e){const{rawCommands:t,state:r}=this,s=!1,a=e||r.tr,l=this.buildProps(a,s);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...p)=>h(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:a}=this,{view:l}=s,u={tr:e,editor:s,view:l,state:Qu({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...p)=>h(...p)(u)]))}};return u}}class JD{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ie(n,e,t){return n.config[e]===void 0&&n.parent?ie(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ie(n.parent,e,t):null}):n.config[e]}function Zu(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function sk(n){const e=[],{nodeExtensions:t,markExtensions:r}=Zu(n),s=[...t,...r],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage,extensions:s},d=ie(l,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(y=>{Object.entries(p.attributes).forEach(([b,v])=>{e.push({type:y,name:b,attribute:{...a,...v}})})})})}),s.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=ie(l,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([p,y])=>{const b={...a,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:l.name,name:p,attribute:b})})}),e}function bt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function vt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,a])=>{if(!r[s]){r[s]=a;return}if(s==="class"){const u=a?String(a).split(" "):[],d=r[s]?r[s].split(" "):[],h=u.filter(p=>!d.includes(p));r[s]=[...d,...h].join(" ")}else if(s==="style"){const u=a?a.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[y,b]=p.split(":").map(v=>v.trim());h.set(y,b)}),u.forEach(p=>{const[y,b]=p.split(":").map(v=>v.trim());h.set(y,b)}),r[s]=Array.from(h.entries()).map(([p,y])=>`${p}: ${y}`).join("; ")}else r[s]=a}),r},{})}function fm(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>vt(t,r),{})}function ak(n){return typeof n=="function"}function ke(n,e=void 0,...t){return ak(n)?e?n.bind(e)(...t):n(...t):n}function XD(n={}){return Object.keys(n).length===0&&n.constructor===Object}function QD(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Dx(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((a,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(t):QD(t.getAttribute(l.name));return u==null?a:{...a,[l.name]:u}},{});return{...r,...s}}}}function zx(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&XD(t)?!1:t!=null))}function WD(n,e){var t;const r=sk(n),{nodeExtensions:s,markExtensions:a}=Zu(n),l=(t=s.find(h=>ie(h,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(s.map(h=>{const p=r.filter(E=>E.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((E,N)=>{const O=ie(N,"extendNodeSchema",y);return{...E,...O?O(h):{}}},{}),v=zx({...b,content:ke(ie(h,"content",y)),marks:ke(ie(h,"marks",y)),group:ke(ie(h,"group",y)),inline:ke(ie(h,"inline",y)),atom:ke(ie(h,"atom",y)),selectable:ke(ie(h,"selectable",y)),draggable:ke(ie(h,"draggable",y)),code:ke(ie(h,"code",y)),whitespace:ke(ie(h,"whitespace",y)),linebreakReplacement:ke(ie(h,"linebreakReplacement",y)),defining:ke(ie(h,"defining",y)),isolating:ke(ie(h,"isolating",y)),attrs:Object.fromEntries(p.map(E=>{var N;return[E.name,{default:(N=E==null?void 0:E.attribute)===null||N===void 0?void 0:N.default}]}))}),x=ke(ie(h,"parseHTML",y));x&&(v.parseDOM=x.map(E=>Dx(E,p)));const _=ie(h,"renderHTML",y);_&&(v.toDOM=E=>_({node:E,HTMLAttributes:fm(E,p)}));const k=ie(h,"renderText",y);return k&&(v.toText=k),[h.name,v]})),d=Object.fromEntries(a.map(h=>{const p=r.filter(k=>k.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((k,E)=>{const N=ie(E,"extendMarkSchema",y);return{...k,...N?N(h):{}}},{}),v=zx({...b,inclusive:ke(ie(h,"inclusive",y)),excludes:ke(ie(h,"excludes",y)),group:ke(ie(h,"group",y)),spanning:ke(ie(h,"spanning",y)),code:ke(ie(h,"code",y)),attrs:Object.fromEntries(p.map(k=>{var E;return[k.name,{default:(E=k==null?void 0:k.attribute)===null||E===void 0?void 0:E.default}]}))}),x=ke(ie(h,"parseHTML",y));x&&(v.parseDOM=x.map(k=>Dx(k,p)));const _=ie(h,"renderHTML",y);return _&&(v.toDOM=k=>_({mark:k,HTMLAttributes:fm(k,p)})),[h.name,v]}));return new JS({topNode:l,nodes:u,marks:d})}function sp(n,e){return e.nodes[n]||e.marks[n]||null}function Lx(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function og(n,e){const t=ms.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const ZD=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,a,l,u)=>{var d,h;const p=((h=(d=s.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:s,pos:a,parent:l,index:u}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-a))}),t};function lg(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class ef{constructor(e){this.find=e.find,this.handler=e.handler}}const e5=(n,e)=>{if(lg(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Qc(n){var e;const{editor:t,from:r,to:s,text:a,rules:l,plugin:u}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const y=ZD(h)+a;return l.forEach(b=>{if(p)return;const v=e5(y,b.find);if(!v)return;const x=d.state.tr,_=Qu({state:d.state,transaction:x}),k={from:r-(v[0].length-a.length),to:s},{commands:E,chain:N,can:O}=new Wu({editor:t,state:_});b.handler({state:_,range:k,match:v,commands:E,chain:N,can:O})===null||!x.steps.length||(x.setMeta(u,{transform:x,from:r,to:s,text:a}),d.dispatch(x),p=!0)}),p}function t5(n){const{editor:e,rules:t}=n,r=new Xt({state:{init(){return null},apply(s,a,l){const u=s.getMeta(r);if(u)return u;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=og(Y.from(p),l.schema);const{from:y}=d,b=y+p.length;Qc({editor:e,from:y,to:b,text:p,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,l,u){return Qc({editor:e,from:a,to:l,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&Qc({editor:e,from:a.pos,to:a.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?Qc({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function n5(n){return Object.prototype.toString.call(n).slice(8,-1)}function Wc(n){return n5(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function tf(n,e){const t={...n};return Wc(n)&&Wc(e)&&Object.keys(e).forEach(r=>{Wc(e[r])&&Wc(n[r])?t[r]=tf(n[r],e[r]):t[r]=e[r]}),t}class jn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(ie(this,"addOptions",{name:this.name}))),this.storage=ke(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>tf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ke(ie(t,"addOptions",{name:t.name})),t.storage=ke(ie(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const d=l.find(h=>(h==null?void 0:h.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function r5(n){return typeof n=="number"}class i5{constructor(e){this.find=e.find,this.handler=e.handler}}const s5=(n,e,t)=>{if(lg(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const a=[s.text];return a.index=s.index,a.input=n,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function a5(n){const{editor:e,state:t,from:r,to:s,rule:a,pasteEvent:l,dropEvent:u}=n,{commands:d,chain:h,can:p}=new Wu({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,s,(v,x)=>{if(!v.isTextblock||v.type.spec.code)return;const _=Math.max(r,x),k=Math.min(s,x+v.content.size),E=v.textBetween(_-x,k-x,void 0,"￼");s5(E,a.find,l).forEach(O=>{if(O.index===void 0)return;const B=_+O.index+1,D=B+O[0].length,J={from:t.tr.mapping.map(B),to:t.tr.mapping.map(D)},G=a.handler({state:t,range:J,match:O,commands:d,chain:h,can:p,pasteEvent:l,dropEvent:u});y.push(G)})}),y.every(v=>v!==null)}let Zc=null;const o5=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function l5(n){const{editor:e,rules:t}=n;let r=null,s=!1,a=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:y,to:b,rule:v,pasteEvt:x})=>{const _=p.tr,k=Qu({state:p,transaction:_});if(!(!a5({editor:e,state:k,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:x,dropEvent:u})||!_.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,_}};return t.map(p=>new Xt({view(y){const b=x=>{var _;r=!((_=y.dom.parentElement)===null||_===void 0)&&_.contains(x.target)?y.dom.parentElement:null,r&&(Zc=e)},v=()=>{Zc&&(Zc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(a=r===y.dom.parentElement,u=b,!a){const v=Zc;v&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(y,b)=>{var v;const x=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return l=b,s=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,v)=>{const x=y[0],_=x.getMeta("uiEvent")==="paste"&&!s,k=x.getMeta("uiEvent")==="drop"&&!a,E=x.getMeta("applyPasteRules"),N=!!E;if(!_&&!k&&!N)return;if(N){let{text:D}=E;typeof D=="string"?D=D:D=og(Y.from(D),v.schema);const{from:J}=E,G=J+D.length,X=o5(D);return d({rule:p,state:v,from:J,to:{b:G},pasteEvt:X})}const O=b.doc.content.findDiffStart(v.doc.content),B=b.doc.content.findDiffEnd(v.doc.content);if(!(!r5(O)||!B||O===B.b))return d({rule:p,state:v,from:O,to:B,pasteEvt:l})}}))}function c5(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ba{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ba.resolve(e),this.schema=WD(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ba.sort(ba.flatten(e)),r=c5(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=ie(t,"addExtensions",r);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((r,s)=>{const a=ie(r,"priority")||100,l=ie(s,"priority")||100;return a>l?-1:a<l?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:sp(t.name,this.schema)},s=ie(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=ba.sort([...this.extensions].reverse()),r=[],s=[],a=t.map(l=>{const u={name:l.name,options:l.options,storage:l.storage,editor:e,type:sp(l.name,this.schema)},d=[],h=ie(l,"addKeyboardShortcuts",u);let p={};if(l.type==="mark"&&ie(l,"exitable",u)&&(p.ArrowRight=()=>jn.handleExit({editor:e,mark:l})),h){const _=Object.fromEntries(Object.entries(h()).map(([k,E])=>[k,()=>E({editor:e})]));p={...p,..._}}const y=OD(p);d.push(y);const b=ie(l,"addInputRules",u);Lx(l,e.options.enableInputRules)&&b&&r.push(...b());const v=ie(l,"addPasteRules",u);Lx(l,e.options.enablePasteRules)&&v&&s.push(...v());const x=ie(l,"addProseMirrorPlugins",u);if(x){const _=x();d.push(..._)}return d}).flat();return[t5({editor:e,rules:r}),...l5({editor:e,rules:s}),...a]}get attributes(){return sk(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Zu(this.extensions);return Object.fromEntries(t.filter(r=>!!ie(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:e,type:bt(r.name,this.schema)},l=ie(r,"addNodeView",a);if(!l)return[];const u=(d,h,p,y,b)=>{const v=fm(d,s);return l()({node:d,view:h,getPos:p,decorations:y,innerDecorations:b,editor:e,extension:r,HTMLAttributes:v})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:sp(e.name,this.schema)};e.type==="mark"&&(!((t=ke(ie(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=ie(e,"onBeforeCreate",r),a=ie(e,"onCreate",r),l=ie(e,"onUpdate",r),u=ie(e,"onSelectionUpdate",r),d=ie(e,"onTransaction",r),h=ie(e,"onFocus",r),p=ie(e,"onBlur",r),y=ie(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),l&&this.editor.on("update",l),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),y&&this.editor.on("destroy",y)})}}class jt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(ie(this,"addOptions",{name:this.name}))),this.storage=ke(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>tf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ke(ie(t,"addOptions",{name:t.name})),t.storage=ke(ie(t,"addStorage",{name:t.name,options:t.options})),t}}function ok(n,e,t){const{from:r,to:s}=e,{blockSeparator:a=`

`,textSerializers:l={}}=t||{};let u="";return n.nodesBetween(r,s,(d,h,p,y)=>{var b;d.isBlock&&h>r&&(u+=a);const v=l==null?void 0:l[d.type.name];if(v)return p&&(u+=v({node:d,pos:h,parent:p,index:y,range:e})),!1;d.isText&&(u+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,s-h))}),u}function lk(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const u5=jt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Xt({key:new Xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:a}=s,l=Math.min(...a.map(p=>p.$from.pos)),u=Math.max(...a.map(p=>p.$to.pos)),d=lk(t);return ok(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),f5=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),d5=(n=!1)=>({commands:e})=>e.setContent("",n),h5=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:a,$to:l})=>{n.doc.nodesBetween(a.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,y=h.resolve(p.map(d)),b=h.resolve(p.map(d+u.nodeSize)),v=y.blockRange(b);if(!v)return;const x=za(v);if(u.type.isTextblock){const{defaultType:_}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,_)}(x||x===0)&&e.lift(v,x)})}),!0},p5=n=>e=>n(e),m5=()=>({state:n,dispatch:e})=>tk(n,e),g5=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,a=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(e);return r.insert(l,a.content),r.setSelection(new ge(r.doc.resolve(l-1))),!0},y5=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===r.type){if(e){const u=s.before(a),d=s.after(a);n.delete(u,d).scrollIntoView()}return!0}return!1},b5=n=>({tr:e,state:t,dispatch:r})=>{const s=bt(n,t.schema),a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===s){if(r){const d=a.before(l),h=a.after(l);e.delete(d,h).scrollIntoView()}return!0}return!1},v5=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},x5=()=>({state:n,dispatch:e})=>ng(n,e),w5=()=>({commands:n})=>n.keyboardShortcut("Enter"),S5=()=>({state:n,dispatch:e})=>DD(n,e);function Cu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:lg(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function ck(n,e,t={}){return n.find(r=>r.type===e&&Cu(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function Px(n,e,t={}){return!!ck(n,e,t)}function cg(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(t=t||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!ck([...s.node.marks],e,t)))return;let l=s.index,u=n.start()+s.offset,d=l+1,h=u+s.node.nodeSize;for(;l>0&&Px([...n.parent.child(l-1).marks],e,t);)l-=1,u-=n.parent.child(l).nodeSize;for(;d<n.parent.childCount&&Px([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function ki(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const _5=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const a=ki(n,r.schema),{doc:l,selection:u}=t,{$from:d,from:h,to:p}=u;if(s){const y=cg(d,a,e);if(y&&y.from<=h&&y.to>=p){const b=ge.create(l,y.from,y.to);t.setSelection(b)}}return!0},k5=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function uk(n){return n instanceof ge}function Qi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function fk(n,e=null){if(!e)return null;const t=Se.atStart(n),r=Se.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,a=r.to;return e==="all"?ge.create(n,Qi(0,s,a),Qi(n.content.size,s,a)):ge.create(n,Qi(e,s,a),Qi(e,s,a))}function T5(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ug(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const E5=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const l=()=>{(ug()||T5())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(a&&n===null&&!uk(t.state.selection))return l(),!0;const u=fk(s.doc,n)||t.state.selection,d=t.state.selection.eq(u);return a&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},C5=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),O5=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),dk=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&dk(r)}return n};function eu(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return dk(t)}function Ou(n,e,t){if(n instanceof fi||n instanceof Y)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Y.fromArray(n.map(u=>e.nodeFromJSON(u)));const l=e.nodeFromJSON(n);return t.errorOnInvalidContent&&l.check(),l}catch(a){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",a),Ou("",e,t)}if(s){if(t.errorOnInvalidContent){let l=!1,u="";const d=new JS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?di.fromSchema(d).parseSlice(eu(n),t.parseOptions):di.fromSchema(d).parse(eu(n),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const a=di.fromSchema(e);return t.slice?a.parseSlice(eu(n),t.parseOptions).content:a.parse(eu(n),t.parseOptions)}return Ou("",e,t)}function A5(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof mt||s instanceof gt))return;const a=n.mapping.maps[r];let l=0;a.forEach((u,d,h,p)=>{l===0&&(l=p)}),n.setSelection(Se.near(n.doc.resolve(l),t))}const N5=n=>!("type"in n),M5=(n,e,t)=>({tr:r,dispatch:s,editor:a})=>{var l;if(s){t={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;try{u=Ou(e,a.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(l=t.errorOnInvalidContent)!==null&&l!==void 0?l:a.options.enableContentCheck})}catch(x){return a.emit("contentError",{editor:a,error:x,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,y=!0;if((N5(u)?u:[u]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),d===h&&y){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let v;if(p){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof Y){let x="";e.forEach(_=>{_.text&&(x+=_.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,h)}else v=u,r.replaceWith(d,h,v);t.updateSelection&&A5(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},R5=()=>({state:n,dispatch:e})=>MD(n,e),j5=()=>({state:n,dispatch:e})=>RD(n,e),D5=()=>({state:n,dispatch:e})=>K_(n,e),z5=()=>({state:n,dispatch:e})=>W_(n,e),L5=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Fu(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},P5=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Fu(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},B5=()=>({state:n,dispatch:e})=>AD(n,e),I5=()=>({state:n,dispatch:e})=>ND(n,e);function hk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function U5(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,a,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))ug()||hk()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),a&&(t=`Shift-${t}`),t}const $5=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const a=U5(n).split(/-(?!$)/),l=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,u))});return d==null||d.steps.forEach(h=>{const p=h.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function dl(n,e,t={}){const{from:r,to:s,empty:a}=n.selection,l=e?bt(e,n.schema):null,u=[];n.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const v=Math.max(r,b),x=Math.min(s,b+y.nodeSize);u.push({node:y,from:v,to:x})});const d=s-r,h=u.filter(y=>l?l.name===y.node.type.name:!0).filter(y=>Cu(y.node.attrs,t,{strict:!1}));return a?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}const q5=(n,e={})=>({state:t,dispatch:r})=>{const s=bt(n,t.schema);return dl(t,s,e)?jD(t,r):!1},H5=()=>({state:n,dispatch:e})=>nk(n,e),V5=n=>({state:e,dispatch:t})=>{const r=bt(n,e.schema);return FD(r)(e,t)},F5=()=>({state:n,dispatch:e})=>ek(n,e);function nf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Bx(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}const Y5=(n,e)=>({tr:t,state:r,dispatch:s})=>{let a=null,l=null;const u=nf(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(a=bt(n,r.schema)),u==="mark"&&(l=ki(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,p)=>{a&&a===h.type&&t.setNodeMarkup(p,void 0,Bx(h.attrs,e)),l&&h.marks.length&&h.marks.forEach(y=>{l===y.type&&t.addMark(p,p+h.nodeSize,l.create(Bx(y.attrs,e)))})})}),!0):!1},G5=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),K5=()=>({tr:n,dispatch:e})=>{if(e){const t=new un(n.doc);n.setSelection(t)}return!0},J5=()=>({state:n,dispatch:e})=>X_(n,e),X5=()=>({state:n,dispatch:e})=>Z_(n,e),Q5=()=>({state:n,dispatch:e})=>PD(n,e),W5=()=>({state:n,dispatch:e})=>UD(n,e),Z5=()=>({state:n,dispatch:e})=>ID(n,e);function dm(n,e,t={},r={}){return Ou(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const e6=(n,e=!1,t={},r={})=>({editor:s,tr:a,dispatch:l,commands:u})=>{var d,h;const{doc:p}=a;if(t.preserveWhitespace!=="full"){const y=dm(n,s.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return l&&a.replaceWith(0,p.content.size,y).setMeta("preventUpdate",!e),!0}return l&&a.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:s.options.enableContentCheck})};function pk(n,e){const t=ki(e,n.schema),{from:r,to:s,empty:a}=n.selection,l=[];a?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===t.name);return u?{...u.attrs}:{}}function t6(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function n6(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function fg(n){return e=>n6(e.$from,n)}function r6(n,e){const t={from:0,to:n.content.size};return ok(n,t,e)}function i6(n,e){const t=bt(e,n.schema),{from:r,to:s}=n.selection,a=[];n.doc.nodesBetween(r,s,u=>{a.push(u)});const l=a.reverse().find(u=>u.type.name===t.name);return l?{...l.attrs}:{}}function s6(n,e){const t=nf(typeof e=="string"?e:e.name,n.schema);return t==="node"?i6(n,e):t==="mark"?pk(n,e):{}}function mk(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const a=t.resolve(n),l=cg(a,s.type);l&&r.push({mark:s,...l})}):t.nodesBetween(n,e,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(l=>({from:a,to:a+s.nodeSize,mark:l})))}),r}function cu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(a=>a.type===e&&a.name===r);return s?s.attribute.keepOnSplit:!1}))}function hm(n,e,t={}){const{empty:r,ranges:s}=n.selection,a=e?ki(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>a?a.name===y.type.name:!0).find(y=>Cu(y.attrs,t,{strict:!1}));let l=0;const u=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,x=b.pos;n.doc.nodesBetween(v,x,(_,k)=>{if(!_.isText&&!_.marks.length)return;const E=Math.max(v,k),N=Math.min(x,k+_.nodeSize),O=N-E;l+=O,u.push(..._.marks.map(B=>({mark:B,from:E,to:N})))})}),l===0)return!1;const d=u.filter(y=>a?a.name===y.mark.type.name:!0).filter(y=>Cu(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=u.filter(y=>a?y.mark.type!==a&&y.mark.type.excludes(a):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=l}function a6(n,e,t={}){if(!e)return dl(n,null,t)||hm(n,null,t);const r=nf(e,n.schema);return r==="node"?dl(n,e,t):r==="mark"?hm(n,e,t):!1}function Ix(n,e){const{nodeExtensions:t}=Zu(e),r=t.find(l=>l.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},a=ke(ie(r,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function dg(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(a=>{s!==!1&&(dg(a,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function o6(n){return n instanceof ue}function l6(n,e,t){var r;const{selection:s}=e;let a=null;if(uk(s)&&(a=s.$cursor),a){const u=(r=n.storedMarks)!==null&&r!==void 0?r:a.marks();return!!t.isInSet(u)||!u.some(d=>d.type.excludes(t))}const{ranges:l}=s;return l.some(({$from:u,$to:d})=>{let h=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,d.pos,(p,y,b)=>{if(h)return!1;if(p.isInline){const v=!b||b.type.allowsMarkType(t),x=!!t.isInSet(p.marks)||!p.marks.some(_=>_.type.excludes(t));h=v&&x}return!h}),h})}const c6=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:a}=t,{empty:l,ranges:u}=a,d=ki(n,r.schema);if(s)if(l){const h=pk(r,d);t.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(p,y,(b,v)=>{const x=Math.max(v,p),_=Math.min(v+b.nodeSize,y);b.marks.find(E=>E.type===d)?b.marks.forEach(E=>{d===E.type&&t.addMark(x,_,d.create({...E.attrs,...e}))}):t.addMark(x,_,d.create(e))})});return l6(r,t,d)},u6=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),f6=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const a=bt(n,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:u})=>jx(a,{...l,...e})(t)?!0:u.clearNodes()).command(({state:u})=>jx(a,{...l,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},d6=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=Qi(n,0,r.content.size),a=ue.create(r,s);e.setSelection(a)}return!0},h6=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:a}=typeof n=="number"?{from:n,to:n}:n,l=ge.atStart(r).from,u=ge.atEnd(r).to,d=Qi(s,l,u),h=Qi(a,l,u),p=ge.create(r,d,h);e.setSelection(p)}return!0},p6=n=>({state:e,dispatch:t})=>{const r=bt(n,e.schema);return KD(r)(e,t)};function Ux(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e==null?void 0:e.includes(s.type.name));n.tr.ensureMarks(r)}}const m6=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:a,doc:l}=e,{$from:u,$to:d}=a,h=s.extensionManager.attributes,p=cu(h,u.node().type.name,u.node().attrs);if(a instanceof ue&&a.node.isBlock)return!u.parentOffset||!vr(l,u.pos)?!1:(r&&(n&&Ux(t,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:t6(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&b?[{type:b,attrs:p}]:void 0,x=vr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!x&&vr(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(x=!0,v=b?[{type:b,attrs:p}]:void 0),r){if(x&&(a instanceof ge&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),b&&!y&&!u.parentOffset&&u.parent.type!==b)){const _=e.mapping.map(u.before()),k=e.doc.resolve(_);u.node(-1).canReplaceWith(k.index(),k.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}n&&Ux(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},g6=(n,e={})=>({tr:t,state:r,dispatch:s,editor:a})=>{var l;const u=bt(n,r.schema),{$from:d,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==u)return!1;const b=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let E=Y.empty;const N=d.index(-1)?1:d.index(-2)?2:3;for(let X=d.depth-N;X>=d.depth-3;X-=1)E=Y.from(d.node(X).copy(E));const O=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,B={...cu(b,d.node().type.name,d.node().attrs),...e},D=((l=u.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(B))||void 0;E=E.append(Y.from(u.createAndFill(null,D)||void 0));const J=d.before(d.depth-(N-1));t.replace(J,d.after(-O),new ee(E,4-N,0));let G=-1;t.doc.nodesBetween(J,t.doc.content.size,(X,q)=>{if(G>-1)return!1;X.isTextblock&&X.content.size===0&&(G=q+1)}),G>-1&&t.setSelection(ge.near(t.doc.resolve(G))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,x={...cu(b,y.type.name,y.attrs),...e},_={...cu(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const k=v?[{type:u,attrs:x},{type:v,attrs:_}]:[{type:u,attrs:x}];if(!vr(t.doc,d.pos,2))return!1;if(s){const{selection:E,storedMarks:N}=r,{splittableMarks:O}=a.extensionManager,B=N||E.$to.parentOffset&&E.$from.marks();if(t.split(d.pos,2,k).scrollIntoView(),!B||!s)return!0;const D=B.filter(J=>O.includes(J.type.name));t.ensureMarks(D)}return!0},ap=(n,e)=>{const t=fg(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&Si(n.doc,t.pos)&&n.join(t.pos),!0},op=(n,e)=>{const t=fg(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&Si(n.doc,r)&&n.join(r),!0},y6=(n,e,t,r={})=>({editor:s,tr:a,state:l,dispatch:u,chain:d,commands:h,can:p})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=bt(n,l.schema),x=bt(e,l.schema),{selection:_,storedMarks:k}=l,{$from:E,$to:N}=_,O=E.blockRange(N),B=k||_.$to.parentOffset&&_.$from.marks();if(!O)return!1;const D=fg(J=>Ix(J.type.name,y))(_);if(O.depth>=1&&D&&O.depth-D.depth<=1){if(D.node.type===v)return h.liftListItem(x);if(Ix(D.node.type.name,y)&&v.validContent(D.node.content)&&u)return d().command(()=>(a.setNodeMarkup(D.pos,v),!0)).command(()=>ap(a,v)).command(()=>op(a,v)).run()}return!t||!B||!u?d().command(()=>p().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>ap(a,v)).command(()=>op(a,v)).run():d().command(()=>{const J=p().wrapInList(v,r),G=B.filter(X=>b.includes(X.type.name));return a.ensureMarks(G),J?!0:h.clearNodes()}).wrapInList(v,r).command(()=>ap(a,v)).command(()=>op(a,v)).run()},b6=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:a=!1}=t,l=ki(n,r.schema);return hm(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:a}):s.setMark(l,e)},v6=(n,e,t={})=>({state:r,commands:s})=>{const a=bt(n,r.schema),l=bt(e,r.schema),u=dl(r,a,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?s.setNode(l,d):s.setNode(a,{...d,...t})},x6=(n,e={})=>({state:t,commands:r})=>{const s=bt(n,t.schema);return dl(t,s,e)?r.lift(s):r.wrapIn(s,e)},w6=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let a;if(s.spec.isInputRules&&(a=s.getState(n))){if(e){const l=n.tr,u=a.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(a.text){const d=l.doc.resolve(a.from).marks();l.replaceWith(a.from,a.to,n.schema.text(a.text,d))}else l.delete(a.from,a.to)}return!0}}return!1},S6=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(a=>{n.removeMark(a.$from.pos,a.$to.pos)}),!0},_6=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var a;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=t,d=ki(n,r.schema),{$from:h,empty:p,ranges:y}=u;if(!s)return!0;if(p&&l){let{from:b,to:v}=u;const x=(a=h.marks().find(k=>k.type===d))===null||a===void 0?void 0:a.attrs,_=cg(h,d,x);_&&(b=_.from,v=_.to),t.removeMark(b,v,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},k6=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let a=null,l=null;const u=nf(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(a=bt(n,r.schema)),u==="mark"&&(l=ki(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;let y,b,v,x;t.selection.empty?r.doc.nodesBetween(h,p,(_,k)=>{a&&a===_.type&&(v=Math.max(k,h),x=Math.min(k+_.nodeSize,p),y=k,b=_)}):r.doc.nodesBetween(h,p,(_,k)=>{k<h&&a&&a===_.type&&(v=Math.max(k,h),x=Math.min(k+_.nodeSize,p),y=k,b=_),k>=h&&k<=p&&(a&&a===_.type&&t.setNodeMarkup(k,void 0,{..._.attrs,...e}),l&&_.marks.length&&_.marks.forEach(E=>{if(l===E.type){const N=Math.max(k,h),O=Math.min(k+_.nodeSize,p);t.addMark(N,O,l.create({...E.attrs,...e}))}}))}),b&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...b.attrs,...e}),l&&b.marks.length&&b.marks.forEach(_=>{l===_.type&&t.addMark(v,x,l.create({..._.attrs,...e}))}))}),!0):!1},T6=(n,e={})=>({state:t,dispatch:r})=>{const s=bt(n,t.schema);return $D(s,e)(t,r)},E6=(n,e={})=>({state:t,dispatch:r})=>{const s=bt(n,t.schema);return qD(s,e)(t,r)};var C6=Object.freeze({__proto__:null,blur:f5,clearContent:d5,clearNodes:h5,command:p5,createParagraphNear:m5,cut:g5,deleteCurrentNode:y5,deleteNode:b5,deleteRange:v5,deleteSelection:x5,enter:w5,exitCode:S5,extendMarkRange:_5,first:k5,focus:E5,forEach:C5,insertContent:O5,insertContentAt:M5,joinBackward:D5,joinDown:j5,joinForward:z5,joinItemBackward:L5,joinItemForward:P5,joinTextblockBackward:B5,joinTextblockForward:I5,joinUp:R5,keyboardShortcut:$5,lift:q5,liftEmptyBlock:H5,liftListItem:V5,newlineInCode:F5,resetAttributes:Y5,scrollIntoView:G5,selectAll:K5,selectNodeBackward:J5,selectNodeForward:X5,selectParentNode:Q5,selectTextblockEnd:W5,selectTextblockStart:Z5,setContent:e6,setMark:c6,setMeta:u6,setNode:f6,setNodeSelection:d6,setTextSelection:h6,sinkListItem:p6,splitBlock:m6,splitListItem:g6,toggleList:y6,toggleMark:b6,toggleNode:v6,toggleWrap:x6,undoInputRule:w6,unsetAllMarks:S6,unsetMark:_6,updateAttributes:k6,wrapIn:T6,wrapInList:E6});const O6=jt.create({name:"commands",addCommands(){return{...C6}}}),A6=jt.create({name:"drop",addProseMirrorPlugins(){return[new Xt({key:new Xn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),N6=jt.create({name:"editable",addProseMirrorPlugins(){return[new Xt({key:new Xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),M6=new Xn("focusEvents"),R6=jt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Xt({key:M6,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),j6=jt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:p,$anchor:y}=d,{pos:b,parent:v}=y,x=y.parent.isTextblock&&b>0?u.doc.resolve(b-1):y,_=x.parent.type.spec.isolating,k=y.pos-y.parentOffset,E=_&&x.parent.childCount===1?k===y.pos:Se.atStart(h).from===b;return!p||!v.type.isTextblock||v.textContent.length||!E||E&&y.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},a={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ug()||hk()?a:s},addProseMirrorPlugins(){return[new Xt({key:new Xn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(_=>_.getMeta("composition")))return;const r=n.some(_=>_.docChanged)&&!e.doc.eq(t.doc),s=n.some(_=>_.getMeta("preventClearDocument"));if(!r||s)return;const{empty:a,from:l,to:u}=e.selection,d=Se.atStart(e.doc).from,h=Se.atEnd(e.doc).to;if(a||!(l===d&&u===h)||!dg(t.doc))return;const b=t.tr,v=Qu({state:t,transaction:b}),{commands:x}=new Wu({editor:this.editor,state:v});if(x.clearNodes(),!!b.steps.length)return b}})]}}),D6=jt.create({name:"paste",addProseMirrorPlugins(){return[new Xt({key:new Xn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),z6=jt.create({name:"tabindex",addProseMirrorPlugins(){return[new Xt({key:new Xn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Gi{get name(){return this.node.type.name}constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Gi(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Gi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Gi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,l=this.pos+r+(a?0:1),u=this.resolvedPos.doc.resolve(l);if(!s&&u.depth<=this.depth)return;const d=new Gi(u,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new Gi(u,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const a=s.node.attrs,l=Object.keys(t);for(let u=0;u<l.length;u+=1){const d=l[u];if(a[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(t);return this.children.forEach(l=>{r&&s.length>0||(l.node.type.name===e&&a.every(d=>t[d]===l.node.attrs[d])&&s.push(l),!(r&&s.length>0)&&(s=s.concat(l.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const L6=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function P6(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}class B6 extends JD{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:s})=>this.options.onDrop(t,r,s)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=P6(L6,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=ak(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;r=r.filter(u=>!u.key.startsWith(l))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[N6,u5.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),O6,R6,j6,z6,A6,D6].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new ba(s,this)}createCommandManager(){this.commandManager=new Wu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=dm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=dm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=fk(t,this.options.autofocus);this.view=new bD(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ya.create({doc:t,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(l)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),a=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return s6(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return a6(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return og(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return r6(this.state.doc,{blockSeparator:t,textSerializers:{...lk(this.schema),...r}})}get isEmpty(){return dg(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Gi(t,this)}get $doc(){return this.$pos(0)}}function ds(n){return new ef({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ke(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],u=r[0];if(l){const d=u.search(/\S/),h=t.from+u.indexOf(l),p=h+l.length;if(mk(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(_=>_===n.type&&_!==v.mark.type)).filter(v=>v.to>h).length)return null;p<t.to&&a.delete(p,t.to),h>t.from&&a.delete(t.from+d,h);const b=t.from+d+l.length;a.addMark(t.from+d,b,n.type.create(s||{})),a.removeStoredMark(n.type)}}})}function I6(n){return new ef({find:n.find,handler:({state:e,range:t,match:r})=>{const s=ke(n.getAttributes,void 0,r)||{},{tr:a}=e,l=t.from;let u=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=l+h;p>u?p=u:u=p+r[1].length;const y=r[0][r[0].length-1];a.insertText(y,l+r[0].length-1),a.replaceWith(p,u,d)}else if(r[0]){const h=n.type.isInline?l:l-1;a.insert(h,n.type.create(s)).delete(a.mapping.map(l),a.mapping.map(u))}a.scrollIntoView()}})}function pm(n){return new ef({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),a=ke(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,a)}})}function hl(n){return new ef({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const a=ke(n.getAttributes,void 0,r)||{},l=e.tr.delete(t.from,t.to),d=l.doc.resolve(t.from).blockRange(),h=d&&Fm(d,n.type,a);if(!h)return null;if(l.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,x=b||y.$to.parentOffset&&y.$from.marks();if(x){const _=x.filter(k=>v.includes(k.type.name));l.ensureMarks(_)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,a).run()}const p=l.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&Si(l.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&l.join(t.from-1)}})}let zn=class mm{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(ie(this,"addOptions",{name:this.name}))),this.storage=ke(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mm(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>tf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new mm(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ke(ie(t,"addOptions",{name:t.name})),t.storage=ke(ie(t,"addStorage",{name:t.name,options:t.options})),t}};function hs(n){return new i5({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const a=ke(n.getAttributes,void 0,r,s);if(a===!1||a===null)return null;const{tr:l}=e,u=r[r.length-1],d=r[0];let h=t.to;if(u){const p=d.search(/\S/),y=t.from+d.indexOf(u),b=y+u.length;if(mk(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(k=>k===n.type&&k!==x.mark.type)).filter(x=>x.to>y).length)return null;b<t.to&&l.delete(b,t.to),y>t.from&&l.delete(t.from+p,y),h=t.from+p+u.length,l.addMark(t.from+p,h,n.type.create(a||{})),l.removeStoredMark(n.type)}}})}function U6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gk={exports:{}},lp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function $6(){if($x)return lp;$x=1;var n=be;function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(y,b){var v=b(),x=r({inst:{value:v,getSnapshot:b}}),_=x[0].inst,k=x[1];return a(function(){_.value=v,_.getSnapshot=b,d(_)&&k({inst:_})},[y,v,b]),s(function(){return d(_)&&k({inst:_}),y(function(){d(_)&&k({inst:_})})},[y]),l(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!t(y,v)}catch{return!0}}function h(y,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return lp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,lp}gk.exports=$6();var hg=gk.exports;const q6=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},H6=({contentComponent:n})=>{const e=hg.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return be.createElement(be.Fragment,null,Object.values(e))};function V6(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:EC.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}class F6 extends be.Component{constructor(e){var t;super(e),this.editorContentRef=be.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=V6(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return be.createElement(be.Fragment,null,be.createElement("div",{ref:q6(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&be.createElement(H6,{contentComponent:e.contentComponent}))}}const Y6=C.forwardRef((n,e)=>{const t=be.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return be.createElement(F6,{key:t,innerRef:e,...n})}),G6=be.memo(Y6);var K6=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){var l=a[s];if(!(l==="_owner"&&e.$$typeof)&&!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t},J6=U6(K6),yk={exports:{}},cp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function X6(){if(qx)return cp;qx=1;var n=be,e=hg;function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,d=n.useDebugValue;return cp.useSyncExternalStoreWithSelector=function(h,p,y,b,v){var x=a(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=u(function(){function E(J){if(!N){if(N=!0,O=J,J=b(J),v!==void 0&&_.hasValue){var G=_.value;if(v(G,J))return B=G}return B=J}if(G=B,r(O,J))return G;var X=b(J);return v!==void 0&&v(G,X)?G:(O=J,B=X)}var N=!1,O,B,D=y===void 0?null:y;return[function(){return E(p())},D===null?void 0:function(){return E(D())}]},[p,y,b,v]);var k=s(h,x[0],x[1]);return l(function(){_.hasValue=!0,_.value=k},[k]),d(k),k},cp}yk.exports=X6();var Q6=yk.exports;const W6=typeof window<"u"?C.useLayoutEffect:C.useEffect;class Z6{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function ez(n){var e;const[t]=C.useState(()=>new Z6(n.editor)),r=Q6.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:J6);return W6(()=>t.watch(n.editor),[n.editor,t]),C.useDebugValue(r),r}const tz=!1,gm=typeof window>"u",nz=gm||!!(typeof window<"u"&&window.next);class pg{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?gm||nz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)===null||a===void 0?void 0:a.call(s,...r)},onBlur:(...r)=>{var s,a;return(a=(s=this.options.current).onBlur)===null||a===void 0?void 0:a.call(s,...r)},onCreate:(...r)=>{var s,a;return(a=(s=this.options.current).onCreate)===null||a===void 0?void 0:a.call(s,...r)},onDestroy:(...r)=>{var s,a;return(a=(s=this.options.current).onDestroy)===null||a===void 0?void 0:a.call(s,...r)},onFocus:(...r)=>{var s,a;return(a=(s=this.options.current).onFocus)===null||a===void 0?void 0:a.call(s,...r)},onSelectionUpdate:(...r)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)===null||a===void 0?void 0:a.call(s,...r)},onTransaction:(...r)=>{var s,a;return(a=(s=this.options.current).onTransaction)===null||a===void 0?void 0:a.call(s,...r)},onUpdate:(...r)=>{var s,a;return(a=(s=this.options.current).onUpdate)===null||a===void 0?void 0:a.call(s,...r)},onContentError:(...r)=>{var s,a;return(a=(s=this.options.current).onContentError)===null||a===void 0?void 0:a.call(s,...r)},onDrop:(...r)=>{var s,a;return(a=(s=this.options.current).onDrop)===null||a===void 0?void 0:a.call(s,...r)},onPaste:(...r)=>{var s,a;return(a=(s=this.options.current).onPaste)===null||a===void 0?void 0:a.call(s,...r)}};return new B6(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,a)=>{var l;return s===((l=t.extensions)===null||l===void 0?void 0:l[a])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?pg.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function rz(n={},e=[]){const t=C.useRef(n);t.current=n;const[r]=C.useState(()=>new pg(t)),s=hg.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return C.useDebugValue(s),C.useEffect(r.onRender(e)),ez({editor:s,selector:({transactionNumber:a})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&a===0?0:a+1}),s}const iz=C.createContext({editor:null});iz.Consumer;const sz=C.createContext({onDragStart:void 0}),az=()=>C.useContext(sz);be.forwardRef((n,e)=>{const{onDragStart:t}=az(),r=n.as||"div";return be.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const oz=/^\s*>\s$/,lz=zn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[hl({find:oz,type:this.type})]}}),cz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,uz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,fz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,dz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,hz=jn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ds({find:cz,type:this.type}),ds({find:fz,type:this.type})]},addPasteRules(){return[hs({find:uz,type:this.type}),hs({find:dz,type:this.type})]}}),pz="listItem",Hx="textStyle",Vx=/^\s*([-+*])\s$/,mz=zn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pz,this.editor.getAttributes(Hx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=hl({find:Vx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=hl({find:Vx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Hx),editor:this.editor})),[n]}}),gz=/(^|[^`])`([^`]+)`(?!`)/,yz=/(^|[^`])`([^`]+)`(?!`)/g,bz=jn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ds({find:gz,type:this.type})]},addPasteRules(){return[hs({find:yz,type:this.type})]}}),vz=/^```([a-z]+)?[\s\n]$/,xz=/^~~~([a-z]+)?[\s\n]$/,wz=zn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,a=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(l=>l.startsWith(t)).map(l=>l.replace(t,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",vt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!a||!l?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:a}=t;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:h})=>(h.setSelection(Se.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[pm({find:vz,type:this.type,getAttributes:n=>({language:n[1]})}),pm({find:xz,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Xt({key:new Xn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,a=s==null?void 0:s.mode;if(!t||!a)return!1;const{tr:l,schema:u}=n.state,d=u.text(t.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:a},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(ge.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),n.dispatch(l),!0}}})]}}),Sz=zn.create({name:"doc",topNode:!0,content:"block+"});function _z(n={}){return new Xt({view(e){return new kz(e,n)}})}class kz{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=l=>{this[s](l)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,a=s.getBoundingClientRect(),l=a.width/s.offsetWidth,u=a.height/s.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let x=v.getBoundingClientRect(),_=y?x.bottom:x.top;y&&b&&(_=(_+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*u;r={left:x.left,right:x.right,top:_-k,bottom:_+k}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*l;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,p=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,p=y.top-d.scrollTop*v}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!a){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=a_(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Tz=jt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_z(this.options)]}});class We extends Se{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return We.valid(r)?new We(r):Se.near(r)}content(){return ee.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(t.pos))}getBookmark(){return new mg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Ez(e)||!Cz(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&We.valid(e))return e;let s=e.pos,a=null;for(let l=e.depth;;l--){let u=e.node(l);if(t>0?e.indexAfter(l)<u.childCount:e.index(l)>0){a=u.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;s+=t;let d=e.doc.resolve(s);if(We.valid(d))return d}for(;;){let l=t>0?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!ue.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*t),r=!1;continue e}break}a=l,s+=t;let u=e.doc.resolve(s);if(We.valid(u))return u}return null}}}We.prototype.visible=!1;We.findFrom=We.findGapCursorFrom;Se.jsonID("gapcursor",We);class mg{constructor(e){this.pos=e}map(e){return new mg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return We.valid(t)?new We(t):Se.near(t)}}function Ez(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Cz(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function Oz(){return new Xt({props:{decorations:Rz,createSelectionBetween(n,e,t){return e.pos==t.pos&&We.valid(t)?new We(t):null},handleClick:Nz,handleKeyDown:Az,handleDOMEvents:{beforeinput:Mz}}})}const Az=Y_({ArrowLeft:tu("horiz",-1),ArrowRight:tu("horiz",1),ArrowUp:tu("vert",-1),ArrowDown:tu("vert",1)});function tu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,a){let l=r.selection,u=e>0?l.$to:l.$from,d=l.empty;if(l instanceof ge){if(!a.endOfTextblock(t)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=We.findGapCursorFrom(u,e,d);return h?(s&&s(r.tr.setSelection(new We(h))),!0):!1}}function Nz(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!We.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&ue.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new We(r))),!0)}function Mz(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof We))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=Y.empty;for(let l=r.length-1;l>=0;l--)s=Y.from(r[l].createAndFill(null,s));let a=n.state.tr.replace(t.pos,t.pos,new ee(s,0,0));return a.setSelection(ge.near(a.doc.resolve(t.pos+1))),n.dispatch(a),!1}function Rz(n){if(!(n.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ot.create(n.doc,[_n.widget(n.selection.head,e,{key:"gapcursor"})])}const jz=jt.create({name:"gapCursor",addProseMirrorPlugins(){return[Oz()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=ke(ie(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Dz=zn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",vt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:a}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,d=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&d&&l){const y=d.filter(b=>u.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),zz=zn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>pm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Au=200,yt=function(){};yt.prototype.append=function(e){return e.length?(e=yt.from(e),!this.length&&e||e.length<Au&&this.leafAppend(e)||this.length<Au&&e.leafPrepend(this)||this.appendInner(e)):this};yt.prototype.prepend=function(e){return e.length?yt.from(e).append(this):this};yt.prototype.appendInner=function(e){return new Lz(this,e)};yt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?yt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};yt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};yt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};yt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(a,l){return s.push(e(a,l))},t,r),s};yt.from=function(e){return e instanceof yt?e:e&&e.length?new bk(e):yt.empty};var bk=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,l,u){for(var d=a;d<l;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,l,u){for(var d=a-1;d>=l;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Au)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Au)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(yt);yt.empty=new bk([]);var Lz=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,a,l){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(a,u),l)===!1||a>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,a)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,a,l){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(a,u)-u,l+u)===!1||a<u&&this.left.forEachInvertedInner(r,Math.min(s,u),a,l)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(r,s):r>=a?this.right.slice(r-a,s-a):this.left.slice(r,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(yt);const Pz=500;class Nn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,a;t&&(s=this.remapping(r,this.items.length),a=s.maps.length);let l=e.tr,u,d,h=[],p=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),a=s.maps.length),a--,p.push(y);return}if(s){p.push(new Hn(y.map));let v=y.step.map(s.slice(a)),x;v&&l.maybeStep(v).doc&&(x=l.mapping.maps[l.mapping.maps.length-1],h.push(new Hn(x,void 0,void 0,h.length+p.length))),a--,x&&s.appendMap(x,a)}else l.maybeStep(y.step);if(y.selection)return u=s?y.selection.map(s.slice(a)):y.selection,d=new Nn(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,t,r,s){let a=[],l=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let y=e.steps[p].invert(e.docs[p]),b=new Hn(e.mapping.maps[p],y,t),v;(v=d&&d.merge(b))&&(b=v,p?a.pop():u=u.slice(0,u.length-1)),a.push(b),t&&(l++,t=void 0),s||(d=b)}let h=l-r.depth;return h>Iz&&(u=Bz(u,h),l-=h),new Nn(u.append(a),l)}remapping(e,t){let r=new ol;return this.items.forEach((s,a)=>{let l=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new Nn(this.items.append(e.map(t=>new Hn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),a=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},s);let d=t;this.items.forEach(b=>{let v=a.getMirror(--d);if(v==null)return;l=Math.min(l,v);let x=a.maps[v];if(b.step){let _=e.steps[v].invert(e.docs[v]),k=b.selection&&b.selection.map(a.slice(d+1,v));k&&u++,r.push(new Hn(x,_,k))}else r.push(new Hn(x))},s);let h=[];for(let b=t;b<l;b++)h.push(new Hn(a.maps[b]));let p=this.items.slice(0,s).append(h).append(r),y=new Nn(p,u);return y.emptyItemCount()>Pz&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],a=0;return this.items.forEach((l,u)=>{if(u>=e)s.push(l),l.selection&&a++;else if(l.step){let d=l.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let p=l.selection&&l.selection.map(t.slice(r));p&&a++;let y=new Hn(h.invert(),d,p),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else l.map&&r--},this.items.length,0),new Nn(yt.from(s.reverse()),a)}}Nn.empty=new Nn(yt.empty,0);function Bz(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class Hn{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Hn(t.getMap().invert(),t,this.selection)}}}class ii{constructor(e,t,r,s,a){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=a}}const Iz=20;function Uz(n,e,t,r){let s=t.getMeta(rs),a;if(s)return s.historyState;t.getMeta(Hz)&&(n=new ii(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(rs))return l.getMeta(rs).redo?new ii(n.done.addTransform(t,void 0,r,uu(e)),n.undone,Fx(t.mapping.maps),n.prevTime,n.prevComposition):new ii(n.done,n.undone.addTransform(t,void 0,r,uu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),d=n.prevTime==0||!l&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!$z(t,n.prevRanges)),h=l?up(n.prevRanges,t.mapping):Fx(t.mapping.maps);return new ii(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,uu(e)),Nn.empty,h,t.time,u??n.prevComposition)}else return(a=t.getMeta("rebased"))?new ii(n.done.rebased(t,a),n.undone.rebased(t,a),up(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ii(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),up(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function $z(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&s>=e[a]&&(t=!0)}),t}function Fx(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,a,l)=>e.push(a,l));return e}function up(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),a=e.map(n[r+1],-1);s<=a&&t.push(s,a)}return t}function qz(n,e,t){let r=uu(e),s=rs.get(e).spec.config,a=(t?n.undone:n.done).popEvent(e,r);if(!a)return null;let l=a.selection.resolve(a.transform.doc),u=(t?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),s,r),d=new ii(t?u:a.remaining,t?a.remaining:u,null,0,-1);return a.transform.setSelection(l).setMeta(rs,{redo:t,historyState:d})}let fp=!1,Yx=null;function uu(n){let e=n.plugins;if(Yx!=e){fp=!1,Yx=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){fp=!0;break}}return fp}const rs=new Xn("history"),Hz=new Xn("closeHistory");function Vz(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Xt({key:rs,state:{init(){return new ii(Nn.empty,Nn.empty,null,0,-1)},apply(e,t,r){return Uz(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?xk:r=="historyRedo"?wk:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function vk(n,e){return(t,r)=>{let s=rs.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let a=qz(s,t,n);a&&r(e?a.scrollIntoView():a)}return!0}}const xk=vk(!1,!0),wk=vk(!0,!0),Fz=jt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>xk(n,e),redo:()=>({state:n,dispatch:e})=>wk(n,e)}},addProseMirrorPlugins(){return[Vz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Yz=zn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",vt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:s}=t,a=n();return r.parentOffset===0?a.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):o6(t)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:l,dispatch:u})=>{var d;if(u){const{$to:h}=l.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?l.setSelection(ge.create(l.doc,h.pos+1)):h.nodeAfter.isBlock?l.setSelection(ue.create(l.doc,h.pos)):l.setSelection(ge.create(l.doc,h.pos));else{const y=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(l.insert(p,y),l.setSelection(ge.create(l.doc,p+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[I6({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Gz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Kz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Jz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Xz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Qz=jn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ds({find:Gz,type:this.type}),ds({find:Jz,type:this.type})]},addPasteRules(){return[hs({find:Kz,type:this.type}),hs({find:Xz,type:this.type})]}}),Wz=zn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",vt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Zz="listItem",Gx="textStyle",Kx=/^(\d+)\.\s$/,eL=zn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",vt(this.options.HTMLAttributes,t),0]:["ol",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Zz,this.editor.getAttributes(Gx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=hl({find:Kx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=hl({find:Kx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Gx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),tL=zn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),nL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,rL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,iL=jn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ds({find:nL,type:this.type})]},addPasteRules(){return[hs({find:rL,type:this.type})]}}),sL=zn.create({name:"text",group:"inline"}),aL=jt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(hz.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(lz.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(mz.configure(this.options.bulletList)),this.options.code!==!1&&n.push(bz.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(wz.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(Sz.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(Tz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(jz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(Dz.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(zz.configure(this.options.heading)),this.options.history!==!1&&n.push(Fz.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(Yz.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(Qz.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Wz.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(eL.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(tL.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(iL.configure(this.options.strike)),this.options.text!==!1&&n.push(sL.configure(this.options.text)),n}}),oL=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,lL=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,cL=jn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ds({find:oL,type:this.type})]},addPasteRules(){return[hs({find:lL,type:this.type})]}}),uL=jt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),fL=jn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),dL=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,s;const a=t.getAttribute("style"),l=(s=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||s===void 0?void 0:s.getAttribute("style");t.setAttribute("style",`${l};${a}`)})},hL=jn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&dL(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",vt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(a=>!!a))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),pL=({content:n,onChange:e})=>{const[t,r]=C.useState("rich"),[s,a]=C.useState(n),l=rz({extensions:[aL,cL,fL,hL,uL.configure({types:["heading","paragraph"]})],content:n,onUpdate:({editor:u})=>{t==="rich"&&e(u.getHTML())}});return C.useEffect(()=>{l&&(t==="html"?a(l.getHTML()):l.commands.setContent(s))},[t,l]),l?w.jsxs("div",{className:"space-y-4 bg-gray-50 w-full font-[Paperlogy]",children:[w.jsxs("div",{className:"bg-white p-3 border rounded-md shadow-sm space-y-2",children:[w.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[w.jsx("button",{onClick:()=>l.chain().focus().toggleBold().run(),className:`px-3 py-1 border rounded-md ${l.isActive("bold")?"bg-blue-100 font-bold":""}`,children:"굵게"}),w.jsx("button",{onClick:()=>l.chain().focus().toggleItalic().run(),className:`px-3 py-1 border rounded-md ${l.isActive("italic")?"bg-blue-100 italic":""}`,children:"기울임"}),w.jsx("button",{onClick:()=>l.chain().focus().toggleHighlight().run(),className:`px-3 py-1 border rounded-md ${l.isActive("highlight")?"bg-yellow-200":""}`,children:"형광펜"}),w.jsx("button",{onClick:()=>l.chain().focus().toggleUnderline().run(),className:`px-3 py-1 border rounded-md ${l.isActive("underline")?"bg-blue-100 underline":""}`,children:"밑줄"}),w.jsx("button",{onClick:()=>r(t==="rich"?"html":"rich"),className:"px-3 py-1 border rounded-md text-sm bg-white shadow-sm ml-auto",children:t==="rich"?"html":"edit"})]}),w.jsxs("div",{className:"grid grid-cols-4 sm:flex sm:flex-wrap gap-2 items-center",children:[w.jsx("button",{title:"왼쪽 정렬",onClick:()=>l.chain().focus().setTextAlign("left").run(),className:`px-3 py-1 border rounded-md text-xl ${l.isActive({textAlign:"left"})?"bg-blue-100":""}`,children:w.jsx(gr,{icon:h3})}),w.jsx("button",{title:"가운데 정렬",onClick:()=>l.chain().focus().setTextAlign("center").run(),className:`px-3 py-1 border rounded-md text-xl ${l.isActive({textAlign:"center"})?"bg-blue-100":""}`,children:w.jsx(gr,{icon:p3})}),w.jsx("button",{title:"오른쪽 정렬",onClick:()=>l.chain().focus().setTextAlign("right").run(),className:`px-3 py-1 border rounded-md text-xl ${l.isActive({textAlign:"right"})?"bg-blue-100":""}`,children:w.jsx(gr,{icon:g3})}),w.jsx("button",{title:"양쪽 정렬",onClick:()=>l.chain().focus().setTextAlign("justify").run(),className:`px-3 py-1 border rounded-md text-xl ${l.isActive({textAlign:"justify"})?"bg-blue-100":""}`,children:w.jsx(gr,{icon:f3})})]})]}),t==="rich"?w.jsx("div",{className:`relative bg-white p-6 min-h-[300px] rounded-md shadow-sm cursor-text border transition
            ${l.isFocused?"border-gray-800":"border-gray-200 hover:border-gray-400"}`,onClick:()=>l.commands.focus(),children:w.jsx(G6,{editor:l,className:"outline-none focus:outline-none"})}):w.jsx("textarea",{value:s,onChange:u=>{a(u.target.value),e(u.target.value)},className:"w-full h-[300px] border p-4 rounded resize-none font-mono text-sm bg-white",placeholder:"<h1>HTML을 직접 입력하세요</h1>"})]}):null},Jx=()=>{var _,k,E;const{id:n}=Ru(),e=Jt(),t=!!n,r=(_=e.state)==null?void 0:_.from,s=(k=e.state)==null?void 0:k.scrollY,a=(E=e.state)==null?void 0:E.category,l=Pt.useUser(),u=lt(),[d,h]=C.useState(""),[p,y]=C.useState(""),[b,v]=C.useState("free");C.useEffect(()=>{t&&(l!=null&&l.id)&&(async()=>{const{data:O,error:B}=await me.from("posts").select("*").eq("id",n).single();if(B||!O){se.error("게시글 정보를 불러오지 못했습니다."),u("/dashboard");return}if(O.user_id!==l.id){se.error("본인이 작성한 게시글만 수정할 수 있습니다."),u("/dashboard");return}h(O.title),y(O.content),v(O.category)})()},[n,t,l]);const x=async()=>{if(!l){se.warn("로그인이 필요합니다.");return}if(!d.trim()||!p.trim()){se.warn("제목과 내용을 모두 입력해주세요.");return}if(t){const{error:N}=await me.from("posts").update({title:d,content:p,category:b}).eq("id",n).eq("user_id",l.id);N?(se.error("게시글 수정에 실패했습니다."),console.error("UPDATE 실패:",N.message)):(se.success("게시글이 수정되었습니다 ✏️"),r==="myposts"?u("/myposts"):u("/dashboard",{replace:!1,state:{scrollY:s,category:a}}))}else{const{data:N,error:O}=await me.from("profiles").select("nickname").eq("id",l.id).single();if(O||!(N!=null&&N.nickname)){se.error("닉네임 정보를 불러오지 못했습니다."),console.error("닉네임 에러:",O==null?void 0:O.message);return}const{data:B,error:D}=await me.from("posts").insert([{title:d,content:p,category:b,author:N.nickname,user_id:l.id}]).select().single();D?(se.error("게시글 등록에 실패했습니다."),console.error("INSERT 실패:",D.message)):(se.success("게시글이 등록되었습니다 ✅"),u(`/post/${B.id}`,{replace:!0,state:{from:"dashboard",scrollY:0,category:b}}))}};return w.jsxs("div",{className:"max-w-screen-md mx-auto px-4 py-28",children:[w.jsx("h1",{className:"text-xl font-bold mb-6",children:t?"게시글 수정":"새 게시글 작성"}),w.jsxs("select",{value:b,onChange:N=>v(N.target.value),className:"border rounded px-3 py-2 mb-4 w-full",children:[w.jsx("option",{value:"free",children:"자유게시판"}),w.jsx("option",{value:"question",children:"문의게시판"}),w.jsx("option",{value:"info",children:"정보게시판"})]}),w.jsx("input",{type:"text",placeholder:"제목을 입력하세요",value:d,onChange:N=>h(N.target.value),className:"border rounded px-3 py-2 mb-4 w-full"}),w.jsx(pL,{content:p,onChange:y}),w.jsx("button",{onClick:x,className:"btn-primary w-full py-2 font-semibold rounded",children:t?"수정 완료":"등록하기"})]})},mL={free:"자유게시판",question:"문의게시판",info:"정보게시판"},gL=()=>{const n=C.useRef(!1),{id:e}=Ru(),t=Pt.useUser(),r=lt(),[s,a]=C.useState(null),[l,u]=C.useState([]),[d,h]=C.useState(""),[p,y]=C.useState(null),[b,v]=C.useState(""),[x,_]=C.useState(null),k=q=>{const W=new Date(q);return`${W.getFullYear()}년 ${W.getMonth()+1}월 ${W.getDate()}일`},E=async()=>{const{data:q}=await me.from("posts").select("*").eq("id",e).single();if(q&&a(q),t){const{data:W}=await me.from("post_reactions").select("reaction_type").eq("post_id",e).eq("user_id",t.id).maybeSingle();_((W==null?void 0:W.reaction_type)??null)}},N=async()=>{const{data:q,error:W}=await me.from("comments").select("*").eq("post_id",e).order("created_at",{ascending:!1});W||u(q||[])};C.useEffect(()=>{if(n.current)return;n.current=!0,(async()=>{let W=(t==null?void 0:t.id)??null;!t&&typeof window<"u"&&(W=localStorage.getItem("anon_id")||crypto.randomUUID(),localStorage.setItem("anon_id",W));try{const{error:ne}=await me.from("post_views").insert({post_id:e,user_id:(t==null?void 0:t.id)??null,anonymous_id:W});ne&&ne.code!=="23505"&&ne.code!=="409"&&console.error("조회수 등록 실패:",ne.message)}catch(ne){console.error("조회수 등록 실패:",(ne==null?void 0:ne.message)||ne)}await E(),await N()})()},[e,t]);const O=async q=>{if(!t)return se.warn("로그인이 필요합니다.");if(s){if(x===q)await me.from("post_reactions").delete().eq("post_id",e).eq("user_id",t.id),_(null);else{const W={post_id:e,user_id:t.id,reaction_type:q};x?await me.from("post_reactions").update(W).eq("post_id",e).eq("user_id",t.id):await me.from("post_reactions").insert(W),_(q)}await E()}},B=async()=>{if(!t)return se.warn("로그인이 필요합니다.");if(!d.trim())return;const{data:q}=await me.from("profiles").select("nickname").eq("id",t.id).single();await me.from("comments").insert([{post_id:e,user_id:t.id,nickname:(q==null?void 0:q.nickname)||"익명",content:d}]),h(""),await N()},D=async q=>{await me.from("comments").update({content:b}).eq("id",q).eq("user_id",t==null?void 0:t.id),se.success("댓글이 수정되었습니다."),y(null),v(""),await N()},J=async q=>{await me.from("comments").delete().eq("id",q).eq("user_id",t==null?void 0:t.id),se.success("댓글이 삭제되었습니다."),await N()},G=window.scrollY,X=(s==null?void 0:s.category)||"free";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"pt-28 pb-20 px-4 max-w-screen-md mx-auto",children:[s&&w.jsxs("div",{className:"mb-6 bg-white p-5 rounded-xl shadow",children:[w.jsx("div",{className:"text-sm text-blue-600 font-medium mb-1",children:mL[s.category]||s.category}),w.jsx("h1",{className:"text-2xl font-bold mb-2",children:s.title}),w.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[s.author," · ",k(s.created_at)]}),w.jsx("div",{className:"text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:s.content}}),w.jsxs("div",{className:"flex justify-start gap-4 mt-4 pt-3 border-t border-gray-100 text-sm text-gray-500",children:[w.jsxs("button",{onClick:()=>O("like"),className:`flex items-center gap-1 px-3 py-1 rounded font-medium transition ${x==="like"?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.jsx("i",{className:"fas fa-thumbs-up"})," ",Math.max(s.likes??0,0)]}),w.jsxs("button",{onClick:()=>O("dislike"),className:`flex items-center gap-1 px-3 py-1 rounded font-medium transition ${x==="dislike"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.jsx("i",{className:"fas fa-thumbs-down"})," ",Math.max(s.dislikes??0,0)]}),w.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[w.jsx("i",{className:"fas fa-eye"})," ",s.views]})]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow p-5 mb-8",children:[w.jsxs("h2",{className:"font-semibold mb-3",children:["댓글 ",l.length]}),t?w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx("input",{type:"text",placeholder:"댓글을 입력하세요",className:"flex-1 border rounded-lg px-3 py-2 text-sm",value:d,onChange:q=>h(q.target.value)}),w.jsx("button",{onClick:B,className:"ml-2 bg-blue-500 text-white px-4 py-2 rounded-lg text-sm",children:"등록"})]}):w.jsxs("div",{className:"flex justify-center items-center mb-4 py-4 border rounded bg-gray-50 text-gray-500 text-sm",children:["댓글을 작성하려면",w.jsx("button",{onClick:()=>r("/login"),className:"text-blue-600 underline ml-1",children:"로그인"}),"이 필요합니다."]}),w.jsx("div",{className:"space-y-4",children:l.map((q,W)=>w.jsxs("div",{className:"text-sm",children:[w.jsxs("div",{className:"flex justify-between mb-1",children:[w.jsx("span",{className:"font-medium",children:q.nickname}),w.jsx("span",{className:"text-gray-400 text-xs",children:k(q.created_at)})]}),p===q.id?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{value:b,onChange:ne=>v(ne.target.value),className:"border px-2 py-1 rounded flex-1"}),w.jsx("button",{onClick:()=>D(q.id),className:"text-blue-600 text-sm",children:"저장"}),w.jsx("button",{onClick:()=>y(null),className:"text-gray-400 text-sm",children:"취소"})]}):w.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:q.content}),(t==null?void 0:t.id)===q.user_id&&w.jsxs("div",{className:"flex gap-2 mt-1 text-xs text-gray-400",children:[w.jsx("button",{onClick:()=>{y(q.id),v(q.content)},children:"수정"}),w.jsx("button",{onClick:()=>J(q.id),children:"삭제"})]})]},W))})]}),w.jsx(Pw,{})]}),w.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50 px-4",children:w.jsx("div",{className:"w-full px-4 md:px-8 flex justify-end",children:w.jsx(wS,{scrollY:G,selectedCategory:X})})})]})},yL=()=>{const n=lt(),e=Pt.useUser(),[t,r]=C.useState([]),[s,a]=C.useState(!1),[l,u]=C.useState(!1),d=async()=>{if(!e)return;u(!0);const{data:b,error:v}=await me.from("posts").select("id, title, content, created_at, likes, dislikes, views").eq("user_id",e.id).order("created_at",{ascending:!1});!v&&b&&r(b),u(!1)};C.useEffect(()=>{d()},[e]);const h=async()=>{a(!0),await d(),a(!1)},p=b=>{n(`/write/${b}`)},y=async b=>{const{error:v}=await me.from("posts").delete().eq("id",b);v||r(t.filter(x=>x.id!==b))};return w.jsxs("div",{className:"relative bg-gray-50 min-h-screen pb-20",children:[w.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white shadow-sm z-10",children:w.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[w.jsx("button",{onClick:()=>n(-1),className:"text-gray-700",children:w.jsx("i",{className:"fas fa-arrow-left text-lg"})}),w.jsx("h1",{className:"text-lg font-medium text-gray-800",children:"내가 쓴 게시물"}),w.jsx("button",{className:"text-gray-700",children:w.jsx("i",{className:"fas fa-sliders-h text-lg"})})]})}),w.jsxs("main",{className:"pt-16 px-4",children:[l&&w.jsxs("div",{className:"flex justify-center py-3 text-sm text-gray-500",children:[w.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"새로고침 중..."]}),t.length>0?w.jsxs("div",{className:"space-y-4 pb-4",children:[t.map(b=>w.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[w.jsxs("div",{className:"p-4",children:[w.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-1",children:b.title}),w.jsx("p",{className:"text-xs text-gray-500 mb-2",children:new Date(b.created_at).toLocaleString()}),w.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:b.content}),w.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[w.jsxs("div",{className:"flex items-center mr-4",children:[w.jsx("i",{className:"fas fa-heart text-red-500 mr-1"}),w.jsx("span",{children:b.likes})]}),w.jsxs("div",{className:"flex items-center mr-4",children:[w.jsx("i",{className:"fas fa-thumbs-down text-gray-400 mr-1"}),w.jsx("span",{children:b.dislikes})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("i",{className:"fas fa-eye text-gray-400 mr-1"}),w.jsx("span",{children:b.views})]})]})]}),w.jsxs("div",{className:"flex text-sm border-t border-gray-100",children:[w.jsxs("button",{onClick:()=>p(b.id),className:"flex-1 py-2 text-blue-500 font-medium border-r border-gray-100",children:[w.jsx("i",{className:"fas fa-edit mr-1"})," 수정"]}),w.jsxs("button",{onClick:()=>y(b.id),className:"flex-1 py-2 text-red-500 font-medium",children:[w.jsx("i",{className:"fas fa-trash-alt mr-1"})," 삭제"]})]})]},b.id)),s&&w.jsx("div",{className:"flex justify-center py-4",children:w.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"})}),w.jsx("div",{className:"flex justify-center pt-2",children:w.jsx("button",{onClick:h,disabled:s,className:"px-4 py-2 bg-blue-500 text-white rounded-full text-sm font-medium shadow-sm hover:bg-blue-600",children:"더 보기"})})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[w.jsx("div",{className:"text-gray-400 mb-4",children:w.jsx("i",{className:"fas fa-file-alt text-5xl"})}),w.jsx("p",{className:"text-gray-500 mb-4",children:"아직 작성한 게시물이 없습니다"}),w.jsxs("button",{onClick:()=>n("/write"),className:"px-4 py-2 bg-blue-500 text-white rounded-full text-sm font-medium shadow-sm hover:bg-blue-600",children:[w.jsx("i",{className:"fas fa-plus mr-1"})," 첫 게시물 작성하기"]})]})]}),w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:w.jsxs("div",{className:"grid grid-cols-5 h-14",children:[w.jsxs("button",{className:"flex flex-col items-center justify-center",children:[w.jsx("i",{className:"fas fa-home text-gray-400"}),w.jsx("span",{className:"text-xs mt-1 text-gray-400",children:"홈"})]}),w.jsxs("button",{className:"flex flex-col items-center justify-center",children:[w.jsx("i",{className:"fas fa-search text-gray-400"}),w.jsx("span",{className:"text-xs mt-1 text-gray-400",children:"검색"})]}),w.jsxs("button",{className:"flex flex-col items-center justify-center",children:[w.jsx("i",{className:"fas fa-plus-circle text-blue-500 text-2xl"}),w.jsx("span",{className:"text-xs mt-1 text-blue-500",children:"작성"})]}),w.jsxs("button",{className:"flex flex-col items-center justify-center",children:[w.jsx("i",{className:"fas fa-bell text-gray-400"}),w.jsx("span",{className:"text-xs mt-1 text-gray-400",children:"알림"})]}),w.jsxs("button",{className:"flex flex-col items-center justify-center",children:[w.jsx("i",{className:"fas fa-file-alt text-blue-500"}),w.jsx("span",{className:"text-xs mt-1 text-blue-500",children:"게시물"})]})]})})]})},bL=()=>{const[n,e]=C.useState(""),[t,r]=C.useState(""),[s,a]=C.useState([]),[l,u]=C.useState("guide"),d=Pt.useUser(),h=lt(),p=C.useRef(null),y=v=>{if(v.target.files){const x=Array.from(v.target.files).filter(_=>_.type.startsWith("image/"));if(x.length>0){const _=x.map(k=>URL.createObjectURL(k));a([...s,..._])}}},b=async()=>{if(!d){alert("로그인이 필요합니다.");return}if(!n||!t||!l||s.length===0){alert("모든 항목을 입력해주세요.");return}const{data:v}=await me.from("profiles").select("nickname").eq("id",d.id).single(),{error:x}=await me.from("education_posts").insert([{title:n,description:t,image_url:s[0],category:l,user_id:d.id,author:(v==null?void 0:v.nickname)||"익명 운영자"}]);x?(console.error("등록 실패:",x.message),alert("등록에 실패했습니다.")):(alert("강의 정보가 등록되었습니다!"),h("/dashboard"))};return w.jsxs("div",{className:"max-w-screen-md mx-auto px-4 py-20",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{className:"text-xl font-bold",children:"강의 등록"}),w.jsx("button",{onClick:b,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"게시하기"})]}),w.jsx("input",{type:"text",placeholder:"제목을 입력하세요",value:n,onChange:v=>e(v.target.value),className:"w-full text-xl font-medium border-b py-2 mb-4"}),w.jsxs("select",{value:l,onChange:v=>u(v.target.value),className:"w-full border px-3 py-2 rounded mb-4",children:[w.jsx("option",{value:"guide",children:"운동지도"}),w.jsx("option",{value:"rehab",children:"재활 트레이닝"}),w.jsx("option",{value:"weight",children:"웨이트 트레이닝"}),w.jsx("option",{value:"pila",children:"필라테스"}),w.jsx("option",{value:"general",children:"기타"})]}),w.jsx("textarea",{placeholder:"내용을 입력하세요",value:t,onChange:v=>r(v.target.value),rows:10,className:"w-full border px-3 py-2 rounded mb-4"}),s.length>0&&w.jsx("img",{src:s[0],alt:"미리보기",className:"w-full h-48 object-cover rounded mb-4"}),w.jsx("input",{type:"file",ref:p,onChange:y,multiple:!0,accept:"image/*",className:"hidden"}),w.jsxs("div",{onClick:()=>{var v;return(v=p.current)==null?void 0:v.click()},className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-blue-400",children:[w.jsx("i",{className:"fas fa-image text-gray-400 text-2xl mb-2"}),w.jsx("p",{className:"text-gray-600",children:"이미지를 클릭하여 업로드"})]})]})},vL=()=>{const[n,e]=C.useState("reset"),[t,r]=C.useState(""),[s,a]=C.useState(""),[l,u]=C.useState(!1),[d,h]=C.useState(!1),[p,y]=C.useState(""),[b,v]=C.useState({password:"",confirmPassword:""}),x=lt();C.useEffect(()=>{(async()=>{const N=window.location.href.includes("#")?window.location.href.replace("#","?"):window.location.href,{data:O,error:B}=await me.auth.exchangeCodeForSession(N);(B||!O.session)&&(se.error("링크가 유효하지 않거나 만료되었습니다."),x("/login",{replace:!0}))})()},[x]),C.useEffect(()=>{if(!t)return y("");const E=/[a-zA-Z]/.test(t),N=/\d/.test(t),O=/[!@#$%^&*(),.?":{}|<>]/.test(t);t.length<8?y("weak"):E&&N&&O&&t.length>=10?y("strong"):y(E&&N||E&&O||N&&O?"medium":"weak")},[t]),C.useEffect(()=>{const E={password:"",confirmPassword:""};t&&t.length<8&&(E.password="비밀번호는 8자 이상이어야 합니다."),s&&t!==s&&(E.confirmPassword="비밀번호가 일치하지 않습니다."),v(E)},[t,s]);const _=()=>{switch(p){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-green-500";default:return"bg-gray-200"}},k=async()=>{if(b.password||b.confirmPassword||!t||t!==s)return;const{error:E}=await me.auth.updateUser({password:t});E?se.error("비밀번호 변경 실패: "+E.message):(se.success("비밀번호가 변경되었습니다."),e("complete"))};return w.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[w.jsx("div",{className:"fixed top-0 w-full bg-white shadow-sm z-10 px-4 py-3 flex items-center",children:w.jsx("h1",{className:"text-lg font-medium text-center w-full",children:n==="reset"?"비밀번호 재설정":"비밀번호 재설정 완료"})}),w.jsx("div",{className:"flex-1 pt-16 pb-24 px-5",children:n==="reset"?w.jsxs("div",{className:"mt-8",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호"}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx("input",{type:l?"text":"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"비밀번호 입력 (8자 이상)",value:t,onChange:E=>r(E.target.value)}),w.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>u(!l),children:w.jsx("i",{className:`fas ${l?"fa-eye-slash":"fa-eye"}`})})]}),b.password&&w.jsx("p",{className:"text-sm text-red-600",children:b.password}),t&&w.jsx("div",{className:"mt-3 mb-6",children:w.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full ${_()}`,style:{width:p==="weak"?"33%":p==="medium"?"66%":"100%"}})})}),w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호 확인"}),w.jsxs("div",{className:"relative mb-4",children:[w.jsx("input",{type:d?"text":"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"비밀번호 재입력",value:s,onChange:E=>a(E.target.value)}),w.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:()=>h(!d),children:w.jsx("i",{className:`fas ${d?"fa-eye-slash":"fa-eye"}`})})]}),b.confirmPassword&&w.jsx("p",{className:"text-sm text-red-600",children:b.confirmPassword}),!b.confirmPassword&&s&&w.jsx("p",{className:"text-sm text-green-600",children:"비밀번호가 일치합니다"}),w.jsx("button",{className:`w-full mt-6 py-3 px-4 rounded-lg text-white font-medium ${t.length>=8&&t===s?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,disabled:t.length<8||t!==s,onClick:k,children:"비밀번호 재설정"})]}):w.jsxs("div",{className:"text-center mt-24",children:[w.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-6",children:w.jsx("i",{className:"fas fa-check text-3xl text-green-600"})}),w.jsx("h2",{className:"text-xl font-bold mb-2",children:"비밀번호 재설정 완료"}),w.jsx("p",{className:"text-gray-600 mb-8",children:"새 비밀번호로 변경되었습니다"}),w.jsx("button",{onClick:()=>x("/login"),className:"w-full py-3 px-4 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium",children:"로그인하기"})]})})]})},xL=({children:n})=>{const e=Pt.useSession(),t=Jt();return e?w.jsx(w.Fragment,{children:n}):w.jsx(lw,{to:"/login",state:{from:t},replace:!0})},Xx=()=>w.jsxs(w.Fragment,{children:[w.jsx(AS,{}),w.jsx(Am,{children:w.jsx(V2,{})})]}),wL=()=>w.jsxs(Y2,{children:[w.jsx(_t,{path:"/login",element:w.jsx($R,{})}),w.jsx(_t,{path:"/signup/*",element:w.jsx(HR,{})}),w.jsx(_t,{path:"/reset-password",element:w.jsx(vL,{})}),w.jsxs(_t,{element:w.jsx(Xx,{}),children:[w.jsx(_t,{path:"/dashboard",element:w.jsx(x3,{})}),w.jsx(_t,{path:"/quiz/:id",element:w.jsx(nR,{})}),w.jsx(_t,{path:"/quiz-result/:resultId",element:w.jsx(iR,{})}),w.jsx(_t,{path:"/post/:id",element:w.jsx(gL,{})})]}),w.jsxs(_t,{element:w.jsx(xL,{children:w.jsx(Xx,{})}),children:[w.jsx(_t,{path:"/mypage",element:w.jsx(sR,{})}),w.jsx(_t,{path:"/myposts",element:w.jsx(yL,{})}),w.jsx(_t,{path:"/edit-profile",element:w.jsx(UR,{})}),w.jsx(_t,{path:"/write",element:w.jsx(Jx,{})}),w.jsx(_t,{path:"/write/:id",element:w.jsx(Jx,{})}),w.jsx(_t,{path:"/education/write",element:w.jsx(bL,{})})]}),w.jsx(_t,{path:"/",element:w.jsx(lw,{to:"/dashboard",replace:!0})})]}),SL=()=>{const n=Pt.useUser(),{isLoading:e}=Pt.useSessionContext(),t=lt(),r=Jt();return C.useEffect(()=>{const a=new URLSearchParams(r.search).get("type"),l=["/login","/signup"].includes(r.pathname),u=["signup","recovery"].includes(a??"");n&&l&&!u&&t("/dashboard",{replace:!0})},[n,r,t]),C.useEffect(()=>{(async()=>{if(!n||!n.email)return;const{data:a}=await me.from("profiles").select("id").eq("id",n.id).maybeSingle();if(a)return;const{nickname:l,name:u,phone:d,marketing:h,agreement:p}=n.user_metadata||{},{error:y}=await me.from("profiles").insert([{id:n.id,email:n.email,name:u||"",nickname:l||"",phone:d||"",bio:"",marketing:h??!1,agreement:p??!1}]);y?console.error("❌ profiles insert 실패:",y.message):console.log("✅ profiles 자동 저장 완료")})()},[n]),e?w.jsx("div",{className:"pt-28 text-center",children:"로딩 중..."}):(console.log("✅ 현재 유저 ID:",n==null?void 0:n.id),w.jsxs(w.Fragment,{children:[w.jsx(wL,{}),w.jsx(tR,{position:"top-center",autoClose:1500,closeOnClick:!0,pauseOnHover:!0,hideProgressBar:!0,newestOnTop:!0,draggable:!0,theme:"light"})]}))},_L=()=>w.jsx(Pt.SessionContextProvider,{supabaseClient:me,children:w.jsx(mC,{children:w.jsx(SL,{})})});ZE.createRoot(document.getElementById("root")).render(w.jsx(_L,{}));export{pl as g};
